<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <link rel="dns-prefetch" href="http://yoursite.com">
  <title>Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Blog">
<meta property="og:url" content="http://yoursite.com/page/8/index.html">
<meta property="og:site_name" content="Blog">
<meta property="og:locale">
<meta property="article:author" content="wangjungang">
<meta name="twitter:card" content="summary">
  
    <link rel="alternative" href="/atom.xml" title="Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.png">
  
  <link rel="stylesheet" type="text/css" href="/./main.0cf68a.css">
  <style type="text/css">
  
    #container.show {
      background: linear-gradient(200deg,#a0cfe4,#e8c37e);
    }
  </style>
  

  

<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container" q-class="show:isCtnShow">
    <canvas id="anm-canvas" class="anm-canvas"></canvas>
    <div class="left-col" q-class="show:isShow">
      
<div class="overlay" style="background: #4d4d4d"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			<img src="/img/avatar.jpg" class="js-avatar">
		</a>
		<hgroup>
		  <h1 class="header-author"><a href="/"></a></h1>
		</hgroup>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">ä¸»é¡µ</a></li>
	        
				<li><a href="/tags/%E9%9A%8F%E7%AC%94/">éšç¬”</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
    		
    			
    			<a q-on="click: openSlider(e, 'innerArchive')" href="javascript:void(0)">æ‰€æœ‰æ–‡ç« </a>
    			
            
    			
    			<a q-on="click: openSlider(e, 'friends')" href="javascript:void(0)">å‹é“¾</a>
    			
            
    			
    			<a q-on="click: openSlider(e, 'aboutme')" href="javascript:void(0)">å…³äºæˆ‘</a>
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/wangjungang" title="github"><i class="icon-github"></i></a>
		        
					<a class="qq" target="_blank" href="/1499370499" title="qq"><i class="icon-qq"></i></a>
		        
					<a class="weixin" target="_blank" href="/wangjungang" title="weixin"><i class="icon-weixin"></i></a>
		        
					<a class="mail" target="_blank" href="mailto:1499370499@qq.com" title="mail"><i class="icon-mail"></i></a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col" q-class="show:isShow,hide:isShow|isFalse">
      
<nav id="mobile-nav">
  	<div class="overlay js-overlay" style="background: #4d4d4d"></div>
	<div class="btnctn js-mobile-btnctn">
  		<div class="slider-trigger list" q-on="click: openSlider(e)"><i class="icon icon-sort"></i></div>
	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img src="/img/avatar.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author js-header-author"></h1>
			</hgroup>
			
			
			
				
			
				
			
			
			
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/wangjungang" title="github"><i class="icon-github"></i></a>
			        
						<a class="qq" target="_blank" href="/1499370499" title="qq"><i class="icon-qq"></i></a>
			        
						<a class="weixin" target="_blank" href="/wangjungang" title="weixin"><i class="icon-weixin"></i></a>
			        
						<a class="mail" target="_blank" href="mailto:1499370499@qq.com" title="mail"><i class="icon-mail"></i></a>
			        
				</div>
			</nav>

			<nav class="header-menu js-header-menu">
				<ul style="width: 50%">
				
				
					<li style="width: 50%"><a href="/">ä¸»é¡µ</a></li>
		        
					<li style="width: 50%"><a href="/tags/%E9%9A%8F%E7%AC%94/">éšç¬”</a></li>
		        
				</ul>
			</nav>
		</header>				
	</div>
	<div class="mobile-mask" style="display:none" q-show="isShow"></div>
</nav>

      <div id="wrapper" class="body-wrap">
        <div class="menu-l">
          <div class="canvas-wrap">
            <canvas data-colors="#eaeaea" data-sectionHeight="100" data-contentId="js-content" id="myCanvas1" class="anm-canvas"></canvas>
          </div>
          <div id="js-content" class="content-ll">
            
  
    <article id="post-git rebase ä»€ä¹ˆæ—¶å€™ç”¨" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/09/03/git%20rebase%20%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E7%94%A8/">git rebase ä»€ä¹ˆæ—¶å€™ç”¨</a>
    </h1>
  

        
        <a href="/2019/09/03/git%20rebase%20%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E7%94%A8/" class="archive-article-date">
  	<time datetime="2019-09-03T02:31:18.235Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2019-09-03</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><p>git rebase ä¿—ç§°å˜åŸºï¼Œä½œç”¨æ˜¯å°†æäº¤åˆ°æŸä¸€åˆ†æ”¯ä¸Šçš„æ‰€æœ‰ä¿®æ”¹éƒ½ç§»è‡³å¦ä¸€åˆ†æ”¯ä¸Šï¼Œå°±å¥½åƒâ€œé‡æ–°æ’­æ”¾â€ä¸€æ ·ã€‚è¿™æ ·æ“ä½œåï¼Œæäº¤å†å²ä¼šå˜å¾—ç®€æ´ï¼Œå¯è¯»æ€§æ›´é«˜ï¼Œå› ä¸ºæäº¤è®°å½•æ”¹å˜äº†æ—¶é—´çº¿ï¼ŒæŠŠæŸä¸ªå®Œæ•´åŠŸèƒ½çš„æäº¤è®°å½•æ•´åˆåœ¨äº†ä¸€èµ·ï¼Œä½¿å¾—è¿™æœŸé—´å…¶ä»–äººçš„æäº¤è®°å½•ä¸ä¼šç©¿æ’åˆ°å…¶ä¸­ï¼Œå¹²å‡€èˆ’çˆ½ï¼ğŸš¾ğŸ‘¯â€â™‚ï¸</p>
<h2 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h2><p>å®ƒçš„åŸç†æ˜¯é¦–å…ˆæ‰¾åˆ°ä¸¤ä¸ªåˆ†æ”¯ï¼ˆå½“å‰åˆ†æ”¯ experimentã€å˜åŸºæ“ä½œçš„ç›®æ ‡åŸºåº•åˆ†æ”¯ masterï¼‰çš„æœ€è¿‘å…±åŒç¥–å…ˆ C2ï¼Œç„¶åå¯¹æ¯”å½“å‰åˆ†æ”¯ç›¸å¯¹äºè¯¥ç¥–å…ˆçš„å†æ¬¡æäº¤ï¼Œæå–ç›¸åº”çš„ä¿®æ”¹å¹¶å­˜ä¸ºä¸´æ—¶æ–‡ä»¶ï¼Œç„¶åå°†å½“å‰åˆ†æ”¯æŒ‡å‘ç›®æ ‡åŸºåº• C3, æœ€åä»¥æ­¤å°†ä¹‹å‰å¦å­˜ä¸ºä¸´æ—¶æ–‡ä»¶çš„ä¿®æ”¹ä¾åºåº”ç”¨ã€‚</p>
<p><img src="http://img.wangjungang.cn/WX20190903-103613.png"></p>
<h2 id="é‡ç‚¹-â—â—â—"><a href="#é‡ç‚¹-â—â—â—" class="headerlink" title="é‡ç‚¹ â—â—â—"></a>é‡ç‚¹ â—â—â—</h2><p>å…·ä½“è¯¥å¦‚ä½•æ“ä½œç½‘ä¸Šæœ‰å¾ˆå¤šæ–‡ç« ï¼Œè¿™é‡Œåªæ˜¯è®°å½•ä¸€ä¸‹git rebaseä½¿ç”¨æ—¶è¯¥æ³¨æ„ä»€ä¹ˆ</p>
<ul>
<li>éœ€éµå¾ªçš„é‡‘ç§‘ç‰å¾‹ï¼šä¸è¦å¯¹åœ¨ä½ çš„ä»“åº“å¤–æœ‰å‰¯æœ¬çš„åˆ†æ”¯æ‰§è¡Œå˜åŸºã€‚</li>
</ul>
<p>å¦‚æœä½ éµå¾ªè¿™æ¡é‡‘ç§‘ç‰å¾‹ï¼Œå°±ä¸ä¼šå‡ºå·®é”™ã€‚ å¦åˆ™ï¼Œäººæ°‘ç¾¤ä¼—ä¼šä»‡æ¨ğŸŒšä½ ï¼Œä½ çš„æœ‹å‹å’Œå®¶äººä¹Ÿä¼šå˜²ç¬‘ğŸŒšä½ ï¼Œå”¾å¼ƒğŸŒšä½ ã€‚<br>åªè¦ä½ æŠŠå˜åŸºå‘½ä»¤å½“ä½œæ˜¯åœ¨æ¨é€å‰æ¸…ç†æäº¤ä½¿ä¹‹æ•´æ´çš„å·¥å…·ï¼Œå¹¶ä¸”åªåœ¨ä»æœªæ¨é€è‡³å…±ç”¨ä»“åº“çš„æäº¤ä¸Šæ‰§è¡Œå˜åŸºå‘½ä»¤ï¼Œå°±ä¸ä¼šæœ‰äº‹ã€‚ å‡å¦‚åœ¨é‚£äº›å·²ç»è¢«æ¨é€è‡³å…±ç”¨ä»“åº“çš„æäº¤ä¸Šæ‰§è¡Œå˜åŸºå‘½ä»¤ï¼Œå¹¶å› æ­¤ä¸¢å¼ƒäº†ä¸€äº›åˆ«äººçš„å¼€å‘æ‰€åŸºäºçš„æäº¤ï¼Œé‚£ä½ å°±æœ‰å¤§éº»çƒ¦äº†ï¼Œä½ çš„åŒäº‹ä¹Ÿä¼šå› æ­¤é„™è§†ğŸŒšä½ ã€‚</p>
<h2 id="å˜åŸº-vs-åˆå¹¶ğŸŒ"><a href="#å˜åŸº-vs-åˆå¹¶ğŸŒ" class="headerlink" title="å˜åŸº vs. åˆå¹¶ğŸŒ"></a>å˜åŸº vs. åˆå¹¶ğŸŒ</h2><p>ä½ ä¸€å®šä¼šæƒ³é—®ï¼Œåˆ°åº•å“ªç§æ–¹å¼æ›´å¥½ã€‚ åœ¨å›ç­”è¿™ä¸ªé—®é¢˜ä¹‹å‰ï¼Œè®©æˆ‘ä»¬é€€åä¸€æ­¥ï¼Œæƒ³è®¨è®ºä¸€ä¸‹æäº¤å†å²åˆ°åº•æ„å‘³ç€ä»€ä¹ˆã€‚</p>
<p>æœ‰ä¸€ç§è§‚ç‚¹è®¤ä¸ºï¼Œä»“åº“çš„æäº¤å†å²å³æ˜¯ è®°å½•å®é™…å‘ç”Ÿè¿‡ä»€ä¹ˆã€‚ å®ƒæ˜¯é’ˆå¯¹å†å²çš„æ–‡æ¡£ï¼Œæœ¬èº«å°±æœ‰ä»·å€¼ï¼Œä¸èƒ½ä¹±æ”¹ã€‚ ä»è¿™ä¸ªè§’åº¦çœ‹æ¥ï¼Œæ”¹å˜æäº¤å†å²æ˜¯ä¸€ç§äºµæ¸ï¼Œä½ ä½¿ç”¨ è°è¨€ æ©ç›–äº†å®é™…å‘ç”Ÿè¿‡çš„äº‹æƒ…ã€‚ å¦‚æœç”±åˆå¹¶äº§ç”Ÿçš„æäº¤å†å²æ˜¯ä¸€å›¢ç³Ÿæ€ä¹ˆåŠï¼Ÿ æ—¢ç„¶äº‹å®å°±æ˜¯å¦‚æ­¤ï¼Œé‚£ä¹ˆè¿™äº›ç—•è¿¹å°±åº”è¯¥è¢«ä¿ç•™ä¸‹æ¥ï¼Œè®©åäººèƒ½å¤ŸæŸ¥é˜…ã€‚<br>å¦ä¸€ç§è§‚ç‚¹åˆ™æ­£å¥½ç›¸åï¼Œä»–ä»¬è®¤ä¸ºæäº¤å†å²æ˜¯ é¡¹ç›®è¿‡ç¨‹ä¸­å‘ç”Ÿçš„äº‹ã€‚ æ²¡äººä¼šå‡ºç‰ˆä¸€æœ¬ä¹¦çš„ç¬¬ä¸€ç‰ˆè‰ç¨¿ï¼Œè½¯ä»¶ç»´æŠ¤æ‰‹å†Œä¹Ÿæ˜¯éœ€è¦åå¤ä¿®è®¢æ‰èƒ½æ–¹ä¾¿ä½¿ç”¨ã€‚ æŒè¿™ä¸€è§‚ç‚¹çš„äººä¼šä½¿ç”¨ rebase åŠ filter-branch ç­‰å·¥å…·æ¥ç¼–å†™æ•…äº‹ï¼Œæ€ä¹ˆæ–¹ä¾¿åæ¥çš„è¯»è€…å°±æ€ä¹ˆå†™ã€‚</p>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬å›åˆ°ä¹‹å‰çš„é—®é¢˜ä¸Šæ¥ï¼Œåˆ°åº•åˆå¹¶è¿˜æ˜¯å˜åŸºå¥½ï¼Ÿå¸Œæœ›ä½ èƒ½æ˜ç™½ï¼Œè¿™å¹¶æ²¡æœ‰ä¸€ä¸ªç®€å•çš„ç­”æ¡ˆã€‚ Git æ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„å·¥å…·ï¼Œå®ƒå…è®¸ä½ å¯¹æäº¤å†å²åšè®¸å¤šäº‹æƒ…ï¼Œä½†æ¯ä¸ªå›¢é˜Ÿã€æ¯ä¸ªé¡¹ç›®å¯¹æ­¤çš„éœ€æ±‚å¹¶ä¸ç›¸åŒã€‚ æ—¢ç„¶ä½ å·²ç»åˆ†åˆ«å­¦ä¹ äº†ä¸¤è€…çš„ç”¨æ³•ï¼Œç›¸ä¿¡ä½ èƒ½å¤Ÿæ ¹æ®å®é™…æƒ…å†µä½œå‡ºæ˜æ™ºçš„é€‰æ‹©ã€‚</p>
<ul>
<li>æ€»çš„åŸåˆ™æ˜¯ï¼Œåªå¯¹å°šæœªæ¨é€æˆ–åˆ†äº«ç»™åˆ«äººçš„æœ¬åœ°ä¿®æ”¹æ‰§è¡Œå˜åŸºæ“ä½œæ¸…ç†å†å²ï¼Œä»ä¸å¯¹å·²æ¨é€è‡³åˆ«å¤„çš„æäº¤æ‰§è¡Œå˜åŸºæ“ä½œ</li>
</ul>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color4">git</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2019/09/03/git%20rebase%20%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E7%94%A8/">å±•å¼€å…¨æ–‡ >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-iOSé€‚é…Darkæ¨¡å¼ï¼ˆOC" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/08/29/iOS%E9%80%82%E9%85%8DDark%E6%A8%A1%E5%BC%8F%EF%BC%88OC/">iOSé€‚é…Darkæ¨¡å¼ï¼ˆOCï¼‰</a>
    </h1>
  

        
        <a href="/2019/08/29/iOS%E9%80%82%E9%85%8DDark%E6%A8%A1%E5%BC%8F%EF%BC%88OC/" class="archive-article-date">
  	<time datetime="2019-08-29T04:25:47.552Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2019-08-29</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><p>iOS 13ç»ˆäºå¼•æ¥äº†æš—é»‘æ¨¡å¼ã€‚</p>
<p>æ¯å½“æ–°ç‰¹æ€§çš„åˆ°æ¥ï¼ŒiOSå¼€å‘è€…ä»¬æ—¢ç´§å¼ åˆæœ‰ç‚¹å°å…´å¥‹ï¼Œæ€€æ£ç€è¢«è™çš„å¿ƒæ€ï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹æš—é»‘æ¨¡å¼åˆ°åº•æ˜¯ä¸ªå•¥ã€‚</p>
<p>è™½ç„¶è¿™æ˜¯ä¸€ä¸ªè®¾è®¡é©±åŠ¨çš„éœ€æ±‚ï¼Œä½†æ˜¯æœ¬ç€ä¸€é¢—è™”è¯š(æš´èº)çš„å¿ƒï¼Œæˆ‘ä»¬è¿˜æ˜¯è¦ä¸€æ­¥æ­¥æ¥ï¼Œâ€œå·¥æ¬²å–„å…¶äº‹ã€å¿…å…ˆåˆ©å…¶å™¨â€ï¼Œææ¸…æ¥šåº”è¯¥æ€ä¹ˆåšã€‚</p>
<p>ä¸‹è½½ Xcode11ï¼Œè·‘èµ·æ¥ä½ çš„é¡¹ç›®ã€‚æ¨¡æ‹Ÿå™¨å¯åŠ¨åï¼Œåœ¨â€œè®¾ç½®â€-â€œå¼€å‘è€…â€ä¸­æ‰“å¼€â€œDark Appearanceâ€åï¼Œä½ çš„é¡¹ç›®å°±è‡ªåŠ¨è¿è¡Œåœ¨æš—é»‘æ¨¡å¼äº†ã€‚</p>
<p>æœ‰äº›ç•Œé¢ä¼šå¾ˆå¥‡æ€ªï¼Œè¿™å¾ˆæ­£å¸¸ï¼Œå¯ä»¥ä»ä¸€ä¸ªç•Œé¢å…¥æ‰‹ï¼Œä¸€æ­¥æ­¥ä¼˜åŒ–å®ƒã€‚</p>
<p>å¼€å‘è€…ä¸»è¦ä»é¢œè‰²å’Œå›¾ç‰‡ä¸¤ä¸ªæ–¹é¢è¿›è¡Œé€‚é…ï¼Œæˆ‘ä»¬ä¸éœ€è¦å…³å¿ƒåˆ‡æ¢æ¨¡å¼æ—¶è¯¥å¦‚ä½•æ“ä½œï¼Œè¿™äº›éƒ½ç”±ç³»ç»Ÿå¸®æˆ‘ä»¬å®ç°</p>
<h2 id="é¢œè‰²é€‚é…"><a href="#é¢œè‰²é€‚é…" class="headerlink" title="é¢œè‰²é€‚é…"></a>é¢œè‰²é€‚é…</h2><p>iOS13 ä¹‹å‰ UIColoråªèƒ½è¡¨ç¤ºä¸€ç§é¢œè‰²ï¼Œè€Œä» iOS13 å¼€å§‹UIColoræ˜¯ä¸€ä¸ªåŠ¨æ€çš„é¢œè‰²ï¼Œåœ¨Light Modeå’ŒDark Modeå¯ä»¥åˆ†åˆ«è®¾ç½®ä¸åŒçš„é¢œè‰²ã€‚</p>
<p>iOS13ç³»ç»Ÿæä¾›äº†ä¸€äº›åŠ¨æ€é¢œè‰²</p>
<pre><code>@property (class, nonatomic, readonly) UIColor *systemBrownColor        API_AVAILABLE(ios(13.0), tvos(13.0)) API_UNAVAILABLE(watchos);
@property (class, nonatomic, readonly) UIColor *systemIndigoColor       API_AVAILABLE(ios(13.0), tvos(13.0)) API_UNAVAILABLE(watchos);
@property (class, nonatomic, readonly) UIColor *systemGray2Color        API_AVAILABLE(ios(13.0)) API_UNAVAILABLE(tvos, watchos);
@property (class, nonatomic, readonly) UIColor *systemGray3Color        API_AVAILABLE(ios(13.0)) API_UNAVAILABLE(tvos, watchos);
@property (class, nonatomic, readonly) UIColor *systemGray4Color        API_AVAILABLE(ios(13.0)) API_UNAVAILABLE(tvos, watchos);
@property (class, nonatomic, readonly) UIColor *systemGray5Color        API_AVAILABLE(ios(13.0)) API_UNAVAILABLE(tvos, watchos);
@property (class, nonatomic, readonly) UIColor *systemGray6Color        API_AVAILABLE(ios(13.0)) API_UNAVAILABLE(tvos, watchos);
@property (class, nonatomic, readonly) UIColor *labelColor              API_AVAILABLE(ios(13.0), tvos(13.0)) API_UNAVAILABLE(watchos);
@property (class, nonatomic, readonly) UIColor *secondaryLabelColor     API_AVAILABLE(ios(13.0), tvos(13.0)) API_UNAVAILABLE(watchos);
@property (class, nonatomic, readonly) UIColor *tertiaryLabelColor      API_AVAILABLE(ios(13.0), tvos(13.0)) API_UNAVAILABLE(watchos);
@property (class, nonatomic, readonly) UIColor *quaternaryLabelColor    API_AVAILABLE(ios(13.0), tvos(13.0)) API_UNAVAILABLE(watchos);
@property (class, nonatomic, readonly) UIColor *linkColor               API_AVAILABLE(ios(13.0), tvos(13.0)) API_UNAVAILABLE(watchos);
@property (class, nonatomic, readonly) UIColor *placeholderTextColor    API_AVAILABLE(ios(13.0), tvos(13.0)) API_UNAVAILABLE(watchos);
@property (class, nonatomic, readonly) UIColor *separatorColor          API_AVAILABLE(ios(13.0), tvos(13.0)) API_UNAVAILABLE(watchos);
@property (class, nonatomic, readonly) UIColor *opaqueSeparatorColor    API_AVAILABLE(ios(13.0), tvos(13.0)) API_UNAVAILABLE(watchos);
@property (class, nonatomic, readonly) UIColor *systemBackgroundColor                   API_AVAILABLE(ios(13.0)) API_UNAVAILABLE(tvos, watchos);
@property (class, nonatomic, readonly) UIColor *secondarySystemBackgroundColor          API_AVAILABLE(ios(13.0)) API_UNAVAILABLE(tvos, watchos);
@property (class, nonatomic, readonly) UIColor *tertiarySystemBackgroundColor           API_AVAILABLE(ios(13.0)) API_UNAVAILABLE(tvos, watchos);
@property (class, nonatomic, readonly) UIColor *systemGroupedBackgroundColor            API_AVAILABLE(ios(13.0)) API_UNAVAILABLE(tvos, watchos);
@property (class, nonatomic, readonly) UIColor *secondarySystemGroupedBackgroundColor   API_AVAILABLE(ios(13.0)) API_UNAVAILABLE(tvos, watchos);
@property (class, nonatomic, readonly) UIColor *tertiarySystemGroupedBackgroundColor    API_AVAILABLE(ios(13.0)) API_UNAVAILABLE(tvos, watchos);
@property (class, nonatomic, readonly) UIColor *systemFillColor                         API_AVAILABLE(ios(13.0)) API_UNAVAILABLE(tvos, watchos);
@property (class, nonatomic, readonly) UIColor *secondarySystemFillColor                API_AVAILABLE(ios(13.0)) API_UNAVAILABLE(tvos, watchos);
@property (class, nonatomic, readonly) UIColor *tertiarySystemFillColor                 API_AVAILABLE(ios(13.0)) API_UNAVAILABLE(tvos, watchos);
@property (class, nonatomic, readonly) UIColor *quaternarySystemFillColor               API_AVAILABLE(ios(13.0)) API_UNAVAILABLE(tvos, watchos);
</code></pre>
<p>å®ä¾‹</p>
<p>[self.view setBackgroundColor:[UIColor systemBackgroundColor]];<br>[self.titleLabel setTextColor:[UIColor labelColor]];<br>[self.detailLabel setTextColor:[UIColor placeholderTextColor]];</p>
<h3 id="æ•ˆæœå±•ç¤º"><a href="#æ•ˆæœå±•ç¤º" class="headerlink" title="æ•ˆæœå±•ç¤º"></a>æ•ˆæœå±•ç¤º</h3><p><img src="http://img.wangjungang.cn/Lpkxxs.png"></p>
<p>ç”¨æ³•å’ŒiOS13ä¹‹å‰çš„ä¸€æ ·ï¼Œä½¿ç”¨ç³»ç»Ÿæä¾›çš„è¿™äº›åŠ¨æ€é¢œè‰²ï¼Œä¸éœ€è¦å…¶ä»–çš„é€‚é…æ“ä½œ</p>
<h3 id="è‡ªå®šä¹‰åŠ¨æ€UIColor"><a href="#è‡ªå®šä¹‰åŠ¨æ€UIColor" class="headerlink" title="è‡ªå®šä¹‰åŠ¨æ€UIColor"></a>è‡ªå®šä¹‰åŠ¨æ€UIColor</h3><p>åœ¨å®é™…å¼€å‘è¿‡ç¨‹ï¼Œç³»ç»Ÿæä¾›çš„è¿™äº›é¢œè‰²è¿˜è¿œè¿œä¸å¤Ÿï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦åˆ›å»ºæ›´å¤šçš„åŠ¨æ€é¢œè‰²</p>
<h4 id="åˆå§‹åŒ–åŠ¨æ€UIColoræ–¹æ³•"><a href="#åˆå§‹åŒ–åŠ¨æ€UIColoræ–¹æ³•" class="headerlink" title="åˆå§‹åŒ–åŠ¨æ€UIColoræ–¹æ³•"></a>åˆå§‹åŒ–åŠ¨æ€UIColoræ–¹æ³•</h4><p>iOS13 UIColorå¢åŠ äº†ä¸¤ä¸ªåˆå§‹åŒ–æ–¹æ³•ï¼Œä½¿ç”¨ä»¥ä¸‹æ–¹æ³•å¯ä»¥åˆ›å»ºåŠ¨æ€UIColor</p>
<p>æ³¨:ä¸€ä¸ªæ˜¯ç±»æ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯å®ä¾‹æ–¹æ³•</p>
<pre><code>+ (UIColor *)colorWithDynamicProvider:(UIColor * (^)(UITraitCollection *))dynamicProvider API_AVAILABLE(ios(13.0), tvos(13.0)) API_UNAVAILABLE(watchos);
- (UIColor *)initWithDynamicProvider:(UIColor * (^)(UITraitCollection *))dynamicProvider API_AVAILABLE(ios(13.0), tvos(13.0)) API_UNAVAILABLE(watchos);
</code></pre>
<ul>
<li><p>è¿™ä¸¤ä¸ªæ–¹æ³•è¦æ±‚ä¼ ä¸€ä¸ªblockè¿›å»</p>
</li>
<li><p>å½“ç³»ç»Ÿåœ¨LightModeå’ŒDarkModeä¹‹é—´ç›¸äº’åˆ‡æ¢æ—¶å°±ä¼šè§¦å‘æ­¤å›è°ƒ</p>
</li>
<li><p>è¿™ä¸ªblockä¼šè¿”å›ä¸€ä¸ªUITraitCollectionç±»</p>
</li>
<li><p>æˆ‘ä»¬éœ€è¦ä½¿ç”¨å…¶å±æ€§userInterfaceStyleï¼Œå®ƒæ˜¯ä¸€ä¸ªæšä¸¾ç±»å‹ï¼Œä¼šå‘Šè¯‰æˆ‘ä»¬å½“å‰æ˜¯LightModeè¿˜æ˜¯DarkMode</p>
<pre><code>  typedef NS_ENUM(NSInteger, UIUserInterfaceStyle) &#123;
      UIUserInterfaceStyleUnspecified,
      UIUserInterfaceStyleLight,
      UIUserInterfaceStyleDark,
  &#125; API_AVAILABLE(tvos(10.0)) API_AVAILABLE(ios(12.0)) API_UNAVAILABLE(watchos);
</code></pre>
</li>
</ul>
<h4 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h4><pre><code>UIColor *dyColor = [UIColor colorWithDynamicProvider:^UIColor * _Nonnull(UITraitCollection * _Nonnull trainCollection) &#123;
        if ([trainCollection userInterfaceStyle] == UIUserInterfaceStyleLight) &#123;
            return [UIColor redColor];
        &#125;
        else &#123;
            return [UIColor greenColor];
        &#125;
    &#125;];
    
 [self.bgView setBackgroundColor:dyColor];
</code></pre>
<h4 id="æ•ˆæœå±•ç¤º-1"><a href="#æ•ˆæœå±•ç¤º-1" class="headerlink" title="æ•ˆæœå±•ç¤º"></a>æ•ˆæœå±•ç¤º</h4><p><img src="http://img.wangjungang.cn/JQQHYK.png"></p>
<h2 id="å›¾ç‰‡é€‚é…"><a href="#å›¾ç‰‡é€‚é…" class="headerlink" title="å›¾ç‰‡é€‚é…"></a>å›¾ç‰‡é€‚é…</h2><ul>
<li>æ‰“å¼€Assets.xcassets</li>
<li>æ–°å»ºä¸€ä¸ªImage set</li>
</ul>
<p><img src="http://img.wangjungang.cn/sXRNaH.png"></p>
<ul>
<li><p>æ‰“å¼€å³ä¾§å·¥å…·æ ï¼Œç‚¹å‡»æœ€åä¸€æ ï¼Œæ‰¾åˆ°Appearancesï¼Œé€‰æ‹©Anyï¼ŒDark<br><img src="http://img.wangjungang.cn/Q2JXtr.png"></p>
</li>
<li><p>å°†ä¸¤ç§æ¨¡å¼ä¸‹ä¸åŒçš„å›¾ç‰‡èµ„æºéƒ½æ‹–è¿›å»</p>
</li>
</ul>
<p><img src="http://img.wangjungang.cn/dgaWfi.png"></p>
<ul>
<li><p>ä½¿ç”¨è¯¥å›¾ç‰‡</p>
<pre><code>  [_logoImage setImage:[UIImage imageNamed:@&quot;icon_logo&quot;]];
</code></pre>
</li>
</ul>
<p><img src="http://img.wangjungang.cn/BXxZgC.png"></p>
<p>å¤§åŠŸå‘Šæˆï¼Œå®Œæˆé¢œè‰²å’Œå›¾ç‰‡çš„Dark Modeé€‚é…</p>
<h2 id="è·å–å½“å‰æ¨¡å¼-Light-or-Dark"><a href="#è·å–å½“å‰æ¨¡å¼-Light-or-Dark" class="headerlink" title="è·å–å½“å‰æ¨¡å¼(Light or Dark)"></a>è·å–å½“å‰æ¨¡å¼(Light or Dark)</h2><p>æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦çŸ¥é“å½“å‰å¤„äºä»€ä¹ˆæ¨¡å¼ï¼Œå¹¶æ ¹æ®ä¸åŒçš„æ¨¡å¼æ‰§è¡Œä¸åŒçš„æ“ä½œ</p>
<p>iOS13ä¸­CGColorä¾ç„¶åªèƒ½è¡¨ç¤ºå•ä¸€çš„é¢œè‰²</p>
<p>é€šè¿‡è°ƒç”¨UITraitCollection.currentTraitCollection.userInterfaceStyle<br>è·å–å½“å‰æ¨¡å¼</p>
<h4 id="å®ä¾‹-1"><a href="#å®ä¾‹-1" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h4><pre><code>if (UITraitCollection.currentTraitCollection.userInterfaceStyle == UIUserInterfaceStyleDark) &#123;
      [self.titleLabel setText:@&quot;DarkMode&quot;];
 &#125;
  else &#123;
      [self.titleLabel setText:@&quot;LightMode&quot;];
  &#125;
 
</code></pre>
<h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><h3 id="ç›‘å¬æ¨¡å¼åˆ‡æ¢"><a href="#ç›‘å¬æ¨¡å¼åˆ‡æ¢" class="headerlink" title="ç›‘å¬æ¨¡å¼åˆ‡æ¢"></a>ç›‘å¬æ¨¡å¼åˆ‡æ¢</h3><p>æœ‰æ—¶æˆ‘ä»¬éœ€è¦ç›‘å¬ç³»ç»Ÿæ¨¡å¼çš„å˜åŒ–ï¼Œå¹¶ä½œå‡ºå“åº”</p>
<p>é‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦åœ¨éœ€è¦ç›‘å¬çš„viewControllerä¸­ï¼Œé‡å†™ä¸‹åˆ—å‡½æ•°</p>
<pre><code>// æ³¨æ„:å‚æ•°ä¸ºå˜åŒ–å‰çš„traitCollection
- (void)traitCollectionDidChange:(UITraitCollection *)previousTraitCollection;

// åˆ¤æ–­ä¸¤ä¸ªUITraitCollectionå¯¹è±¡æ˜¯å¦ä¸åŒ
- (BOOL)hasDifferentColorAppearanceComparedToTraitCollection:(UITraitCollection *)traitCollection;
</code></pre>
<h4 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><pre><code>- (void)traitCollectionDidChange:(UITraitCollection *)previousTraitCollection &#123;
    [super traitCollectionDidChange:previousTraitCollection];
    // traitå‘ç”Ÿäº†æ”¹å˜
    if ([self.traitCollection hasDifferentColorAppearanceComparedToTraitCollection:previousTraitCollection]) &#123;
    // æ‰§è¡Œæ“ä½œ
    &#125;
    &#125;
</code></pre>
<h3 id="CGColoré€‚é…"><a href="#CGColoré€‚é…" class="headerlink" title="CGColoré€‚é…"></a>CGColoré€‚é…</h3><p>æˆ‘ä»¬çŸ¥é“iOS13åï¼ŒUIColorèƒ½å¤Ÿè¡¨ç¤ºåŠ¨æ€é¢œè‰²ï¼Œä½†æ˜¯CGColorä¾ç„¶åªèƒ½è¡¨ç¤ºä¸€ç§é¢œè‰²ï¼Œé‚£ä¹ˆå¯¹äºCALayerç­‰å¯¹è±¡å¦‚ä½•é€‚é…æš—é»‘æ¨¡å¼å‘¢?å½“ç„¶æ˜¯åˆ©ç”¨ä¸Šä¸€èŠ‚æåˆ°çš„ç›‘å¬æ¨¡å¼åˆ‡æ¢çš„æ–¹æ³•å•¦ã€‚</p>
<h4 id="æ–¹å¼ä¸€-resolvedColor"><a href="#æ–¹å¼ä¸€-resolvedColor" class="headerlink" title="æ–¹å¼ä¸€:resolvedColor"></a>æ–¹å¼ä¸€:resolvedColor</h4><pre><code>// é€šè¿‡å½“å‰traitCollectionå¾—åˆ°å¯¹åº”UIColor
// å°†UIColorè½¬æ¢ä¸ºCGColor
- (UIColor *)resolvedColorWithTraitCollection:(UITraitCollection *)traitCollection;
</code></pre>
<p>ç¤ºä¾‹</p>
<pre><code>- (void)traitCollectionDidChange:(UITraitCollection *)previousTraitCollection &#123;
    [super traitCollectionDidChange:previousTraitCollection];
    
    UIColor *dyColor = [UIColor colorWithDynamicProvider:^UIColor * _Nonnull(UITraitCollection * _Nonnull trainCollection) &#123;
        if ([trainCollection userInterfaceStyle] == UIUserInterfaceStyleLight) &#123;
            return [UIColor redColor];
        &#125;
        else &#123;
            return [UIColor greenColor];
        &#125;
    &#125;];
    UIColor *resolvedColor = [dyColor resolvedColorWithTraitCollection:previousTraitCollection];
    layer.backgroundColor = resolvedColor.CGColor;
</code></pre>
<h4 id="æ–¹å¼äºŒ-performAsCurrent"><a href="#æ–¹å¼äºŒ-performAsCurrent" class="headerlink" title="æ–¹å¼äºŒ:performAsCurrent"></a>æ–¹å¼äºŒ:performAsCurrent</h4><pre><code>// ä½¿ç”¨å½“å‰trainCollectionè°ƒç”¨æ­¤æ–¹æ³•
- (void)performAsCurrentTraitCollection:(void (^)(void))actions;
</code></pre>
<p>ç¤ºä¾‹</p>
<pre><code>- (void)traitCollectionDidChange:(UITraitCollection *)previousTraitCollection &#123;
    [super traitCollectionDidChange:previousTraitCollection];
    
    UIColor *dyColor = [UIColor colorWithDynamicProvider:^UIColor * _Nonnull(UITraitCollection * _Nonnull trainCollection) &#123;
        if ([trainCollection userInterfaceStyle] == UIUserInterfaceStyleLight) &#123;
            return [UIColor redColor];
        &#125;
        else &#123;
            return [UIColor greenColor];
        &#125;
    &#125;];
    [self.traitCollection performAsCurrentTraitCollection:^&#123;
        layer.backgroundColor = dyColor.CGColor;
    &#125;];
    
&#125;
</code></pre>
<h4 id="æœ€ç®€å•çš„æ–¹æ³•"><a href="#æœ€ç®€å•çš„æ–¹æ³•" class="headerlink" title="æœ€ç®€å•çš„æ–¹æ³•"></a>æœ€ç®€å•çš„æ–¹æ³•</h4><p>ç›´æ¥è®¾ç½®ä¸ºä¸€ä¸ªåŠ¨æ€UIColorçš„CGColorå³å¯</p>
<pre><code>- (void)traitCollectionDidChange:(UITraitCollection *)previousTraitCollection &#123;
    [super traitCollectionDidChange:previousTraitCollection];
    UIColor *dyColor = [UIColor colorWithDynamicProvider:^UIColor * _Nonnull(UITraitCollection * _Nonnull trainCollection) &#123;
        if ([trainCollection userInterfaceStyle] == UIUserInterfaceStyleLight) &#123;
            return [UIColor redColor];
        &#125;
        else &#123;
            return [UIColor greenColor];
        &#125;
    &#125;];
        layer.backgroundColor = dyColor.CGColor;
&#125;
</code></pre>
<p>!!! è®¾ç½®layeré¢œè‰²éƒ½æ˜¯åœ¨traitCollectionDidChangeä¸­ï¼Œæ„å‘³ç€å¦‚æœæ²¡æœ‰å‘ç”Ÿæ¨¡å¼åˆ‡æ¢ï¼Œlayerå°†ä¼šæ²¡æœ‰é¢œè‰²ï¼Œéœ€è¦è®¾ç½®ä¸€ä¸ªåŸºæœ¬é¢œè‰²</p>
<h3 id="æ¨¡å¼åˆ‡æ¢æ—¶æ‰“å°log"><a href="#æ¨¡å¼åˆ‡æ¢æ—¶æ‰“å°log" class="headerlink" title="æ¨¡å¼åˆ‡æ¢æ—¶æ‰“å°log"></a>æ¨¡å¼åˆ‡æ¢æ—¶æ‰“å°log</h3><p>æ¨¡å¼åˆ‡æ¢æ—¶è‡ªåŠ¨æ‰“å°logï¼Œå°±ä¸éœ€è¦æˆ‘ä»¬ä¸€æ¬¡åˆä¸€æ¬¡çš„æ‰§è¡Œpoå‘½ä»¤äº†</p>
<p>åœ¨Xcodeèœå•æ Product-&gt;Scheme-&gt;Edit Scheme</p>
<p>é€‰æ‹©Run-&gt;Arguments-&gt;Arguments Passed On Launch</p>
<p>æ·»åŠ ä»¥ä¸‹å‘½ä»¤å³å¯</p>
<p>-UITraitCollectionChangeLoggingEnabled YES</p>
<p><img src="http://img.wangjungang.cn/SUAYYg.png"></p>
<h2 id="å¼ºè¡Œè®¾ç½®Appæ¨¡å¼"><a href="#å¼ºè¡Œè®¾ç½®Appæ¨¡å¼" class="headerlink" title="å¼ºè¡Œè®¾ç½®Appæ¨¡å¼"></a>å¼ºè¡Œè®¾ç½®Appæ¨¡å¼</h2><p>å½“ç³»ç»Ÿè®¾ç½®ä¸ºLight Modeæ—¶ï¼Œå¯¹æŸäº›Appçš„ä¸ªåˆ«é¡µé¢å¸Œæœ›ä¸€ç›´æ˜¾ç¤ºDark Modeä¸‹çš„æ ·å¼ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦å¼ºè¡Œè®¾ç½®å½“å‰ViewControllerçš„æ¨¡å¼äº†</p>
<pre><code>// è®¾ç½®å½“å‰viewæˆ–viewCongtrollerçš„æ¨¡å¼
@property(nonatomic) UIUserInterfaceStyle overrideUserInterfaceStyle;
</code></pre>
<h4 id="ç¤ºä¾‹-1"><a href="#ç¤ºä¾‹-1" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><pre><code>// è®¾ç½®ä¸ºDark Modeå³å¯
[self setOverrideUserInterfaceStyle:UIUserInterfaceStyleDark];
</code></pre>
<p>æ³¨æ„!!!</p>
<p>å½“æˆ‘ä»¬å¼ºè¡Œè®¾ç½®å½“å‰viewControllerä¸ºDark Modeåï¼Œè¿™ä¸ªviewControllerä¸‹çš„viewéƒ½æ˜¯Dark Mode</p>
<p>ç”±è¿™ä¸ªViewController presentå‡ºçš„ViewControllerä¸ä¼šå—åˆ°å½±å“ï¼Œä¾ç„¶è·Ÿéšç³»ç»Ÿçš„æ¨¡å¼<br>è¦æƒ³ä¸€é”®è®¾ç½®Appä¸‹æ‰€æœ‰çš„ViewControlleréƒ½æ˜¯Dark Modeï¼Œè¯·ç›´æ¥åœ¨Windowä¸Šæ‰§è¡Œ<br>overrideUserInterfaceStyle</p>
<p>å¯¹window.rootViewControllerå¼ºè¡Œè®¾ç½®Dark Modeä¹Ÿä¸ä¼šå½±å“åç»­presentå‡ºçš„ViewControllerçš„æ¨¡å¼</p>
<h2 id="NSAttributedStringä¼˜åŒ–"><a href="#NSAttributedStringä¼˜åŒ–" class="headerlink" title="NSAttributedStringä¼˜åŒ–"></a>NSAttributedStringä¼˜åŒ–</h2><h3 id="ä¸å»ºè®®çš„åšæ³•"><a href="#ä¸å»ºè®®çš„åšæ³•" class="headerlink" title="ä¸å»ºè®®çš„åšæ³•"></a>ä¸å»ºè®®çš„åšæ³•</h3><pre><code>NSDictionary *dic = @&#123;NSFontAttributeName:[UIFont systemFontOfSize:16]&#125;;
NSAttributedString *str = [[NSAttributedString alloc] initWithString:@&quot;å¯Œæ–‡æœ¬æ–‡æ¡ˆ&quot; attributes:dic];
</code></pre>
<h3 id="æ¨èçš„åšæ³•"><a href="#æ¨èçš„åšæ³•" class="headerlink" title="æ¨èçš„åšæ³•"></a>æ¨èçš„åšæ³•</h3><pre><code>// æ·»åŠ ä¸€ä¸ªNSForegroundColorAttributeNameå±æ€§
NSDictionary *dic = @&#123;NSFontAttributeName:[UIFont systemFontOfSize:16],NSForegroundColorAttributeName:[UIColor labelColor]&#125;;
NSAttributedString *str = [[NSAttributedString alloc] initWithString:@&quot;å¯Œæ–‡æœ¬æ–‡æ¡ˆ&quot; attributes:dic];
</code></pre>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color4">iOS</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2019/08/29/iOS%E9%80%82%E9%85%8DDark%E6%A8%A1%E5%BC%8F%EF%BC%88OC/">å±•å¼€å…¨æ–‡ >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-iOSé€‚é…Darkæ¨¡å¼ï¼ˆswiftï¼‰" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/08/29/iOS%E9%80%82%E9%85%8DDark%E6%A8%A1%E5%BC%8F%EF%BC%88swift%EF%BC%89/">iOSé€‚é…Darkæ¨¡å¼ï¼ˆswiftï¼‰</a>
    </h1>
  

        
        <a href="/2019/08/29/iOS%E9%80%82%E9%85%8DDark%E6%A8%A1%E5%BC%8F%EF%BC%88swift%EF%BC%89/" class="archive-article-date">
  	<time datetime="2019-08-29T04:04:01.216Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2019-08-29</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><p>ä»Šå¤©çš„ WWDC 19 ä¸Šå‘å¸ƒäº† iOS 13ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹å¦‚ä½•é€‚é… DarkMode</p>
<p>DarkMode ä¸»è¦ä»ä¸¤ä¸ªæ–¹é¢æ¥é€‚é…ï¼Œä¸€æ˜¯é¢œè‰²ï¼ŒäºŒæ˜¯å›¾ç‰‡ï¼Œé€‚é…çš„ä»£ç ä¸æ˜¯å¾ˆå¤šï¼Œæ¥ä¸‹æ¥è®©æˆ‘ä»¬ä¸€èµ·æ¥çœ‹çœ‹å…·ä½“æ˜¯æ€ä¹ˆæ“ä½œçš„å§ã€‚</p>
<h2 id="é¢œè‰²"><a href="#é¢œè‰²" class="headerlink" title="é¢œè‰²"></a>é¢œè‰²</h2><p>iOS 13 ä¹‹å‰ UIColor åªèƒ½è¡¨ç¤ºä¸€ç§é¢œè‰²ï¼Œä» iOS 13 å¼€å§‹ UIColor æ˜¯ä¸€ä¸ªåŠ¨æ€çš„é¢œè‰²ï¼Œå®ƒå¯ä»¥åœ¨ LightMode å’Œ DarkMode æ‹¥æœ‰ä¸åŒçš„é¢œè‰²ã€‚</p>
<p>iOS 13 ä¸‹ UIColor å¢åŠ äº†å¾ˆå¤šåŠ¨æ€é¢œè‰²ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹ç”¨ç³»ç»Ÿæä¾›çš„é¢œè‰²èƒ½å®ç°æ€ä¹ˆæ ·çš„æ•ˆæœã€‚</p>
<pre><code>// UIColor å¢åŠ çš„é¢œè‰²
@available(iOS 13.0, *)
open class var systemBackground: UIColor &#123; get &#125;
@available(iOS 13.0, *)
open class var label: UIColor &#123; get &#125;
@available(iOS 13.0, *)
open class var placeholderText: UIColor &#123; get &#125;
...

view.backgroundColor = UIColor.systemBackground
label.textColor = UIColor.label
placeholderLabel.textColor = UIColor.placeholderText
</code></pre>
<p><img src="http://img.wangjungang.cn/4k9GcY.png"></p>
<p>æ€ä¹ˆæ ·ï¼Œçœ‹èµ·æ¥å’Œ iOS 13 ä¹‹å‰è®¾ç½®ä¸€ä¸ªé¢œè‰²çš„æ–¹æ³•ä¸€æ ·å§ï¼Œç”¨è¿™ç§åŠ¨æ€é¢œè‰²ï¼Œç³»ç»Ÿç›´æ¥æ›¿æˆ‘ä»¬å®Œæˆäº†é€‚é…çš„å·¥ä½œï¼Œæ˜¯ä¸æ˜¯å¾ˆæ–¹ä¾¿å‘¢ã€‚</p>
<h3 id="å¦‚ä½•è‡ªå·±åˆ›å»ºä¸€ä¸ªåŠ¨æ€çš„-UIColor"><a href="#å¦‚ä½•è‡ªå·±åˆ›å»ºä¸€ä¸ªåŠ¨æ€çš„-UIColor" class="headerlink" title="å¦‚ä½•è‡ªå·±åˆ›å»ºä¸€ä¸ªåŠ¨æ€çš„ UIColor"></a>å¦‚ä½•è‡ªå·±åˆ›å»ºä¸€ä¸ªåŠ¨æ€çš„ UIColor</h3><p>ä¸Šé¢æˆ‘ä»¬è¯´åˆ°ç³»ç»Ÿæä¾›äº†ä¸€äº›åŠ¨æ€çš„é¢œè‰²ä¾›æˆ‘ä»¬ä½¿ç”¨ï¼Œä½†æ˜¯åœ¨æ­£å¸¸å¼€å‘ä¸­ï¼Œç³»ç»Ÿæä¾›çš„é¢œè‰²è‚¯å®šæ˜¯ä¸å¤Ÿç”¨çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦è‡ªå·±åˆ›å»ºåŠ¨æ€é¢œè‰²ã€‚</p>
<p>iOS 13 ä¸‹ UIColor å¢åŠ äº†ä¸€ä¸ªåˆå§‹åŒ–æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨è¿™ä¸ªåˆå§‹åŒ–æ–¹æ³•æ¥åˆ›å»ºåŠ¨æ€é¢œè‰²ã€‚</p>
<pre><code>@available(iOS 13.0, *)
public init(dynamicProvider: @escaping (UITraitCollection) -&gt; UIColor)
</code></pre>
<p>è¿™ä¸ªæ–¹æ³•è¦æ±‚ä¼ ä¸€ä¸ªé—­åŒ…è¿›å»ï¼Œå½“ç³»ç»Ÿä» LightMode å’Œ DarkMode ä¹‹é—´åˆ‡æ¢çš„æ—¶å€™å°±ä¼šè§¦å‘è¿™ä¸ªå›è°ƒã€‚</p>
<p>è¿™ä¸ªé—­åŒ…è¿”å›ä¸€ä¸ª UITraitCollection ç±»ï¼Œæˆ‘ä»¬è¦ç”¨è¿™ä¸ªç±»çš„ userInterfaceStyle å±æ€§ã€‚<br>userInterfaceStyle æ˜¯ä¸€ä¸ªæšä¸¾ï¼Œå£°æ˜å¦‚ä¸‹</p>
<pre><code>@available(iOS 12.0, *)
public enum UIUserInterfaceStyle : Int &#123;
    case unspecified
    case light
    case dark
&#125;
</code></pre>
<p>è¿™ä¸ªæšä¸¾ä¼šå‘Šè¯‰æˆ‘ä»¬å½“å‰æ˜¯ LightMode or DarkMode</p>
<p>ç°åœ¨æˆ‘ä»¬åˆ›å»ºä¸¤ä¸ª UIColor å¹¶èµ‹å€¼ç»™ view.backgroundColor å’Œ labelï¼Œä»£ç å¦‚ä¸‹</p>
<h2 id="å›¾ç‰‡é€‚é…"><a href="#å›¾ç‰‡é€‚é…" class="headerlink" title="å›¾ç‰‡é€‚é…"></a>å›¾ç‰‡é€‚é…</h2><p>æ‰“å¼€ Assets.xcassets æŠŠå›¾ç‰‡æ‹–æ‹½è¿›å»ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™æ ·çš„é¡µé¢</p>
<p><img src="http://img.wangjungang.cn/TfjhVe.png"></p>
<p>ç„¶åæˆ‘ä»¬åœ¨å³ä¾§å·¥å…·æ ä¸­ç‚¹å‡»æœ€åä¸€æ ï¼Œç‚¹å‡» Appearances é€‰æ‹© Any, Darkï¼Œå¦‚å›¾æ‰€ç¤º</p>
<p><img src="http://img.wangjungang.cn/odW7Fi.png"></p>
<p>æˆ‘ä»¬æŠŠ DarkMode çš„å›¾ç‰‡æ‹–è¿›å»ï¼Œå¦‚å›¾æ‰€ç¤º</p>
<p><img src="http://img.wangjungang.cn/rUnCyF.png"></p>
<p>æœ€åæˆ‘ä»¬åŠ ä¸Š ImageView çš„ä»£ç </p>
<pre><code>imageView.image = UIImage(named: &quot;icon&quot;)
</code></pre>
<p>ç°åœ¨æˆ‘ä»¬å°±å·²ç»å®Œæˆé¢œè‰²å’Œå›¾ç‰‡çš„ DarkMode é€‚é…ï¼Œæ˜¯ä¸æ˜¯å¾ˆç®€å•å‘¢ (æ‰‹åŠ¨æ»‘ç¨½)</p>
<h2 id="å¦‚ä½•è·å–å½“å‰æ¨¡å¼-Light-or-Dark"><a href="#å¦‚ä½•è·å–å½“å‰æ¨¡å¼-Light-or-Dark" class="headerlink" title="å¦‚ä½•è·å–å½“å‰æ¨¡å¼ (Light or Dark)"></a>å¦‚ä½•è·å–å½“å‰æ¨¡å¼ (Light or Dark)</h2><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä¸ç®¡æ˜¯é¢œè‰²è¿˜æ˜¯å›¾ç‰‡ï¼Œé€‚é…éƒ½æ˜¯ç³»ç»Ÿå®Œæˆçš„ï¼Œæˆ‘ä»¬ä¸ç”¨å…³å¿ƒç°åœ¨æ˜¯ä»€ä¹ˆæ ·çš„æ ·å¼ã€‚</p>
<p>ä½†æ˜¯åœ¨æŸäº›åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæœ‰æ ¹æ®å½“å‰æ ·å¼æ¥åšä¸€äº›å…¶ä»–é€‚é…çš„éœ€æ±‚ï¼Œè¿™æ—¶æˆ‘ä»¬å°±éœ€è¦çŸ¥é“ç°åœ¨ä»€ä¹ˆæ ·å¼ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥åœ¨ UIViewController æˆ– UIView ä¸­è°ƒç”¨ traitCollection.userInterfaceStyle æ¥è·å–å½“å‰è§†å›¾çš„æ ·å¼ï¼Œä»£ç å¦‚ä¸‹</p>
<pre><code>if trainCollection.userInterfaceStyle == .dark &#123;
    // Dark
&#125; else &#123;
    // Light
&#125;
</code></pre>
<p>é‚£ä¹ˆæˆ‘ä»¬ä»€ä¹ˆæ—¶å€™éœ€è¦ç”¨è¿™æ ·çš„æ–¹æ³•åšé€‚é…å‘¢ï¼Œæ¯”å¦‚è¯´å½“æˆ‘ä»¬ä½¿ç”¨ CGColor çš„æ—¶å€™ï¼Œä¸Šé¢è¯´åˆ° UIColor åœ¨ iOS 13 ä¸‹å˜æˆäº†ä¸€ä¸ªåŠ¨æ€é¢œè‰²ï¼Œä½†æ˜¯ CGColor ä»ç„¶åªèƒ½è¡¨ç¤ºå•ä¸€çš„é¢œè‰²ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬ä½¿ç”¨åˆ° CGColor çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨ä¸Šé¢çš„æ–¹æ³•åšé€‚é…ã€‚</p>
<h3 id="é¢œè‰²-1"><a href="#é¢œè‰²-1" class="headerlink" title="é¢œè‰²"></a>é¢œè‰²</h3><p>å¯¹äº CGColor æˆ‘ä»¬è¿˜æœ‰è¿˜æœ‰å¦ä¸€ç§é€‚é…æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹</p>
<pre><code>let resolvedColor = labelColor.resolvedColor(with: traitCollection)
layer.borderColor = resolvedColor.cgColor
</code></pre>
<p>resolvedColor æ–¹æ³•ä¼šæ ¹æ®ä¼ é€’è¿›å»çš„ traitCollection è¿”å›å¯¹åº”çš„é¢œè‰²ã€‚</p>
<h3 id="å¯¹äº-UIImage-æˆ‘ä»¬ä¹Ÿæœ‰ç±»ä¼¼çš„æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹"><a href="#å¯¹äº-UIImage-æˆ‘ä»¬ä¹Ÿæœ‰ç±»ä¼¼çš„æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹" class="headerlink" title="å¯¹äº UIImage æˆ‘ä»¬ä¹Ÿæœ‰ç±»ä¼¼çš„æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹"></a>å¯¹äº UIImage æˆ‘ä»¬ä¹Ÿæœ‰ç±»ä¼¼çš„æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹</h3><pre><code>let image = UIImage(named: &quot;icon&quot;)
let resovledImage = image?.imageAsset?.image(with: traitCollection)
</code></pre>
<h2 id="å¦‚ä½•ç›‘å¬æ¨¡å¼å˜åŒ–"><a href="#å¦‚ä½•ç›‘å¬æ¨¡å¼å˜åŒ–" class="headerlink" title="å¦‚ä½•ç›‘å¬æ¨¡å¼å˜åŒ–"></a>å¦‚ä½•ç›‘å¬æ¨¡å¼å˜åŒ–</h2><p>ä¸Šé¢æˆ‘ä»¬è¯´äº†å¦‚ä½•è·å–å½“å‰æ¨¡å¼ï¼Œä½†æ˜¯æˆ‘ä»¬è¦æ­é…ç›‘å¬æ–¹æ³•ä¸€èµ·ä½¿ç”¨ï¼Œå½“ light dark æ¨¡å¼åˆ‡æ¢çš„æ—¶å€™ï¼Œè¦æŠŠä¸Šé¢çš„ä»£ç å†æ‰§è¡Œä¸€éã€‚ç³»ç»Ÿä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå›è°ƒæ–¹æ³•ï¼Œå½“ light dark åˆ‡æ¢æ—¶å°±ä¼šè§¦å‘è¿™ä¸ªæ–¹æ³•ã€‚</p>
<pre><code>override func traitCollectionDidChange(_ previousTraitCollection: UITraitCollection?) &#123;
    super.traitCollectionDidChange(previousTraitCollection)
    if traitCollection.hasDifferentColorAppearance(comparedTo: previousTraitCollection) &#123;
        // é€‚é…ä»£ç 
    &#125;
&#125;
</code></pre>
<p>é¢˜å¤–è¯<br>å¦‚æœä½ è§‰å¾—è¿™æ ·ä¸º CGColor åšé€‚é…å¾ˆéº»çƒ¦ï¼Œé‚£ä¹ˆä¸å¦¨è¯•è¯• XYColor è¿™ä¸ªæ¡†æ¶ã€‚</p>
<h2 id="å¦‚ä½•æ”¹å˜å½“å‰æ¨¡å¼"><a href="#å¦‚ä½•æ”¹å˜å½“å‰æ¨¡å¼" class="headerlink" title="å¦‚ä½•æ”¹å˜å½“å‰æ¨¡å¼"></a>å¦‚ä½•æ”¹å˜å½“å‰æ¨¡å¼</h2><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨åŠ¨å›¾ä¸­æ˜¯ç›´æ¥æ”¹ç³»ç»Ÿçš„æ¨¡å¼ï¼Œä»è€Œè®© App çš„æ¨¡å¼ä¿®æ”¹ï¼Œä½†æ˜¯å¯¹äºæŸäº›æœ‰å¤œé—´æ¨¡å¼åŠŸèƒ½çš„ App æ¥è¯´ï¼Œå¦‚æœç”¨æˆ·æ‰“å¼€äº†å¤œé—´æ¨¡å¼ï¼Œé‚£ä¹ˆå³ä½¿ç°åœ¨ç³»ç»Ÿæ˜¯ light æ¨¡å¼ï¼Œä¹Ÿè¦å¼ºåˆ¶ç”¨ dark æ¨¡å¼ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ç”¨ä»¥ä¸‹ä»£ç å°†å½“å‰ UIViewController æˆ– UIView çš„æ¨¡å¼ã€‚</p>
<pre><code>overrideUserInterfaceStyle = .dark
print(traitCollection.userInterfaceStyle)  // dark
</code></pre>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è®¾ç½®äº† overrideUserInterfaceStyle ä¹‹åï¼ŒtraitCollection.userInterfaceStyle å°±æ˜¯æˆ‘ä»¬è®¾ç½®åçš„æ¨¡å¼äº†ã€‚</p>
<h4 id="éœ€è¦ç»™æ¯ä¸€ä¸ª-Controller-å’Œ-View-éƒ½è®¾ç½®ä¸€éå—"><a href="#éœ€è¦ç»™æ¯ä¸€ä¸ª-Controller-å’Œ-View-éƒ½è®¾ç½®ä¸€éå—" class="headerlink" title="éœ€è¦ç»™æ¯ä¸€ä¸ª Controller å’Œ View éƒ½è®¾ç½®ä¸€éå—"></a>éœ€è¦ç»™æ¯ä¸€ä¸ª Controller å’Œ View éƒ½è®¾ç½®ä¸€éå—</h4><p>ç­”æ¡ˆæ˜¯ä¸éœ€è¦ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€å¼ å›¾ã€‚</p>
<p><img src="http://img.wangjungang.cn/FtsSoE.png"></p>
<p>å½“æˆ‘ä»¬è®¾ç½®ä¸€ä¸ª controller ä¸º dark ä¹‹åï¼Œè¿™ä¸ª controller ä¸‹çš„ viewï¼Œéƒ½ä¼šæ˜¯ dark modeï¼Œä½†æ˜¯åç»­æ¨å‡ºçš„ controller ä»ç„¶æ˜¯è·Ÿéšç³»ç»Ÿçš„æ ·å¼ã€‚</p>
<p>å› ä¸ºè‹¹æœå¯¹ overrideUserInterfaceStyle å±æ€§çš„è§£é‡Šæ˜¯è¿™æ ·çš„ã€‚</p>
<p>å½“æˆ‘ä»¬åœ¨ä¸€ä¸ªæ™®é€šçš„ controlle, view ä¸Šé‡å†™è¿™ä¸ªå±æ€§ï¼Œåªä¼šå½±å“å½“å‰çš„è§†å›¾ï¼Œä¸ä¼šå½±å“å‰é¢çš„ controller å’Œåç»­æ¨å‡ºçš„  controllerã€‚</p>
<p>ä½†æ˜¯å½“æˆ‘ä»¬åœ¨ window ä¸Šè®¾ç½® overrideUserInterfaceStyle çš„æ—¶å€™ï¼Œå°±ä¼šå½±å“ window ä¸‹æ‰€æœ‰çš„ controller, viewï¼ŒåŒ…æ‹¬åç»­æ¨å‡ºçš„ controllerã€‚</p>
<p>æˆ‘ä»¬å›åˆ°åˆšåˆšçš„é—®é¢˜ä¸Šï¼Œå¦‚æœ App æ‰“å¼€å¤œé—´æ¨¡å¼ï¼Œé‚£ä¹ˆå¾ˆç®€å•æˆ‘ä»¬åªéœ€è¦è®¾ç½® window çš„ overrideUserInterfaceStyle å±æ€§å°±å¥½äº†ã€‚</p>
<p>é¢˜å¤–è¯ï¼š å½“æˆ‘ä»¬ç”¨ Xcode11 åˆ›å»ºé¡¹ç›®ï¼Œæˆ‘ä»¬ä¼šå‘ç°é¡¹ç›®ç»“æ„å‘ç”Ÿäº†å˜åŒ–ï¼Œwindow ä» AppDelegate ç§»åˆ° SceneDelegate ä¸­ã€‚é‚£ä¹ˆå¦‚ä½•è·å– SceneDelegate ä¸­çš„ window å‘¢ï¼Œä»£ç å¦‚ä¸‹</p>
<pre><code>// è¿™é‡Œå°±ç®€å•ä»‹ç»ä¸€ä¸‹ï¼Œå®é™…é¡¹ç›®ä¸­ï¼Œå¦‚æœæ˜¯iOSåº”ç”¨è¿™ä¹ˆå†™æ²¡é—®é¢˜ï¼Œä½†æ˜¯å¯¹äºiPadOSåº”ç”¨è¿˜éœ€è¦åˆ¤æ–­sceneçš„çŠ¶æ€æ˜¯å¦æ¿€æ´»
let scene = UIApplication.shared.connectedScenes.first?.delegate as? SceneDelegate
scene?.window?.overrideUserInterfaceStyle = .dark
</code></pre>
<h2 id="å…¶ä»–å†…å®¹"><a href="#å…¶ä»–å†…å®¹" class="headerlink" title="å…¶ä»–å†…å®¹"></a>å…¶ä»–å†…å®¹</h2><h3 id="Status-Bar"><a href="#Status-Bar" class="headerlink" title="Status Bar"></a>Status Bar</h3><p>ä¹‹å‰ Status Bar æœ‰ä¸¤ç§çŠ¶æ€ï¼Œdefault å’Œ lightContent</p>
<p>ç°åœ¨ Status Bar æœ‰ä¸‰ç§çŠ¶æ€ï¼Œdefault,  darkContent å’Œ lightContent</p>
<p>ç°åœ¨çš„ darkContent å¯¹åº”ä¹‹å‰çš„ defaultï¼Œç°åœ¨çš„ default ä¼šæ ¹æ®æƒ…å†µè‡ªåŠ¨é€‰æ‹© darkContent å’Œ lightContent</p>
<h3 id="UIActivityIndicatorView"><a href="#UIActivityIndicatorView" class="headerlink" title="UIActivityIndicatorView"></a>UIActivityIndicatorView</h3><p>ä¹‹å‰çš„ UIActivityIndicatorView æœ‰ä¸‰ç§ style åˆ†åˆ«ä¸º whiteLarge, white å’Œ grayï¼Œç°åœ¨å…¨éƒ¨åºŸå¼ƒã€‚</p>
<p>å¢åŠ ä¸¤ç§ style åˆ†åˆ«ä¸º medium å’Œ largeï¼ŒæŒ‡ç¤ºå™¨é¢œè‰²ç”¨ color å±æ€§ä¿®æ”¹ã€‚</p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color4">iOS</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2019/08/29/iOS%E9%80%82%E9%85%8DDark%E6%A8%A1%E5%BC%8F%EF%BC%88swift%EF%BC%89/">å±•å¼€å…¨æ–‡ >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-iOSè·å–å†…å­˜ä½¿ç”¨è¯·å°½å¿«" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/08/29/iOS%E8%8E%B7%E5%8F%96%E5%86%85%E5%AD%98%E4%BD%BF%E7%94%A8%E8%AF%B7%E5%B0%BD%E5%BF%AB/">iOSè·å–å†…å­˜ä½¿ç”¨æƒ…å†µ</a>
    </h1>
  

        
        <a href="/2019/08/29/iOS%E8%8E%B7%E5%8F%96%E5%86%85%E5%AD%98%E4%BD%BF%E7%94%A8%E8%AF%B7%E5%B0%BD%E5%BF%AB/" class="archive-article-date">
  	<time datetime="2019-08-29T03:32:43.512Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2019-08-29</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="åŠ å…¥å¤´æ–‡ä»¶"><a href="#åŠ å…¥å¤´æ–‡ä»¶" class="headerlink" title="åŠ å…¥å¤´æ–‡ä»¶"></a>åŠ å…¥å¤´æ–‡ä»¶</h3><pre><code>#import &lt;sys/sysctl.h&gt;

#import &lt;mach/mach.h&gt;
</code></pre>
<h3 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h3><pre><code>  //è·å–å½“å‰è®¾å¤‡å¯ç”¨å†…å­˜
 + (double)availableMemory&#123;
      vm_statistics_data_t vmStats;
      mach_msg_type_number_t infoCount = HOST_VM_INFO_COUNT;
      kern_return_t kernReturn = host_statistics(mach_host_self(),
                                           HOST_VM_INFO,
                                           (host_info_t)&amp;vmStats,
                                           &amp;infoCount);

    if (kernReturn != KERN_SUCCESS) &#123;
    return NSNotFound;
    &#125;
    return ((vm_page_size * vmStats.free_count)/1024.0)/1024.0;
&#125;

//è·å–å½“å‰ä»»åŠ¡æ‰€å ç”¨å†…å­˜
+ (double)usedMemory&#123;
    task_basic_info_data_t taskInfo;
    mach_msg_type_number_t infoCount = TASK_BASIC_INFO_COUNT;
    kern_return_t kernReturn = task_info(mach_task_self(),
                                     TASK_BASIC_INFO,
                                     (task_info_t)&amp;taskInfo,
                                     &amp;infoCount);

      if (kernReturn != KERN_SUCCESS) &#123;
      return NSNotFound;
      &#125;
      return taskInfo.resident_size/1024.0/1024.0;
&#125;
</code></pre>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color4">iOS</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2019/08/29/iOS%E8%8E%B7%E5%8F%96%E5%86%85%E5%AD%98%E4%BD%BF%E7%94%A8%E8%AF%B7%E5%B0%BD%E5%BF%AB/">å±•å¼€å…¨æ–‡ >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-iOS ä¸­å¤„ç†å®šæ—¶ä»»åŠ¡çš„å¸¸ç”¨æ–¹æ³•" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/08/29/iOS%20%E4%B8%AD%E5%A4%84%E7%90%86%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95/">iOS ä¸­å¤„ç†å®šæ—¶ä»»åŠ¡çš„å¸¸ç”¨æ–¹æ³•</a>
    </h1>
  

        
        <a href="/2019/08/29/iOS%20%E4%B8%AD%E5%A4%84%E7%90%86%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95/" class="archive-article-date">
  	<time datetime="2019-08-29T03:03:58.790Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2019-08-29</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><p>åœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œç»å¸¸ä¼šåœ¨ä»£ç ä¸­å¤„ç†ä¸€äº›éœ€è¦å»¶æ—¶æˆ–å®šæ—¶æ‰§è¡Œçš„ä»»åŠ¡ï¼ŒiOS ä¸­å¤„ç†å®šæ—¶ä»»åŠ¡çš„æ–¹æ³•åŒ…æ‹¬ performSelector æ–¹æ³•ã€NSTimerã€GCDã€CADisplayLinkï¼Œå…¶æœ¬è´¨éƒ½æ˜¯é€šè¿‡RunLoopæ¥å®ç°ï¼Œä¸‹é¢æˆ‘ä»¬å°±å¯¹è¿™å‡ ä¸ªæ–¹æ³•åšä¸€äº›æ€»ç»“ã€‚</p>
<h2 id="1-performSelectoræ–¹æ³•"><a href="#1-performSelectoræ–¹æ³•" class="headerlink" title="1. performSelectoræ–¹æ³•"></a>1. performSelectoræ–¹æ³•</h2><p>åœ¨NSRunLoop.hä¸­æœ‰å¯¹NSObjectç±»çš„æ‰©å±•æ–¹æ³•ï¼Œç®€å•æ˜“ç”¨ï¼š</p>
<pre><code>@interface NSObject (NSDelayedPerforming)

- (void)performSelector:(SEL)aSelector withObject:(nullable id)anArgument afterDelay:(NSTimeInterval)delay inModes:(NSArray&lt;NSRunLoopMode&gt; *)modes;
- (void)performSelector:(SEL)aSelector withObject:(nullable id)anArgument afterDelay:(NSTimeInterval)delay;

+ (void)cancelPreviousPerformRequestsWithTarget:(id)aTarget selector:(SEL)aSelector object:(nullable id)anArgument;
+ (void)cancelPreviousPerformRequestsWithTarget:(id)aTarget;

@end
</code></pre>
<h2 id="2-NSTimer"><a href="#2-NSTimer" class="headerlink" title="2. NSTimer"></a>2. NSTimer</h2><p>NSTimer æ˜¯æœ€å¸¸ä½¿ç”¨çš„å®šæ—¶å™¨ï¼Œä½¿ç”¨æ–¹å¼ç®€å•ï¼ŒNSTimer æ˜¯ä¹Ÿé€šè¿‡æ·»åŠ åˆ°RunLoopä¸­è¢«è§¦å‘å¹¶è¿›è¡Œå·¥ä½œçš„ï¼Œæ¡¥æ¥ CFRunLoopTimerRefã€‚NSTimerä¸­å®šä¹‰çš„å¸¸ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<pre><code>+ (NSTimer *)timerWithTimeInterval:(NSTimeInterval)ti invocation:(NSInvocation *)invocation repeats:(BOOL)yesOrNo;
+ (NSTimer *)scheduledTimerWithTimeInterval:(NSTimeInterval)ti invocation:(NSInvocation *)invocation repeats:(BOOL)yesOrNo;

+ (NSTimer *)timerWithTimeInterval:(NSTimeInterval)ti target:(id)aTarget selector:(SEL)aSelector userInfo:(nullable id)userInfo repeats:(BOOL)yesOrNo;
+ (NSTimer *)scheduledTimerWithTimeInterval:(NSTimeInterval)ti target:(id)aTarget selector:(SEL)aSelector userInfo:(nullable id)userInfo repeats:(BOOL)yesOrNo;

+ (NSTimer *)timerWithTimeInterval:(NSTimeInterval)interval repeats:(BOOL)repeats block:(void (^)(NSTimer *timer))block API_AVAILABLE(macosx(10.12), ios(10.0), watchos(3.0), tvos(10.0));
+ (NSTimer *)scheduledTimerWithTimeInterval:(NSTimeInterval)interval repeats:(BOOL)repeats block:(void (^)(NSTimer *timer))block API_AVAILABLE(macosx(10.12), ios(10.0), watchos(3.0), tvos(10.0));

- (instancetype)initWithFireDate:(NSDate *)date interval:(NSTimeInterval)interval repeats:(BOOL)repeats block:(void (^)(NSTimer *timer))block API_AVAILABLE(macosx(10.12), ios(10.0), watchos(3.0), tvos(10.0));
- (instancetype)initWithFireDate:(NSDate *)date interval:(NSTimeInterval)ti target:(id)t selector:(SEL)s userInfo:(nullable id)ui repeats:(BOOL)rep NS_DESIGNATED_INITIALIZER;
</code></pre>
<p>ä»¥ä¸‹æ˜¯åˆå§‹åŒ–NSTimerçš„ä¸åŒæ–¹å¼ï¼š</p>
<pre><code>// è‡ªåŠ¨åŠ å…¥currentRunLoop
self.timer = [NSTimer scheduledTimerWithTimeInterval:5 target:self selector:@selector(timerRuning) userInfo:nil repeats:YES];
//self.timer = [NSTimer scheduledTimerWithTimeInterval:5.0 repeats:YES block:^(NSTimer * _Nonnull timer) &#123; &#125;];

// æ‰‹åŠ¨åŠ å…¥RunLoop
self.timer = [NSTimer timerWithTimeInterval:5 target:self selector:@selector(timerRuning) userInfo:nil repeats:YES];
[[NSRunLoop currentRunLoop] addTimer:self.timer forMode:NSDefaultRunLoopMode];

// æŒ‡å®štimerè§¦å‘æ—¶åˆ»
NSTimeInterval timeInterval = [self timeIntervalSinceReferenceDate] + 30;
NSDate *newDate = [NSDate dateWithTimeIntervalSinceReferenceDate:timeInterval];
self.timer = [[NSTimer alloc] initWithFireDate:newDate interval:5 target:self selector:@selector(timerRuning) userInfo:nil repeats:YES];
[[NSRunLoop currentRunLoop] addTimer:self.timer forMode:NSDefaultRunLoopMode];
</code></pre>
<p>å¦‚æœå½“å‰ç•Œé¢ä¸­æœ‰UITableViewï¼Œåˆ™åœ¨ UITableView åœ¨æ»šåŠ¨è¿‡ç¨‹ä¸­ï¼Œä¸Šè¿°ä»£ç ä¸­çš„å®šæ—¶å™¨åˆ°äº†æ—¶é—´å¹¶æ²¡æœ‰è§¦å‘ã€‚æ ¹æ®RunLoopçš„ç›¸å…³çŸ¥è¯†ï¼ŒåŒä¸€æ—¶åˆ» RunLoop åªè¿è¡Œåœ¨ä¸€ç§ Mode ä¸Šï¼Œå¹¶ä¸”åªæœ‰è¿™ä¸ª Mode ç›¸å…³è”çš„æºæˆ–å®šæ—¶å™¨ä¼šè¢«ä¼ é€’æ¶ˆæ¯ï¼ŒmainRunLoop ä¸€èˆ¬å¤„äº  NSDefaultRunLoopModeï¼Œä½†æ˜¯åœ¨æ»šåŠ¨æˆ–è€…ç‚¹å‡»äº‹ä»¶ç­‰è§¦å‘æ—¶ï¼ŒmainRunLoop åˆ‡æ¢è‡³  NSEventTrackingRunLoopMode ï¼Œè€Œä¸Šé¢  timer è¢«åŠ å…¥çš„æ­£æ˜¯ NSDefaultRunLoopMode ï¼ˆæœªæŒ‡æ˜ä¹Ÿé»˜è®¤åŠ å…¥é»˜è®¤æ¨¡å¼ï¼‰ï¼Œæ‰€ä»¥æ»‘åŠ¨æ—¶æœªè§¦å‘å®šæ—¶æ“ä½œã€‚<br>è§£å†³æ–¹æ³•ï¼šæ·»åŠ timeråˆ°mainRunLoopçš„NSRunLoopCommonModeä¸­æˆ–è€…å­çº¿ç¨‹ä¸­ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯åŠ å…¥å­çº¿ç¨‹æ—¶è¦æ‰‹åŠ¨å¼€å¯å¹¶è¿è¡Œå­çº¿ç¨‹çš„RunLoopã€‚</p>
<pre><code>self.timer = [NSTimer scheduledTimerWithTimeInterval:5 target:self selector:@selector(timerRuning) userInfo:nil repeats:YES];
[[NSRunLoop currentRunLoop] addTimer:self.timer forMode:NSRunLoopCommonModes];
</code></pre>
<p>NSRunLoopCommonModeè¿™æ˜¯ä¸€ç»„å¯é…ç½®çš„å¸¸ç”¨æ¨¡å¼ã€‚å°†è¾“å…¥æºä¸æ­¤æ¨¡å¼ç›¸å…³è”ä¹Ÿä¼šå°†å…¶ä¸ç»„ä¸­çš„æ¯ä¸ªæ¨¡å¼ç›¸å…³è”ã€‚å¯¹äºCocoaåº”ç”¨ç¨‹åºï¼Œæ­¤é›†åˆé»˜è®¤åŒ…æ‹¬NSDefaultRunLoopModeï¼ŒNSPanelRunLoopModeå’ŒNSEventTrackingRunLoopModeã€‚</p>
<p>æ³¨æ„ï¼š</p>
<ul>
<li>iOS10ä»¥å‰åˆå§‹åŒ–çš„timeråœ¨è¿è¡ŒæœŸé—´ä¼šå¯¹targetè¿›è¡ŒæŒæœ‰ï¼Œå› æ­¤ï¼Œåœ¨é‡Šæ”¾æ—¶éœ€è¦æ‰‹åŠ¨è°ƒç”¨invalidateæ–¹æ³•ï¼Œå¹¶ç½®nilï¼›</li>
<li>timerä¸èƒ½åœ¨å½“å‰å®¿ä¸»çš„deallocæ–¹æ³•ä¸­è°ƒç”¨ï¼Œå› ä¸ºtimeræ²¡æœ‰è¢«é‡Šæ”¾å‰ï¼Œå½“å‰å®¿ä¸»ä¸ä¼šæ‰§è¡Œdeallocæ–¹æ³•ï¼›</li>
<li>å½“å‰RunLoopä¼šåˆ‡æ¢Modeï¼Œå› æ­¤å¯èƒ½å¯¼è‡´timerä¸æ˜¯ç«‹åˆ»è¢«è§¦å‘ã€‚</li>
<li>åœ¨åŒä¸€çº¿ç¨‹ä¸­ï¼Œtimeré‡å¤æ‰§è¡ŒæœŸé—´ï¼Œæœ‰å…¶ä»–è€—æ—¶ä»»åŠ¡æ—¶ï¼Œåœ¨æ”¹è€—æ—¶ä»»åŠ¡å®Œæˆå‰ä¹Ÿä¸ä¼šè§¦å‘å®šæ—¶ï¼Œåœ¨è€—æ—¶ä»»åŠ¡å®Œæˆåï¼Œtimerçš„å®šæ—¶ä»»åŠ¡ä¼šç»§ç»­æ‰§è¡Œã€‚</li>
<li>dispatch_source_set_timerä¸­è®¾ç½®å¯åŠ¨æ—¶é—´ï¼Œdispatch_time_tå¯é€šè¿‡ä¸¤ä¸ªæ–¹æ³•ç”Ÿæˆï¼šdispatch_time å’Œ dispatch_walltime</li>
</ul>
<h2 id="3-GCDå®šæ—¶å™¨"><a href="#3-GCDå®šæ—¶å™¨" class="headerlink" title="3. GCDå®šæ—¶å™¨"></a>3. GCDå®šæ—¶å™¨</h2><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡GCDä¸­çš„æ–¹æ³•å®ç°å®šæ—¶å™¨æ¥å¤„ç†å®šæ—¶ä»»åŠ¡ï¼Œå®ç°çš„ä»£ç é€»è¾‘å¦‚ä¸‹ï¼š</p>
<pre><code>// 1. åˆ›å»º dispatch sourceï¼ŒæŒ‡å®šæ£€æµ‹äº‹ä»¶ä¸ºå®šæ—¶
dispatch_source_t timer = dispatch_source_create(DISPATCH_SOURCE_TYPE_TIMER, 0, 0, dispatch_get_global_queue(&quot;Timer_Queue&quot;, 0));
// 2. è®¾ç½®å®šæ—¶å™¨å¯åŠ¨æ—¶é—´ã€é—´éš”
dispatch_source_set_timer(timer, DISPATCH_TIME_NOW, 0.5 * NSEC_PER_SEC,  0 * NSEC_PER_SEC); 
// 3. è®¾ç½®callback
dispatch_source_set_event_handler(timer, ^&#123;
        NSLog(@&quot;timer fired&quot;);
    &#125;);
dispatch_source_set_event_handler(timer, ^&#123;
       //å–æ¶ˆå®šæ—¶å™¨æ—¶ä¸€äº›æ“ä½œ
    &#125;);
// 4. å¯åŠ¨å®šæ—¶å™¨ï¼ˆåˆšåˆ›å»ºçš„sourceå¤„äºè¢«æŒ‚èµ·çŠ¶æ€ï¼‰
dispatch_resume(timer);
// 5. æš‚åœå®šæ—¶å™¨
dispatch_suspend(timer);
// 6. å–æ¶ˆå®šæ—¶å™¨
dispatch_source_cancel(timer);
timer = nil;
</code></pre>
<p>å½“æˆ‘ä»¬æƒ³è¦timeråªæ˜¯å»¶æ—¶æ‰§è¡Œä¸€æ¬¡æ—¶ï¼Œåªè°ƒç”¨ä»¥ä¸‹æ–¹æ³•å³å¯ï¼š</p>
<pre><code>// åœ¨ä¸»çº¿ç¨‹ä¸­å»¶æ—¶5sä¸­æ‰§è¡Œ
dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(5.0 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^&#123;
        
    &#125;);
</code></pre>
<p>æ³¨æ„ï¼š</p>
<ul>
<li>æ­£åœ¨æ‰§è¡Œçš„ blockï¼Œåœ¨è°ƒç”¨dispatch_suspend(timer)æ—¶ï¼Œå½“å‰blockå¹¶ä¸ä¼šç«‹å³åœæ­¢è€Œæ˜¯ç»§ç»­æ‰§è¡Œè‡³å®Œæˆï¼›</li>
<li>dispatch sourceåœ¨æŒ‚èµ·æ—¶ï¼Œç›´æ¥è®¾ç½®ä¸º nil æˆ–è€…é‡æ–°èµ‹å€¼éƒ½ä¼šé€ æˆcrashï¼Œéœ€è¦åœ¨activateçš„çŠ¶æ€ä¸‹è°ƒç”¨dispatch_source_cancel(timer)åç½®ä¸º nil æˆ–è€…é‡æ–°èµ‹å€¼ï¼›</li>
<li>dispatch_source_cancelæ–¹æ³•å¯ä»¥åœ¨dispatch_source_set_event_handlerä¸­è°ƒç”¨ï¼Œå³timerå¯å†…éƒ¨æŒæœ‰ä¹Ÿå¯å¤–éƒ¨æŒæœ‰ï¼›</li>
<li>dispatch_resumeå’Œdispatch_suspendè°ƒç”¨éœ€æˆå¯¹å‡ºç°ï¼Œå¦åˆ™ä¼šcrashï¼›</li>
<li>dispatch sourceä¼šæ¯” NSTimer æ›´ç²¾å‡†ä¸€äº›ã€‚</li>
</ul>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color4">iOS</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2019/08/29/iOS%20%E4%B8%AD%E5%A4%84%E7%90%86%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95/">å±•å¼€å…¨æ–‡ >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-Sign in with Apple" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/08/29/Sign%20in%20with%20Apple/">Sign in with Apple</a>
    </h1>
  

        
        <a href="/2019/08/29/Sign%20in%20with%20Apple/" class="archive-article-date">
  	<time datetime="2019-08-29T02:43:48.661Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2019-08-29</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><p>æœ€è¿‘äº†è§£äº†iOS13 æ–°å¢çš„åŠŸèƒ½ä¹‹Sign In With Appleã€‚ä¼šè¾“å‡º2ç¯‡æ–‡ç« ï¼Œç»™å¤§å®¶åˆ†äº«ä¸€ä¸‹ã€‚è¿™æ˜¯ç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œä¸»è¦çš„å†…å®¹ä¸ºSign In With AppleåŠç›¸å…³åè¯çš„ä»‹ç»ï¼ŒåŠåœ¨iOSä¸Šçš„åŸºç¡€ä½¿ç”¨ã€‚</p>
<h2 id="Sign-in-with-Appleæ˜¯ä»€ä¹ˆ"><a href="#Sign-in-with-Appleæ˜¯ä»€ä¹ˆ" class="headerlink" title="Sign in with Appleæ˜¯ä»€ä¹ˆ"></a>Sign in with Appleæ˜¯ä»€ä¹ˆ</h2><p>è‹¹æœå®˜æ–¹ æ˜¯è¿™ä¹ˆä»‹ç»çš„Sign In With Apple</p>
<p>The fast, easy way to sign in to apps and websites.<br>Sign In With Apple æ˜¯ä¸€ç§åœ¨app å’Œç½‘ç«™ä¸Šå¿«é€Ÿã€å®¹æ˜“ç™»å½•çš„æ–¹å¼ã€‚<br>Sign In with Apple makes it easy for users to sign in to your apps and websites using their Apple ID. Instead of filling out forms, verifying email addresses, and choosing new passwords, they can use Sign In with Apple to set up an account and start using your app right away. All accounts are protected with two-factor authentication for superior security, and Apple will not track usersâ€™ activity in your app or website.</p>
<p>å¯¹äºç”¨æˆ·æ¥è¯´ï¼ŒSign In With Apple ä½¿ä»–ä»¬å¯ä»¥ä½¿ç”¨Apple IDå®¹æ˜“åœ°ç™»å½•appså’Œç½‘ç«™ã€‚è€Œä¸éœ€è¦å¡«å†™è¡¨å•ï¼ŒéªŒè¯é‚®ä»¶ï¼Œé€‰æ‹©æ–°å¯†ç ã€‚ç”¨æˆ·å¯ä»¥ä½¿ç”¨Sign In With Apple åˆ›å»ºæ–°ç”¨æˆ·å¹¶ç«‹å³å¯ä»¥å¼€å§‹ä½¿ç”¨ä½ çš„appã€‚ä¸ºäº†æé«˜å®‰å…¨æ€§ï¼ŒåŒé‡å› å­éªŒè¯ä¿æŠ¤äº†å¸å·çš„å®‰å…¨æ€§ã€‚è€Œä¸”Apple ä¸ä¼šè·Ÿè¸ªç”¨æˆ·åœ¨app å’Œç½‘ç«™çš„è¡Œä¸ºä¿¡æ¯ã€‚</p>
<h3 id="1-åŒé‡å› å­éªŒè¯"><a href="#1-åŒé‡å› å­éªŒè¯" class="headerlink" title="1. åŒé‡å› å­éªŒè¯"></a>1. åŒé‡å› å­éªŒè¯</h3><p>è¿™é‡Œç¬”è€…ä¸¾ä¸ªä¾‹å­è¯´æ˜ä¸€ä¸‹åŒé‡å› å­éªŒè¯ã€‚æ¯”å¦‚ï¼š</p>
<p>å‰æï¼šæˆ‘ä»¬æœ‰2ä¸ªè‹¹æœè®¾å¤‡Aï¼ŒBã€‚æˆ‘ä»¬å·²ç»åœ¨è®¾å¤‡Aä¸Šç™»å½•è¿‡äº†è‹¹æœå¸å·QiShareï¼ŒB è®¾å¤‡ä¸Šè¿˜æ²¡æœ‰ç™»å½•è‹¹æœå¸å·ã€‚</p>
<p>éœ€æ±‚ï¼šæˆ‘ä»¬è¦åœ¨Bä¸Šä¹Ÿç™»å½•QiShareå¸å·</p>
<p>æ­¥éª¤ï¼šå½“æˆ‘ä»¬åœ¨B è®¾å¤‡ä¸Šè¾“å…¥æ­£ç¡®çš„QiShareå¸å·å¯†ç åï¼Œè®¾å¤‡Bä¸Šä¼šæç¤ºï¼Œéœ€è¦è¾“å…¥ä¸€ä¸ªéªŒè¯ç ï¼ŒA è®¾å¤‡ä¸Šä¼šæ˜¾ç¤ºå‡ºBè®¾å¤‡åœ¨ä»€ä¹ˆä½ç½®è¦ç™»å½•QiShareå¸å·ï¼Œæ˜¯å¦åŒæ„ã€‚è€Œè¿™ä¸ªéªŒè¯ç ä¼šæ˜¾ç¤ºåœ¨A è®¾å¤‡ä¸Šã€‚</p>
<p>ç¬”è€…å¯¹è¿™é‡Œçš„åŒé‡å› å­çš„ç†è§£æ˜¯ï¼š</p>
<p>1.1. æ­£ç¡®çš„AppleID åŠç›¸åº”å¯†ç ï¼›</p>
<p>1.2. éœ€è¦åœ¨å·²ç»ç™»å½•è¿‡å¸å·å¯†ç çš„è®¾å¤‡ä¸ŠåŒæ„ç™»å½•è¯·æ±‚å¹¶ä¸”æä¾›éªŒè¯ç ã€‚</p>
<p>æ¥ç€ä¸Šè¾¹çš„æè¿°ï¼Œä¸ºäº†ç›´è§‚çš„è¡¨ç¤ºç›¸å…³ä¿¡æ¯ï¼Œå¤§å®¶å¯ä»¥çœ‹ä¸‹è¾¹çš„ä¸€ç»„å›¾ï¼Œåº”è¯¥å°±èƒ½å¤Ÿç†è§£ç¬”è€…è¦è¡¨è¾¾çš„æ„æ€äº†ã€‚</p>
<p>åœ¨Bè®¾å¤‡ä¸Šç™»å½•QiShareå¸å·ï¼Œæˆªå›¾çœç•¥ã€‚</p>
<p>æ­¤æ—¶ï¼Œå·²ç»ç™»å½•è¿‡QiShareå¸å·çš„è®¾å¤‡Açš„æç¤ºå¦‚ä¸‹ï¼š</p>
<p><img src="http://img.wangjungang.cn/WX20190829-104637.png"></p>
<p>3 è¦ç™»å½•QiShareå¸å·çš„è®¾å¤‡Bçš„æç¤º</p>
<p><img src="http://img.wangjungang.cn/OhFm5m.png"></p>
<p>4.å·²ç™»å½•è¿‡QiShareå¸å·çš„è®¾å¤‡Aæç¤ºçš„éªŒè¯ç </p>
<p><img src="http://img.wangjungang.cn/wClcpk.png"></p>
<p>5.è®¾å¤‡Bçš„æç¤ºæ˜¯å¦ä¿¡ä»»æµè§ˆå™¨ï¼Œå¦‚æœä¿¡ä»»äº†æµè§ˆå™¨ï¼Œä»¥åå°±ä¸å†éœ€è¦æ¯æ¬¡ç™»å½•å¸å·ï¼Œéƒ½éœ€è¦Aè®¾å¤‡ä¸ŠåŒæ„</p>
<p><img src="http://img.wangjungang.cn/M6nb1x.png"></p>
<h3 id="2-å¼€å‘Sign-In-With-Appleçš„æ³¨æ„äº‹é¡¹ï¼š"><a href="#2-å¼€å‘Sign-In-With-Appleçš„æ³¨æ„äº‹é¡¹ï¼š" class="headerlink" title="2. å¼€å‘Sign In With Appleçš„æ³¨æ„äº‹é¡¹ï¼š"></a>2. å¼€å‘Sign In With Appleçš„æ³¨æ„äº‹é¡¹ï¼š</h3><p>Sign In With Apple æ˜¯iOS13 æ–°å¢çš„åŠŸèƒ½ï¼Œéœ€è¦ä½¿ç”¨ï¼š MacOS 10.14.4æˆ–ä¹‹åçš„Macä¸Šçš„Xcode 11å¼€å‘ã€‚</p>
<pre><code>Xcode 11 includes SDKs for iOS 13, macOS Catalina 10.15, watchOS 6, and tvOS 13. Xcode 11 supports on-device debugging for iOS 8 and later, tvOS 9 and later, and watchOS 2 and later. Xcode 11 requires a Mac running macOS Mojave 10.14.4 or later.
Xcode 11 åŒ…å«æ”¯æŒiOS13ã€macOS Catalina 10.15, watchOS 6, and tvOS 13çš„SDKï¼ŒXcode11 æ”¯æŒiOS8ã€tvOS2 æˆ–ä¹‹åçš„è®¾å¤‡ï¼ŒXcode11 éœ€è¦è¿è¡Œåœ¨MacOS 10.14.4æˆ–ä¹‹åçš„Macä¸Šã€‚
</code></pre>
<p>Sign In With Apple æ˜¯è·¨å¹³å°çš„ï¼Œå¯ä»¥æ”¯æŒiOSã€macOSã€watchOSã€tvOSã€JSã€‚</p>
<h2 id="äºŒã€-iOS-Sign-In-With-Apple-æµç¨‹"><a href="#äºŒã€-iOS-Sign-In-With-Apple-æµç¨‹" class="headerlink" title="äºŒã€ iOS Sign In With Apple æµç¨‹"></a>äºŒã€ iOS Sign In With Apple æµç¨‹</h2><p>ä½¿ç”¨Sign In With Apple çš„æµç¨‹ä¸ºï¼š</p>
<ul>
<li>è®¾ç½®ASAuthorizationAppleIDButtonç›¸å…³å¸ƒå±€ï¼Œæ·»åŠ ç›¸åº”åœ°æˆæƒå¤„ç†ï¼›</li>
<li>è·å–æˆæƒç ï¼›</li>
<li>éªŒè¯ï¼›</li>
<li>å¤„ç†Sign In With AppleæˆæƒçŠ¶æ€å˜åŒ–ï¼›</li>
</ul>
<p>ä¸‹è¾¹å±•å¼€æè¿°ä¸‹iOS ä½¿ç”¨Sign In With Appleçš„å‡†å¤‡å·¥ä½œã€å¯èƒ½é‡åˆ°çš„é—®é¢˜åŠæµç¨‹ã€‚</p>
<h3 id="1-iOS-ä½¿ç”¨Sign-In-With-Appleçš„å‡†å¤‡å·¥ä½œï¼š"><a href="#1-iOS-ä½¿ç”¨Sign-In-With-Appleçš„å‡†å¤‡å·¥ä½œï¼š" class="headerlink" title="1. iOS ä½¿ç”¨Sign In With Appleçš„å‡†å¤‡å·¥ä½œï¼š"></a>1. iOS ä½¿ç”¨Sign In With Appleçš„å‡†å¤‡å·¥ä½œï¼š</h3><p>1.1åœ¨Xcode11 Signing &amp; Capabilities ä¸­æ·»åŠ  Sign In With Apple</p>
<h3 id="2-iOS-ä½¿ç”¨Sign-In-With-Appleå¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼š"><a href="#2-iOS-ä½¿ç”¨Sign-In-With-Appleå¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼š" class="headerlink" title="2. iOS ä½¿ç”¨Sign In With Appleå¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼š"></a>2. iOS ä½¿ç”¨Sign In With Appleå¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼š</h3><p>2.1 å¼€å¯åŒé‡å› å­éªŒè¯çš„æ–¹å¼ï¼š</p>
<p>åŒé‡å› å­éªŒè¯çš„å¼€å¯ï¼šè®¾ç½® -&gt; å¯†ç ä¸å®‰å…¨æ€§ -&gt; åŒé‡å› å­éªŒè¯ï¼›<br>å¦‚æœä¸å¼€å¯åŒé‡å› å­éªŒè¯ï¼Œé‚£ä¹ˆå½“æˆ‘ä»¬åœ¨è°ƒç”¨è‹¹æœå®˜æ–¹æˆæƒæ¥å£çš„æ—¶å€™ï¼Œç³»ç»Ÿä¹Ÿä¼šæç¤ºæˆ‘ä»¬éœ€è¦å»æ‰“å¼€åŒé‡å› å­éªŒè¯ã€‚</p>
<p>2.2 åœæ­¢App ä½¿ç”¨Sign In With Apple çš„æ–¹å¼ï¼š</p>
<p>åœæ­¢App ä½¿ç”¨Sign In With Appleï¼šè®¾ç½® -&gt; å¯†ç ä¸å®‰å…¨æ€§ -&gt; ä½¿ç”¨æ‚¨AppleIDçš„App -&gt; æ‰¾åˆ°å¯¹åº”çš„App - &gt; â€œåœæ­¢ä»¥Apple IDä½¿ç”¨ Bundle IDâ€¦â€ï¼›</p>
<h3 id="3-iOSä½¿ç”¨Sign-In-With-Apple-çš„å¼€å‘æµç¨‹ï¼š"><a href="#3-iOSä½¿ç”¨Sign-In-With-Apple-çš„å¼€å‘æµç¨‹ï¼š" class="headerlink" title="3. iOSä½¿ç”¨Sign In With Apple çš„å¼€å‘æµç¨‹ï¼š"></a>3. iOSä½¿ç”¨Sign In With Apple çš„å¼€å‘æµç¨‹ï¼š</h3><p>åœ¨ä»‹ç»å¸ƒå±€ä¹‹å‰å…ˆçœ‹ä¸‹ï¼Œç¬”è€…å…ˆç»™å¤§å®¶çœ‹ä¸‹ç•Œé¢æ•ˆæœï¼š</p>
<p><img src="http://img.wangjungang.cn/dTCNP1.png"></p>
<p>ç•Œé¢æ¯”è¾ƒç®€å•ï¼Œç•Œé¢ä¸Šæ–¹ä¸ºUITextViewç”¨äºå±•ç¤ºæˆæƒçŠ¶æ€æˆæƒä¿¡æ¯ï¼Œâ€Sign In With Apple Buttonâ€ æ˜¯ç”¨çš„å®˜æ–¹çš„ASAuthorizationAppleIDButtonã€‚ä¸­é—´çš„â€œç§»é™¤é”®ç›˜â€æŒ‰é’®ç”¨äºç§»é™¤é”®ç›˜ã€‚</p>
<p>3.1è®¾ç½®ASAuthorizationAppleIDButtonç›¸å…³å¸ƒå±€ï¼Œæ·»åŠ ç›¸åº”åœ°æˆæƒå¤„ç†ï¼›</p>
<pre><code>- (void)setupUI &#123;
    
    // ç”¨äºå±•ç¤ºSign In With Apple ç™»å½•è¿‡ç¨‹çš„ä¿¡æ¯
    _appleIDInfoTextView = [[UITextView alloc] initWithFrame:CGRectMake(.0, 40.0, CGRectGetWidth(self.view.frame), CGRectGetHeight(self.view.frame) * 0.4) textContainer:nil];
    _appleIDInfoTextView.font = [UIFont systemFontOfSize:32.0];
    [self.view addSubview:_appleIDInfoTextView];
    
    // ç§»é™¤é”®ç›˜Button
    UIButton *removeKeyboardBtn = [[UIButton alloc] init];
    removeKeyboardBtn.backgroundColor = [UIColor grayColor];
    [removeKeyboardBtn setTitle:@&quot;ç§»é™¤é”®ç›˜&quot; forState:UIControlStateNormal];
    removeKeyboardBtn.frame = CGRectMake(CGRectGetMidX(_appleIDInfoTextView.frame) - 50.0, CGRectGetMaxY(_appleIDInfoTextView.frame), 100.0, 40.0);
    [removeKeyboardBtn addTarget:self action:@selector(removeFirstResponder:) forControlEvents:UIControlEventTouchUpInside];
    [self.view addSubview:removeKeyboardBtn];

    if (@available(iOS 13.0, *)) &#123;
    // Sign In With Apple Button
    ASAuthorizationAppleIDButton *appleIDButton = [ASAuthorizationAppleIDButton new];
        
    appleIDButton.frame =  CGRectMake(.0, .0, CGRectGetWidth(self.view.frame) - 40.0, 100.0);
    CGPoint origin = CGPointMake(20.0, CGRectGetMidY(self.view.frame));
    CGRect frame = appleIDButton.frame;
    frame.origin = origin;
    appleIDButton.frame = frame;
    appleIDButton.cornerRadius = CGRectGetHeight(appleIDButton.frame) * 0.25;
    [self.view addSubview:appleIDButton];
    [appleIDButton addTarget:self action:@selector(handleAuthrization:) forControlEvents:UIControlEventTouchUpInside];
    &#125;
    
    NSMutableString *mStr = [NSMutableString string];
    [mStr appendString:@&quot;æ˜¾ç¤ºSign In With Apple ç™»å½•ä¿¡æ¯\n&quot;];
    _appleIDInfoTextView.text = [mStr copy];
&#125;

#pragma mark - Actions

//! å¤„ç†æˆæƒ
- (void)handleAuthrization:(UIButton *)sender &#123;
    if (@available(iOS 13.0, *)) &#123;
        // A mechanism for generating requests to authenticate users based on their Apple ID.
        // åŸºäºç”¨æˆ·çš„Apple IDæˆæƒç”¨æˆ·ï¼Œç”Ÿæˆç”¨æˆ·æˆæƒè¯·æ±‚çš„ä¸€ç§æœºåˆ¶
        ASAuthorizationAppleIDProvider *appleIDProvider = [ASAuthorizationAppleIDProvider new];
        // Creates a new Apple ID authorization request.
        // åˆ›å»ºæ–°çš„AppleID æˆæƒè¯·æ±‚
        ASAuthorizationAppleIDRequest *request = appleIDProvider.createRequest;
        // The contact information to be requested from the user during authentication.
        // åœ¨ç”¨æˆ·æˆæƒæœŸé—´è¯·æ±‚çš„è”ç³»ä¿¡æ¯
        request.requestedScopes = @[ASAuthorizationScopeFullName, ASAuthorizationScopeEmail];
        // A controller that manages authorization requests created by a provider.
        // ç”±ASAuthorizationAppleIDProvideråˆ›å»ºçš„æˆæƒè¯·æ±‚ ç®¡ç†æˆæƒè¯·æ±‚çš„æ§åˆ¶å™¨
        ASAuthorizationController *controller = [[ASAuthorizationController alloc] initWithAuthorizationRequests:@[request]];
        // A delegate that the authorization controller informs about the success or failure of an authorization attempt.
        // è®¾ç½®æˆæƒæ§åˆ¶å™¨é€šçŸ¥æˆæƒè¯·æ±‚çš„æˆåŠŸä¸å¤±è´¥çš„ä»£ç†
        controller.delegate = self;
        // A delegate that provides a display context in which the system can present an authorization interface to the user.
        // è®¾ç½®æä¾› å±•ç¤ºä¸Šä¸‹æ–‡çš„ä»£ç†ï¼Œåœ¨è¿™ä¸ªä¸Šä¸‹æ–‡ä¸­ ç³»ç»Ÿå¯ä»¥å±•ç¤ºæˆæƒç•Œé¢ç»™ç”¨æˆ·
        controller.presentationContextProvider = self;
        // starts the authorization flows named during controller initialization.
        // åœ¨æ§åˆ¶å™¨åˆå§‹åŒ–æœŸé—´å¯åŠ¨æˆæƒæµ
        [controller performRequests];
    &#125;
&#125;
</code></pre>
<p>3.2 è·å–æˆæƒç </p>
<p>è·å–æˆæƒç è¿™éƒ¨åˆ†ä¸»è¦çœ‹2ä¸ªä»£ç†ASAuthorizationControllerDelegate, ASAuthorizationControllerPresentationContextProvidingï¼ŒåŠç›¸åº”çš„ä»£ç†æ–¹æ³•ä¸­çš„å®ç°ã€‚<br>ASAuthorizationControllerDelegate<br>An interface for providing information about the outcome of an authorization request.</p>
<p>æä¾›å…³äºæˆæƒè¯·æ±‚ç»“æœä¿¡æ¯çš„æ¥å£<br>ASAuthorizationControllerPresentationContextProvidingï¼š<br>An interface the controller uses to ask a delegate for a presentation context.<br>æ§åˆ¶å™¨çš„ä»£ç†æ‰¾ä¸€ä¸ªå±•ç¤ºæˆæƒæ§åˆ¶å™¨çš„ä¸Šä¸‹æ–‡çš„æ¥å£</p>
<p>ä¸‹è¾¹ä¸ºå®ç°ä»£ç†æ–¹æ³•çš„ä»£ç ï¼š</p>
<pre><code>#pragma mark - Delegate

//! æˆæƒæˆåŠŸåœ°å›è°ƒ
- (void)authorizationController:(ASAuthorizationController *)controller didCompleteWithAuthorization:(ASAuthorization *)authorization  API_AVAILABLE(ios(13.0))&#123;
    
NSLog(@&quot;%s&quot;, __FUNCTION__);
NSLog(@&quot;%@&quot;, controller);
NSLog(@&quot;%@&quot;, authorization);

NSLog(@&quot;authorization.credentialï¼š%@&quot;, authorization.credential);

NSMutableString *mStr = [NSMutableString string];
mStr = [_appleIDInfoTextView.text mutableCopy];

if ([authorization.credential isKindOfClass:[ASAuthorizationAppleIDCredential class]]) &#123;
    // ç”¨æˆ·ç™»å½•ä½¿ç”¨ASAuthorizationAppleIDCredential
    ASAuthorizationAppleIDCredential *appleIDCredential = authorization.credential;
    NSString *user = appleIDCredential.user;
    //  éœ€è¦ä½¿ç”¨é’¥åŒ™ä¸²çš„æ–¹å¼ä¿å­˜ç”¨æˆ·çš„å”¯ä¸€ä¿¡æ¯ è¿™é‡Œæš‚ä¸”å¤„äºæµ‹è¯•é˜¶æ®µ æ˜¯å¦çš„NSUserDefaults
    [[NSUserDefaults standardUserDefaults] setValue:user forKey:QiShareCurrentIdentifier];
    [mStr appendString:user?:@&quot;&quot;];
    NSString *familyName = appleIDCredential.fullName.familyName;
    [mStr appendString:familyName?:@&quot;&quot;];
    NSString *givenName = appleIDCredential.fullName.givenName;
    [mStr appendString:givenName?:@&quot;&quot;];
    NSString *email = appleIDCredential.email;
    [mStr appendString:email?:@&quot;&quot;];
    NSLog(@&quot;mStrï¼š%@&quot;, mStr);
    [mStr appendString:@&quot;\n&quot;];
    _appleIDInfoTextView.text = mStr;
    
&#125; else if ([authorization.credential isKindOfClass:[ASPasswordCredential class]]) &#123;
    // ç”¨æˆ·ç™»å½•ä½¿ç”¨ç°æœ‰çš„å¯†ç å‡­è¯
    ASPasswordCredential *passwordCredential = authorization.credential;
    // å¯†ç å‡­è¯å¯¹è±¡çš„ç”¨æˆ·æ ‡è¯† ç”¨æˆ·çš„å”¯ä¸€æ ‡è¯†
    NSString *user = passwordCredential.user;
    // å¯†ç å‡­è¯å¯¹è±¡çš„å¯†ç 
    NSString *password = passwordCredential.password;
    [mStr appendString:user?:@&quot;&quot;];
    [mStr appendString:password?:@&quot;&quot;];
    [mStr appendString:@&quot;\n&quot;];
    NSLog(@&quot;mStrï¼š%@&quot;, mStr);
    _appleIDInfoTextView.text = mStr;
&#125; else &#123;
    NSLog(@&quot;æˆæƒä¿¡æ¯å‡ä¸ç¬¦&quot;);
    mStr = [@&quot;æˆæƒä¿¡æ¯å‡ä¸ç¬¦&quot; mutableCopy];
    _appleIDInfoTextView.text = mStr;
&#125;
</code></pre>
<p>}</p>
<pre><code>//! æˆæƒå¤±è´¥çš„å›è°ƒ
- (void)authorizationController:(ASAuthorizationController *)controller didCompleteWithError:(NSError *)error  API_AVAILABLE(ios(13.0))&#123;
    
NSLog(@&quot;%s&quot;, __FUNCTION__);
NSLog(@&quot;é”™è¯¯ä¿¡æ¯ï¼š%@&quot;, error);
NSString *errorMsg = nil;
switch (error.code) &#123;
    case ASAuthorizationErrorCanceled:
        errorMsg = @&quot;ç”¨æˆ·å–æ¶ˆäº†æˆæƒè¯·æ±‚&quot;;
        break;
    case ASAuthorizationErrorFailed:
        errorMsg = @&quot;æˆæƒè¯·æ±‚å¤±è´¥&quot;;
        break;
    case ASAuthorizationErrorInvalidResponse:
        errorMsg = @&quot;æˆæƒè¯·æ±‚å“åº”æ— æ•ˆ&quot;;
        break;
    case ASAuthorizationErrorNotHandled:
        errorMsg = @&quot;æœªèƒ½å¤„ç†æˆæƒè¯·æ±‚&quot;;
        break;
    case ASAuthorizationErrorUnknown:
        errorMsg = @&quot;æˆæƒè¯·æ±‚å¤±è´¥æœªçŸ¥åŸå› &quot;;
        break;
&#125;

NSMutableString *mStr = [_appleIDInfoTextView.text mutableCopy];
[mStr appendString:errorMsg];
[mStr appendString:@&quot;\n&quot;];
_appleIDInfoTextView.text = [mStr copy];

if (errorMsg) &#123;
    return;
&#125;

if (error.localizedDescription) &#123;
    NSMutableString *mStr = [_appleIDInfoTextView.text mutableCopy];
    [mStr appendString:error.localizedDescription];
    [mStr appendString:@&quot;\n&quot;];
    _appleIDInfoTextView.text = [mStr copy];
&#125;
NSLog(@&quot;controller requestsï¼š%@&quot;, controller.authorizationRequests);
/* // å–æ¶ˆæˆæƒçš„æ—¶å€™ä¹Ÿä¼šè°ƒç”¨è¿™é‡Œ
 ((ASAuthorizationAppleIDRequest *)(controller.authorizationRequests[0])).requestedScopes
 &lt;__NSArrayI 0x2821e2520&gt;(
 full_name,
 email
 )
 */
&#125;


//! Tells the delegate from which window it should present content to the user.
//! å‘Šè¯‰ä»£ç†åº”è¯¥åœ¨å“ªä¸ªwindow å±•ç¤ºå†…å®¹ç»™ç”¨æˆ·
- (ASPresentationAnchor)presentationAnchorForAuthorizationController:(ASAuthorizationController *)controller  API_AVAILABLE(ios(13.0))&#123;
    
    NSLog(@&quot;è°ƒç”¨å±•ç¤ºwindowæ–¹æ³•ï¼š%s&quot;, __FUNCTION__);
    // è¿”å›window
    return self.view.window;
&#125;
</code></pre>
<p>æˆæƒç™»å½•æˆåŠŸåè°ƒè¯•çš„æ—¶å€™æŸ¥çœ‹åˆ°çš„ç”¨æˆ·ä¿¡æ¯ç›¸å…³å†…å®¹ï¼š</p>
<pre><code> po appleIDCredential.authorizationCode
&lt;63636435 32316262 32666464 30346130 62616366 65336439 32636564 34383666 622e302e 6d727371 7a2e5853 47686543 5f354f6e 48786838 32766670 50484377&gt;

(lldb) po appleIDCredential.user
0012xx.d81c1988bb054e91beec303a4xxxxxxx.0xx6

(lldb) po appleIDCredential.fullName
&lt;NSPersonNameComponents: 0x281bf2070&gt; &#123;givenName = YW, familyName = W, middleName = (null), namePrefix = (null), nameSuffix = (null), nickname = (null) phoneticRepresentation = (null) &#125;

(lldb) po appleIDCredential.email
26xxxxx168@qq.com
</code></pre>
<p>å·²ç»ä½¿ç”¨Sign In With Appleç™»å½•è¿‡appçš„ç”¨æˆ·</p>
<p>æ‰§è¡Œå·²ç»ç™»å½•è¿‡çš„åœºæ™¯ã€‚å¦‚æœè®¾å¤‡ä¸­å­˜åœ¨iCloud Keychain å‡­è¯æˆ–è€…AppleID å‡­è¯æç¤ºç”¨æˆ·ç›´æ¥ä½¿ç”¨TouchIDæˆ–FaceIDç™»å½•å³å¯ã€‚</p>
<pre><code>- (void)viewDidAppear:(BOOL)animated &#123;
    [super viewDidAppear:animated];
    
    [self perfomExistingAccountSetupFlows];
&#125;

//! Prompts the user if an existing iCloud Keychain credential or Apple ID credential is found.
//! å¦‚æœå­˜åœ¨iCloud Keychain å‡­è¯æˆ–è€…AppleID å‡­è¯æç¤ºç”¨æˆ·
- (void)perfomExistingAccountSetupFlows &#123;
    if (@available(iOS 13.0, *)) &#123;
        // A mechanism for generating requests to authenticate users based on their Apple ID.
        // åŸºäºç”¨æˆ·çš„Apple IDæˆæƒç”¨æˆ·ï¼Œç”Ÿæˆç”¨æˆ·æˆæƒè¯·æ±‚çš„ä¸€ç§æœºåˆ¶
        ASAuthorizationAppleIDProvider *appleIDProvider = [ASAuthorizationAppleIDProvider new];
        // An OpenID authorization request that relies on the userâ€™s Apple ID.
        // æˆæƒè¯·æ±‚ä¾èµ–äºç”¨äºçš„AppleID
        ASAuthorizationAppleIDRequest *authAppleIDRequest = [appleIDProvider createRequest];
        // A mechanism for generating requests to perform keychain credential sharing.
        // ä¸ºäº†æ‰§è¡Œé’¥åŒ™ä¸²å‡­è¯åˆ†äº«ç”Ÿæˆè¯·æ±‚çš„ä¸€ç§æœºåˆ¶
        ASAuthorizationPasswordRequest *passwordRequest = [[ASAuthorizationPasswordProvider new] createRequest];
        
        NSMutableArray &lt;ASAuthorizationRequest *&gt;* mArr = [NSMutableArray arrayWithCapacity:2];
        if (authAppleIDRequest) &#123;
            [mArr addObject:authAppleIDRequest];
        &#125;
        if (passwordRequest) &#123;
            [mArr addObject:passwordRequest];
        &#125;
        // ASAuthorizationRequestï¼šA base class for different kinds of authorization requests.
        // ASAuthorizationRequestï¼šå¯¹äºä¸åŒç§ç±»æˆæƒè¯·æ±‚çš„åŸºç±»
        NSArray &lt;ASAuthorizationRequest *&gt;* requests = [mArr copy];
        
        // A controller that manages authorization requests created by a provider.
        // ç”±ASAuthorizationAppleIDProvideråˆ›å»ºçš„æˆæƒè¯·æ±‚ ç®¡ç†æˆæƒè¯·æ±‚çš„æ§åˆ¶å™¨
        // Creates a controller from a collection of authorization requests.
        // ä»ä¸€ç³»åˆ—æˆæƒè¯·æ±‚ä¸­åˆ›å»ºæˆæƒæ§åˆ¶å™¨
        ASAuthorizationController *authorizationController = [[ASAuthorizationController alloc] initWithAuthorizationRequests:requests];
        // A delegate that the authorization controller informs about the success or failure of an authorization attempt.
        // è®¾ç½®æˆæƒæ§åˆ¶å™¨é€šçŸ¥æˆæƒè¯·æ±‚çš„æˆåŠŸä¸å¤±è´¥çš„ä»£ç†
        authorizationController.delegate = self;
        // A delegate that provides a display context in which the system can present an authorization interface to the user.
        // è®¾ç½®æä¾› å±•ç¤ºä¸Šä¸‹æ–‡çš„ä»£ç†ï¼Œåœ¨è¿™ä¸ªä¸Šä¸‹æ–‡ä¸­ ç³»ç»Ÿå¯ä»¥å±•ç¤ºæˆæƒç•Œé¢ç»™ç”¨æˆ·
        authorizationController.presentationContextProvider = self;
        // starts the authorization flows named during controller initialization.
        // åœ¨æ§åˆ¶å™¨åˆå§‹åŒ–æœŸé—´å¯åŠ¨æˆæƒæµ
        [authorizationController performRequests];
    &#125;
&#125;
</code></pre>
<p>3.3 Verification</p>
<p>å…³äºéªŒè¯çš„è¿™ä¸€æ­¥ï¼ŒæœåŠ¡ç«¯åŒå­¦LYå’Œç¬”è€…éƒ½è®¤ä¸ºæ˜¯éœ€è¦ä¼ é€’æˆæƒç ç»™è‡ªå·±çš„æœåŠ¡ç«¯ï¼Œè‡ªå·±çš„æœåŠ¡ç«¯è°ƒç”¨è‹¹æœAPIGenerate and validate tokenså»æ ¡éªŒæˆæƒç ã€‚ä½†æ˜¯ç›¸å…³çš„API è°ƒç”¨ä¸é€šã€‚æ€»æ˜¯æç¤ºgrant_type æœ‰é—®é¢˜ã€‚ä¸è¿‡æˆ‘ä»¬æœåŠ¡ç«¯åŒå­¦LYåœ¨PCç«¯ä½¿ç”¨Sign In With Appleåšè¿‡ç›¸åº”åœ°æµ‹è¯•ï¼Œå‘ç°è‹¹æœæä¾›çš„æˆæƒç æ ¡éªŒçš„APIæ˜¯é€šçš„ã€‚å½“ç„¶ç›¸å…³å†…å®¹ä¹Ÿå¯èƒ½æ˜¯ç¬”è€…ç†è§£æœ‰è¯¯ï¼Œå¤§å®¶å¦‚æœæœ‰ä¸åŒçš„ç†è§£ï¼Œæ•¬è¯·è®¨è®ºã€‚</p>
<pre><code>&#123;
    &quot;error&quot;: &quot;unsupported_grant_type&quot;
&#125;
</code></pre>
<p>3.4ç›‘å¬æˆæƒçŠ¶æ€å˜åŒ–</p>
<p>ç›‘å¬æˆæƒçŠ¶æ€æ”¹å˜ï¼Œå¹¶ä¸”åšå‡ºç›¸åº”å¤„ç†ã€‚æˆæƒçŠ¶æ€æœ‰ï¼š</p>
<p>ASAuthorizationAppleIDProviderCredentialRevokedï¼šæˆæƒçŠ¶æ€å¤±æ•ˆï¼ˆç”¨æˆ·åœæ­¢ä½¿ç”¨AppID ç™»å½•Appï¼‰ã€</p>
<p>ASAuthorizationAppleIDProviderCredentialAuthorizedï¼šå·²æˆæƒ(å·²ä½¿ç”¨AppleID ç™»å½•è¿‡Appï¼‰ã€</p>
<p>ASAuthorizationAppleIDProviderCredentialNotFoundï¼šæˆæƒå‡­è¯ç¼ºå¤±ï¼ˆå¯èƒ½æ˜¯ä½¿ç”¨AppleID ç™»å½•è¿‡Appï¼‰</p>
<p>å¤„ç†æ”¹å˜æœ‰2ç§å¤„ç†æ–¹å¼ï¼Œä¸€ç§æ˜¯é€šè¿‡é€šçŸ¥çš„æ–¹å¼ï¼Œå¦ä¸€ç§æ˜¯ç›‘å¬å½“å‰çš„appleIDCredential.user çš„æˆæƒçŠ¶æ€ã€‚</p>
<p>3.4.1 ç›‘å¬appleIDCredential.user çš„æˆæƒçŠ¶æ€ï¼Œè¿™éƒ¨åˆ†ä»£ç å¯ä»¥æ”¾åˆ°AppDelegateçš„- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptionsä¸­ï¼Œåˆ¤æ–­æ˜¯å¦éœ€è¦å±•ç¤ºå‡ºç™»å½•æ§åˆ¶å™¨ã€‚</p>
<pre><code>#pragma mark - Private functions
//! è§‚å¯ŸæˆæƒçŠ¶æ€
- (void)observeAuthticationState &#123;
    
    if (@available(iOS 13.0, *)) &#123;
        // A mechanism for generating requests to authenticate users based on their Apple ID.
        // åŸºäºç”¨æˆ·çš„Apple ID ç”Ÿæˆæˆæƒç”¨æˆ·è¯·æ±‚çš„æœºåˆ¶
        ASAuthorizationAppleIDProvider *appleIDProvider = [ASAuthorizationAppleIDProvider new];
        // æ³¨æ„ å­˜å‚¨ç”¨æˆ·æ ‡è¯†ä¿¡æ¯éœ€è¦ä½¿ç”¨é’¥åŒ™ä¸²æ¥å­˜å‚¨ è¿™é‡Œç¬”è€…ç®€å•æœŸé—´ ä½¿ç”¨NSUserDefaults åšçš„ç®€å•ç¤ºä¾‹
        NSString *userIdentifier = [[NSUserDefaults standardUserDefaults] valueForKey:QiShareCurrentIdentifier];
        
        if (userIdentifier) &#123;
            NSString* __block errorMsg = nil;
            //Returns the credential state for the given user in a completion handler.
            // åœ¨å›è°ƒä¸­è¿”å›ç”¨æˆ·çš„æˆæƒçŠ¶æ€
            [appleIDProvider getCredentialStateForUserID:userIdentifier completion:^(ASAuthorizationAppleIDProviderCredentialState credentialState, NSError * _Nullable error) &#123;
                switch (credentialState) &#123;
                        // è‹¹æœè¯ä¹¦çš„æˆæƒçŠ¶æ€
                    case ASAuthorizationAppleIDProviderCredentialRevoked:
                        // è‹¹æœæˆæƒå‡­è¯å¤±æ•ˆ
                        errorMsg = @&quot;è‹¹æœæˆæƒå‡­è¯å¤±æ•ˆ&quot;;
                        break;
                    case ASAuthorizationAppleIDProviderCredentialAuthorized:
                        // è‹¹æœæˆæƒå‡­è¯çŠ¶æ€è‰¯å¥½
                        errorMsg = @&quot;è‹¹æœæˆæƒå‡­è¯çŠ¶æ€è‰¯å¥½&quot;;
                        break;
                    case ASAuthorizationAppleIDProviderCredentialNotFound:
                        // æœªå‘ç°è‹¹æœæˆæƒå‡­è¯
                        errorMsg = @&quot;æœªå‘ç°è‹¹æœæˆæƒå‡­è¯&quot;;
                        // å¯ä»¥å¼•å¯¼ç”¨æˆ·é‡æ–°ç™»å½•
                        break;
                &#125;
                dispatch_async(dispatch_get_main_queue(), ^&#123;
                    NSLog(@&quot;SignInWithAppleæˆæƒçŠ¶æ€å˜åŒ–æƒ…å†µ&quot;);
                    NSLog(@&quot;%@&quot;, errorMsg);
                &#125;);
            &#125;];
            
        &#125;
    &#125;
&#125;
</code></pre>
<p>3.4.2ä½¿ç”¨é€šçŸ¥çš„æ–¹å¼æ£€æµ‹æ˜¯å¦æˆæƒåº”ç”¨æ”¯æŒSign In With Appleå˜åŒ–æƒ…å†µã€‚å¦‚ä¸‹çš„ä»£ç å¯ä»¥æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡åœºæ™¯å»è€ƒè™‘æ”¾ç½®çš„ä½ç½®ã€‚</p>
<pre><code>//! æ·»åŠ è‹¹æœç™»å½•çš„çŠ¶æ€é€šçŸ¥
- (void)observeAppleSignInState &#123;
    if (@available(iOS 13.0, *)) &#123;
        NSNotificationCenter *center = [NSNotificationCenter defaultCenter];
        [center addObserver:self selector:@selector(handleSignInWithAppleStateChanged:) name:ASAuthorizationAppleIDProviderCredentialRevokedNotification object:nil];
    &#125;
&#125;

//! è§‚å¯ŸSignInWithAppleçŠ¶æ€æ”¹å˜
- (void)handleSignInWithAppleStateChanged:(id)noti &#123;
    
    NSLog(@&quot;%s&quot;, __FUNCTION__);
    NSLog(@&quot;%@&quot;, noti);
&#125;

- (void)dealloc &#123;
    
    if (@available(iOS 13.0, *)) &#123;
        [[NSNotificationCenter defaultCenter] removeObserver:self name:ASAuthorizationAppleIDProviderCredentialRevokedNotification object:nil];
    &#125;
&#125;
</code></pre>
<p>ç›¸å…³ç¤ºæ„å›¾å¦‚ä¸‹ï¼š</p>
<p>1.é¦–æ¬¡ä½¿ç”¨AppleIDç™»å½•æˆ–è€…åœæ­¢ä½¿ç”¨AppleIDç™»å½•åï¼Œå†æ¬¡ä½¿ç”¨Sign In With Appleçš„æç¤ºå¦‚ä¸‹ï¼š</p>
<p><img src="http://img.wangjungang.cn/V7TIos.png"></p>
<p>2.ä½¿ç”¨Sign In With Appleç™»å½•æˆåŠŸçš„æˆªå›¾å¦‚ä¸‹ï¼š</p>
<p><img src="http://img.wangjungang.cn/xV846A.png"></p>
<p>3.ä½¿ç”¨è¿‡AppleIDç™»å½•è¿‡Appï¼Œè¿›å…¥åº”ç”¨çš„æ—¶å€™ä¼šæç¤ºä½¿ç”¨TouchIDç™»å½•çš„åœºæ™¯å¦‚ä¸‹ï¼š</p>
<p><img src="http://img.wangjungang.cn/W0Io7M.png"></p>
<p>4.ä½¿ç”¨Sign In With Appleç™»å½•æˆåŠŸçš„æˆªå›¾å¦‚ä¸‹ï¼š</p>
<p><img src="http://img.wangjungang.cn/yJ9kZT.png"></p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color4">iOS</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2019/08/29/Sign%20in%20with%20Apple/">å±•å¼€å…¨æ–‡ >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-å¤šä¸ªç½‘ç»œè¯·æ±‚çš„å¤„ç†" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/08/27/%E5%A4%9A%E4%B8%AA%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%E7%9A%84%E5%A4%84%E7%90%86/">å¤šä¸ªç½‘ç»œè¯·æ±‚çš„å¤„ç†</a>
    </h1>
  

        
        <a href="/2019/08/27/%E5%A4%9A%E4%B8%AA%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%E7%9A%84%E5%A4%84%E7%90%86/" class="archive-article-date">
  	<time datetime="2019-08-27T08:31:20.113Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2019-08-27</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="1-dispatch-semaphore-ä¿¡å·é‡"><a href="#1-dispatch-semaphore-ä¿¡å·é‡" class="headerlink" title="1. dispatch_semaphore ä¿¡å·é‡"></a>1. dispatch_semaphore ä¿¡å·é‡</h2><p>ä¿¡å·é‡æ˜¯ä¸€ä¸ªæ•´å‹å€¼å¹¶ä¸”å…·æœ‰åˆå§‹è®¡æ•°å€¼ï¼Œä¿¡å·é‡é€šå¸¸æ”¯æŒä¸¤ä¸ªæ“ä½œï¼šé€šçŸ¥å’Œç­‰å¾…ã€‚å½“ä¿¡å·è¢«é€šçŸ¥çš„æ—¶å€™è®¡æ•°å€¼ä¼šå¢åŠ ï¼Œå½“ä¿¡å·é‡åœ¨çº¿ç¨‹ä¸Šç­‰å¾…çš„æ—¶å€™ï¼Œå¿…è¦çš„æƒ…å†µä¸‹çº¿ç¨‹ä¼šè¢«é˜»å¡æ‰ï¼Œç›´è‡³ä¿¡å·è¢«é€šçŸ¥æ—¶è®¡æ•°å€¼å¤§äº0ï¼Œç„¶åçº¿ç¨‹ä¼šå‡å°‘è¿™ä¸ªè®¡æ•°ç»§ç»­å·¥ä½œã€‚</p>
<p>GCDä¸­åˆ3ä¸ªä¿¡å·é‡æœ‰å…³çš„æ“ä½œï¼š</p>
<pre><code>dispatch_semaphore_create ä¿¡å·é‡åˆ›å»º

dispatch_semaphore_signal å‘é€é€šçŸ¥

dispatch_semaphore_wait ä¿¡å·é‡ç­‰å¾…

dispatch_semaphore_createåˆ›å»ºä¸€ä¸ªä¿¡å·é‡
</code></pre>
<ul>
<li>dispatch_semaphore_createåˆ›å»ºä¸€ä¸ªä¿¡å·é‡</li>
</ul>
<p>ä¼ å…¥çš„å‚æ•°ä¸ºlongï¼Œè¾“å‡ºä¸€ä¸ªdispatch_semaphore_tç±»å‹ä¸”å€¼ä¸ºvalueçš„ä¿¡å·é‡ã€‚<br>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œçš„ä¼ å…¥çš„å‚æ•°valueå¿…é¡»å¤§äºæˆ–ç­‰äº0ï¼Œå¦åˆ™dispatch_semaphore_createä¼šè¿”å›NULL</p>
<ul>
<li>dispatch_semaphore_signalç­‰å¾…ä¸€ä¸ªä¿¡å·</li>
</ul>
<p>è¿™ä¸ªå‡½æ•°ä¼šä½¿ä¼ å…¥çš„ä¿¡å·é‡dsemaçš„å€¼åŠ 1ã€‚<br>è¿”å›å€¼ä¸ºlongç±»å‹ï¼Œå½“è¿”å›å€¼ä¸º0æ—¶è¡¨ç¤ºå½“å‰å¹¶æ²¡æœ‰çº¿ç¨‹ç­‰å¾…å…¶å¤„ç†çš„ä¿¡å·é‡ï¼Œå…¶å¤„ç†çš„ä¿¡å·é‡çš„å€¼åŠ 1å³å¯ã€‚<br>å½“è¿”å›å€¼ä¸ä¸º0æ—¶ï¼Œè¡¨ç¤ºå…¶å½“å‰æœ‰ï¼ˆä¸€ä¸ªæˆ–å¤šä¸ªï¼‰çº¿ç¨‹ç­‰å¾…å…¶å¤„ç†çš„ä¿¡å·é‡ï¼Œå¹¶ä¸”è¯¥å‡½æ•°å”¤é†’äº†ä¸€ä¸ªç­‰å¾…çš„çº¿ç¨‹ï¼ˆå½“çº¿ç¨‹æœ‰ä¼˜å…ˆçº§æ—¶ï¼Œå”¤é†’ä¼˜å…ˆçº§æœ€é«˜çš„çº¿ç¨‹ï¼›å¦åˆ™éšæœºå”¤é†’ï¼‰ã€‚</p>
<ul>
<li>dispatch_semaphore_wait ç­‰å¾…ä¸€ä¸ªä¿¡å·</li>
</ul>
<p>è¿™ä¸ªå‡½æ•°ä¼šä½¿ä¼ å…¥çš„ä¿¡å·é‡dsemaçš„å€¼å‡1ï¼›<br>å¦‚æœdsemaä¿¡å·é‡çš„å€¼å¤§äº0ï¼Œè¯¥å‡½æ•°æ‰€å¤„çº¿ç¨‹å°±ç»§ç»­æ‰§è¡Œä¸‹é¢çš„è¯­å¥ï¼Œå¹¶ä¸”å°†ä¿¡å·é‡çš„å€¼å‡1ï¼›<br>å¦‚æœdesemaçš„å€¼ä¸º0ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°å°±é˜»å¡å½“å‰çº¿ç¨‹ç­‰å¾…timeoutï¼ˆæ³¨æ„timeoutçš„ç±»å‹ä¸ºdispatch_time_tï¼Œ<br>ä¸èƒ½ç›´æ¥ä¼ å…¥æ•´å½¢æˆ–floatå‹æ•°ï¼‰ï¼Œå¦‚æœç­‰å¾…çš„æœŸé—´desemaçš„å€¼è¢«dispatch_semaphore_signalå‡½æ•°åŠ 1äº†ï¼Œ<br>ä¸”è¯¥å‡½æ•°ï¼ˆå³dispatch_semaphore_waitï¼‰æ‰€å¤„çº¿ç¨‹è·å¾—äº†ä¿¡å·é‡ï¼Œé‚£ä¹ˆå°±ç»§ç»­å‘ä¸‹æ‰§è¡Œå¹¶å°†ä¿¡å·é‡å‡1ã€‚<br>å¦‚æœç­‰å¾…æœŸé—´æ²¡æœ‰è·å–åˆ°ä¿¡å·é‡æˆ–è€…ä¿¡å·é‡çš„å€¼ä¸€ç›´ä¸º0ï¼Œé‚£ä¹ˆç­‰åˆ°timeoutæ—¶ï¼Œå…¶æ‰€å¤„çº¿ç¨‹è‡ªåŠ¨æ‰§è¡Œå…¶åè¯­å¥</p>
<ul>
<li>timeout</li>
</ul>
<p>åœ¨è®¾ç½®timeoutæ—¶ï¼Œæ¯”è¾ƒæœ‰ç”¨çš„ä¸¤ä¸ªå®:<br>DISPATCH_TIME_NOW ã€€ã€€ã€€ã€€è¡¨ç¤ºå½“å‰ï¼›<br>DISPATCH_TIME_FOREVERã€€ã€€ è¡¨ç¤ºæœªæ¥ï¼›</p>
<pre><code>// åˆ›å»ºä¿¡å·é‡
dispatch_semaphore_t sem = dispatch_semaphore_create(0);
// åˆ›å»ºé˜Ÿåˆ—
dispatch_queue_t testQueue = dispatch_queue_create(&quot;test&quot;, NULL);
    dispatch_async(testQueue, ^&#123;
    
        for (int i = 0; i &lt; 10; i ++) &#123;
            NSLog(@&quot;içš„å€¼æ˜¯-----&gt;%d&quot;,i);
        &#125;
        // å‘é€ä¸€ä¸ªä¿¡å·
        dispatch_semaphore_signal(sem);
    &#125;);
    
    // ä¿¡å·é‡ç­‰å¾…
    dispatch_semaphore_wait(sem, DISPATCH_TIME_FOREVER);
    for (int j = 0; j &lt; 10; j ++) &#123;
        NSLog(@&quot;j çš„å€¼æ˜¯-----&gt;%d&quot;,j);
&#125;
</code></pre>
<h2 id="2-dispatch-group"><a href="#2-dispatch-group" class="headerlink" title="2. dispatch group"></a>2. dispatch group</h2><pre><code>dispatch_group_t group = dispatch_group_create();
dispatch_queue_t queue = dispatch_get_global_queue(0, 0);
// è¿›å…¥ç»„ï¼ˆè¿›å…¥ç»„å’Œç¦»å¼€ç»„å¿…é¡»æˆå¯¹å‡ºç°,å¦åˆ™ä¼šé€ æˆæ­»é”ï¼‰
dispatch_group_enter(group);
dispatch_group_async(group, queue, ^&#123;
    // æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡1
    for (int i = 0; i&lt;10; i++) &#123;
        NSLog(@&quot;içš„å€¼æ˜¯:%d&quot;,i);
    &#125;
    dispatch_group_leave(group);

&#125;);
dispatch_group_enter(group);
dispatch_group_async(group, queue, ^&#123;
    
    // æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡2
    for (int j = 0; j&lt;20; j++) &#123;
        NSLog(@&quot;jçš„å€¼æ˜¯:%d&quot;,j);
    &#125;
    dispatch_group_leave(group);
&#125;);

dispatch_group_notify(group, dispatch_get_main_queue(), ^&#123;
    NSLog(@&quot;å®Œæˆ...&quot;);
&#125;);
</code></pre>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color4">iOS</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2019/08/27/%E5%A4%9A%E4%B8%AA%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%E7%9A%84%E5%A4%84%E7%90%86/">å±•å¼€å…¨æ–‡ >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-çœ‹å®Œå°±æ‡‚çš„æ— ç—•åŸ‹ç‚¹" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/07/04/%E7%9C%8B%E5%AE%8C%E5%B0%B1%E6%87%82%E7%9A%84%E6%97%A0%E7%97%95%E5%9F%8B%E7%82%B9/">çœ‹å®Œå°±æ‡‚çš„æ— ç—•åŸ‹ç‚¹</a>
    </h1>
  

        
        <a href="/2019/07/04/%E7%9C%8B%E5%AE%8C%E5%B0%B1%E6%87%82%E7%9A%84%E6%97%A0%E7%97%95%E5%9F%8B%E7%82%B9/" class="archive-article-date">
  	<time datetime="2019-07-04T10:10:32.010Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2019-07-04</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><p>åœ¨ç§»åŠ¨äº’è”ç½‘æ—¶ä»£ï¼Œå¯¹äºæ¯ä¸ªå…¬å¸ã€ä¼ä¸šæ¥è¯´ï¼Œç”¨æˆ·çš„è¡Œä¸ºæ•°æ®éå¸¸é‡è¦ã€‚é‡è¦åˆ°ä»€ä¹ˆç¨‹åº¦ï¼Œç”¨æˆ·åœ¨è¿™ä¸ªé¡µé¢åœç•™å¤šä¹…ã€ç‚¹å‡»äº†ä»€ä¹ˆæŒ‰é’®ã€æµè§ˆäº†ä»€ä¹ˆå†…å®¹ã€ä»€ä¹ˆæ‰‹æœºã€ä»€ä¹ˆç½‘ç»œç¯å¢ƒã€Appä»€ä¹ˆç‰ˆæœ¬ç­‰éƒ½éœ€è¦æ¸…æ¸…æ¥šæ¥šã€‚ä¸€äº›å¤§å‚çš„è›®å¤šä¸šåŠ¡æˆæœéƒ½æ˜¯åŸºäºç”¨æˆ·æ“ä½œè¡Œä¸ºè¿›è¡Œæ¨èåäºŒæ¬¡è½¬æ¢ã€‚å¦ä¸€æ–¹é¢æ˜¯ä»¥æ—¥å¿—çš„ä½œç”¨å¸®åŠ©å¼€å‘è€…åˆ†æçº¿ä¸Šé—®é¢˜çš„ä¸€ç§è¾…åŠ©æ‰‹æ®µã€‚</p>
<p>é‚£ä¹ˆæœ‰äº†ä¸Šè¿°çš„è¯‰æ±‚ï¼Œé‚£ä¹ˆæŠ€æœ¯äººå‘˜å¦‚ä½•æ»¡è¶³è¿™äº›éœ€æ±‚ï¼Ÿå¼•å‡ºæ¥äº†ä¸€ä¸ªæŠ€æœ¯ç‚¹-â€œåŸ‹ç‚¹â€</p>
<h2 id="åŸ‹ç‚¹æ‰‹æ®µ"><a href="#åŸ‹ç‚¹æ‰‹æ®µ" class="headerlink" title="åŸ‹ç‚¹æ‰‹æ®µ"></a>åŸ‹ç‚¹æ‰‹æ®µ</h2><p>ä¸šç•Œä¸­å¯¹äºä»£ç åŸ‹ç‚¹ä¸»è¦æœ‰3ç§ä¸»æµçš„æ–¹æ¡ˆï¼šä»£ç æ‰‹åŠ¨åŸ‹ç‚¹ã€å¯è§†åŒ–åŸ‹ç‚¹ã€æ— ç—•åŸ‹ç‚¹ã€‚ç®€å•è¯´è¯´è¿™å‡ ç§åŸ‹ç‚¹æ–¹æ¡ˆã€‚</p>
<p>ä»£ç æ‰‹åŠ¨åŸ‹ç‚¹ï¼šæ ¹æ®ä¸šåŠ¡éœ€æ±‚ï¼ˆè¿è¥ã€äº§å“ã€å¼€å‘å¤šä¸ªè§’åº¦å‡ºå‘ï¼‰åœ¨éœ€è¦åŸ‹ç‚¹åœ°æ–¹æ‰‹åŠ¨è°ƒç”¨åŸ‹ç‚¹æ¥å£ï¼Œä¸Šä¼ åŸ‹ç‚¹æ•°æ®ã€‚</p>
<p>å¯è§†åŒ–åŸ‹ç‚¹ï¼šé€šè¿‡å¯è§†åŒ–é…ç½®å·¥å…·å®Œæˆé‡‡é›†èŠ‚ç‚¹ï¼Œåœ¨å‰ç«¯è‡ªåŠ¨è§£æé…ç½®å¹¶ä¸ŠæŠ¥åŸ‹ç‚¹æ•°æ®ï¼Œä»è€Œå®ç°å¯è§†åŒ–â€œæ— ç—•åŸ‹ç‚¹â€</p>
<p>æ— ç—•åŸ‹ç‚¹ï¼šé€šè¿‡æŠ€æœ¯æ‰‹æ®µï¼Œå®Œæˆå¯¹ç”¨æˆ·è¡Œä¸ºæ•°æ®æ— å·®åˆ«çš„ç»Ÿè®¡ä¸Šä¼ çš„å·¥ä½œã€‚åæœŸæ•°æ®åˆ†æå¤„ç†çš„æ—¶å€™é€šè¿‡æŠ€æœ¯æ‰‹æ®µç­›é€‰å‡ºåˆé€‚çš„æ•°æ®è¿›è¡Œç»Ÿè®¡åˆ†æã€‚</p>
<h2 id="æŠ€æœ¯é€‰å‹"><a href="#æŠ€æœ¯é€‰å‹" class="headerlink" title="æŠ€æœ¯é€‰å‹"></a>æŠ€æœ¯é€‰å‹</h2><h3 id="ä»£ç æ‰‹åŠ¨åŸ‹ç‚¹"><a href="#ä»£ç æ‰‹åŠ¨åŸ‹ç‚¹" class="headerlink" title="ä»£ç æ‰‹åŠ¨åŸ‹ç‚¹"></a>ä»£ç æ‰‹åŠ¨åŸ‹ç‚¹</h3><p>è¯¥æ–¹æ¡ˆæƒ…å†µä¸‹ï¼Œå¦‚æœéœ€è¦åŸ‹ç‚¹ï¼Œåˆ™éœ€è¦åœ¨å·¥ç¨‹ä»£ç ä¸­ï¼Œå†™åŸ‹ç‚¹ç›¸å…³ä»£ç ã€‚å› ä¸ºä¾µå…¥äº†ä¸šåŠ¡ä»£ç ï¼Œå¯¹ä¸šåŠ¡ä»£ç äº§ç”Ÿäº†æ±¡æŸ“ï¼Œæ˜¾è€Œæ˜“è§çš„ç¼ºç‚¹æ˜¯åŸ‹ç‚¹çš„æˆæœ¬è¾ƒé«˜ã€ä¸”è¿èƒŒäº†å•ä¸€åŸåˆ™ã€‚</p>
<p>ä¾‹1ï¼šå‡å¦‚ä½ éœ€è¦çŸ¥é“ç”¨æˆ·åœ¨ç‚¹å‡»â€œè´­ä¹°æŒ‰é’®â€æ—¶çš„ç›¸å…³ä¿¡æ¯ï¼ˆæ‰‹æœºå‹å·ã€Appç‰ˆæœ¬ã€é¡µé¢è·¯å¾„ã€åœç•™æ—¶é—´ã€åŠ¨ä½œç­‰ç­‰ï¼‰ï¼Œé‚£ä¹ˆå°±éœ€è¦åœ¨æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶é‡Œé¢å»å†™åŸ‹ç‚¹ç»Ÿè®¡çš„ä»£ç ã€‚è¿™æ ·æ˜æ˜¾çš„å¼Šç«¯å°±æ˜¯åœ¨ä¹‹å‰ä¸šåŠ¡é€»è¾‘çš„ä»£ç ä¸Šé¢åˆå¤šå‡ºäº†åŸ‹ç‚¹çš„ä»£ç ã€‚ç”±äºåŸ‹ç‚¹ä»£ç åˆ†æ•£ã€åŸ‹ç‚¹çš„å·¥ä½œé‡å¾ˆå¤§ã€ä»£ç ç»´æŠ¤æˆæœ¬è¾ƒé«˜ã€åæœŸé‡æ„å¾ˆå¤´ç—›ã€‚</p>
<p>ä¾‹2ï¼šå‡å¦‚ App é‡‡ç”¨äº† Hybrid æ¶æ„ï¼Œå½“ App çš„ç¬¬ä¸€ç‰ˆæœ¬å‘å¸ƒçš„æ—¶å€™ H5 çš„å…³é”®ä¸šåŠ¡é€»è¾‘ç»Ÿè®¡æ˜¯ç”± Native å®šä¹‰å¥½å…³é”®é€»è¾‘ï¼ˆæ¯”å¦‚H5è°ƒèµ·äº†Nativeçš„åˆ†äº«åŠŸèƒ½ï¼Œé‚£ä¹ˆå­˜åœ¨ä¸€ä¸ªåˆ†äº«çš„åŸ‹ç‚¹äº‹ä»¶ï¼‰çš„æ¡¥æ¥ã€‚å‡å¦‚æŸå¤©å¢åŠ äº†ä¸€ä¸ªæ‰«ä¸€æ‰«åŠŸèƒ½ï¼Œæœªå®šä¹‰æ‰«ä¸€æ‰«çš„åŸ‹ç‚¹æ¡¥æ¥ï¼Œé‚£ä¹ˆ H5 é¡µé¢å˜åŠ¨çš„æ—¶å€™ï¼ŒNative åŸ‹ç‚¹ä»£ç ä¸å»æ›´æ–°çš„è¯ï¼Œå˜åŠ¨çš„ H5 çš„ä¸šåŠ¡å°±æœªè¢«ç²¾ç¡®ç»Ÿè®¡ã€‚</p>
<p>ä¼˜ç‚¹ï¼šäº§å“ã€è¿è¥å·¥ä½œé‡å°‘ï¼Œå¯¹ç…§ä¸šåŠ¡æ˜ å°„è¡¨å°±å¯ä»¥è¿˜åŸå‡ºç›¸å…³ä¸šåŠ¡åœºæ™¯ã€æ•°æ®ç²¾ç»†æ— é¡»å¤§é‡çš„åŠ å·¥å’Œå¤„ç†</p>
<p>ç¼ºç‚¹ï¼šå¼€å‘å·¥ä½œé‡å¤§ã€å‰æœŸéœ€è¦å’Œè¿è¥ã€äº§å“æŒ‡å®šçš„å¥½ä¸šåŠ¡æ ‡è¯†ï¼Œä»¥ä¾¿äº§å“å’Œè¿è¥è¿›è¡Œæ•°æ®ç»Ÿè®¡åˆ†æ</p>
<h3 id="å¯è§†åŒ–åŸ‹ç‚¹"><a href="#å¯è§†åŒ–åŸ‹ç‚¹" class="headerlink" title="å¯è§†åŒ–åŸ‹ç‚¹"></a>å¯è§†åŒ–åŸ‹ç‚¹</h3><p>å¯è§†åŒ–åŸ‹ç‚¹çš„å‡ºç°ï¼Œæ˜¯ä¸ºè§£å†³ä»£ç åŸ‹ç‚¹æµç¨‹å¤æ‚ã€æˆæœ¬é«˜ã€æ–°å¼€å‘çš„é¡µé¢ï¼ˆH5ã€æˆ–è€…æœåŠ¡ç«¯ä¸‹å‘çš„ json å»ç”Ÿæˆç›¸åº”é¡µé¢ï¼‰ä¸èƒ½åŠæ—¶æ‹¥æœ‰åŸ‹ç‚¹èƒ½åŠ›</p>
<p>å‰ç«¯åœ¨ã€ŒåŸ‹ç‚¹ç¼–è¾‘æ¨¡å¼ã€ä¸‹ï¼Œä»¥â€œå¯è§†åŒ–â€çš„æ–¹å¼å»é…ç½®ã€ç»‘å®šå…³é”®ä¸šåŠ¡æ¨¡å—çš„è·¯å¾„åˆ°å‰ç«¯å¯ä»¥å”¯ä¸€ç¡®å®šåˆ°viewçš„xpathè¿‡ç¨‹ã€‚</p>
<p>ç”¨æˆ·æ¯æ¬¡æ“ä½œçš„æ§ä»¶ï¼Œéƒ½ç”Ÿæˆä¸€ä¸ª xpath å­—ç¬¦ä¸²ï¼Œç„¶åé€šè¿‡æ¥å£å°† xpath å­—ç¬¦ä¸²(viewåœ¨å‰ç«¯ç³»ç»Ÿä¸­çš„å”¯ä¸€å®šä½ã€‚ä»¥ iOS ä¸ºä¾‹ï¼ŒAppåç§°ã€æ§åˆ¶å™¨åç§°ã€ä¸€å±‚å±‚viewã€åŒç±»å‹viewçš„åºå·ï¼šâ€œGoodCell.21.RetailTableView.GoodsViewController.*baoAppâ€)åˆ°çœŸæ­£çš„ä¸šåŠ¡æ¨¡å—ï¼ˆâ€œå®App-å•†åŸæ§åˆ¶å™¨-åˆ†é”€å•†å“åˆ—è¡¨-ç¬¬21ä¸ªå•†å“è¢«ç‚¹å‡»äº†â€ï¼‰çš„æ˜ å°„å…³ç³»ä¸Šä¼ åˆ°æœåŠ¡ç«¯ã€‚xpath å…·ä½“æ˜¯ä»€ä¹ˆåœ¨ä¸‹æ–‡ä¼šæœ‰ä»‹ç»ã€‚</p>
<p>ä¹‹åæ“ä½œ App å°±ç”Ÿæˆå¯¹åº”çš„ xpath å’ŒåŸ‹ç‚¹æ•°æ®ï¼ˆå¼€å‘è€…é€šè¿‡æŠ€æœ¯æ‰‹æ®µå°†ä»æœåŠ¡ç«¯è·å–çš„å…³é”®æ•°æ®å¡åˆ°å‰ç«¯çš„ UI æ§ä»¶ä¸Šã€‚ iOS ç«¯ä¸ºä¾‹ï¼Œ UIView çš„ accessibilityIdentifier å±æ€§å¯ä»¥è®¾ç½®æˆ‘ä»¬ä»æœåŠ¡ç«¯è·å–çš„åŸ‹ç‚¹æ•°æ®ï¼‰ä¸Šä¼ åˆ°æœåŠ¡ç«¯ã€‚</p>
<p>ä¼˜ç‚¹ï¼šæ•°æ®é‡ç›¸å¯¹å‡†ç¡®ã€åæœŸæ•°æ®åˆ†ææˆæœ¬ä½</p>
<p>ç¼ºç‚¹ï¼šå‰æœŸæ§ä»¶çš„å”¯ä¸€è¯†åˆ«ã€å®šä½éƒ½éœ€è¦é¢å¤–å¼€å‘ï¼›å¯è§†åŒ–å¹³å°çš„å¼€å‘æˆæœ¬è¾ƒé«˜ï¼›å¯¹äºé¢å¤–éœ€æ±‚çš„åˆ†æå¯èƒ½ä¼šæ¯”è¾ƒå›°éš¾</p>
<h3 id="æ— ç—•åŸ‹ç‚¹"><a href="#æ— ç—•åŸ‹ç‚¹" class="headerlink" title="æ— ç—•åŸ‹ç‚¹"></a>æ— ç—•åŸ‹ç‚¹</h3><p>é€šè¿‡æŠ€æœ¯æ‰‹æ®µæ— å·®åˆ«åœ°è®°å½•ç”¨æˆ·åœ¨å‰ç«¯é¡µé¢ä¸Šçš„è¡Œä¸ºã€‚å¯ä»¥æ­£ç¡®çš„è·å– PVã€UVã€IPã€Actionã€Time ç­‰ä¿¡æ¯ã€‚</p>
<p>ç¼ºç‚¹ï¼šå‰æœŸå¼€å‘ç»Ÿè®¡åŸºç¡€ä¿¡æ¯çš„æŠ€æœ¯äº§å“æˆæœ¬è¾ƒé«˜ã€åæœŸæ•°æ®åˆ†ææ•°æ®é‡å¾ˆå¤§ã€åˆ†ææˆæœ¬è¾ƒé«˜ï¼ˆå¤§é‡æ•°æ®ä¼ ç»Ÿçš„å…³ç³»å‹æ•°æ®åº“å‹åŠ›å¤§ï¼‰</p>
<p>ä¼˜ç‚¹ï¼šå¼€å‘äººå‘˜å·¥ä½œé‡å°ã€æ•°æ®å…¨é¢ã€æ— é—æ¼ã€äº§å“å’Œè¿è¥æŒ‰éœ€åˆ†æã€æ”¯æŒåŠ¨æ€é¡µé¢çš„ç»Ÿè®¡åˆ†æ</p>
<h2 id="å¦‚ä½•é€‰æ‹©"><a href="#å¦‚ä½•é€‰æ‹©" class="headerlink" title="å¦‚ä½•é€‰æ‹©"></a>å¦‚ä½•é€‰æ‹©</h2><p>ç»“åˆä¸Šè¿°ä¼˜ç¼ºç‚¹ï¼Œæˆ‘ä»¬é€‰æ‹©äº†æ— ç—•åŸ‹ç‚¹+å¯è§†åŒ–åŸ‹ç‚¹ç»“åˆçš„æŠ€æœ¯æ–¹æ¡ˆã€‚</p>
<p>æ€ä¹ˆè¯´å‘¢ï¼Ÿå¯¹äºå…³é”®çš„ä¸šåŠ¡å¼€å‘ç»“æŸä¸Šçº¿åã€é€šè¿‡å¯è§†åŒ–æ–¹æ¡ˆï¼ˆç±»ä¼¼äºä¸€ä¸ªç•Œé¢ï¼Œæƒ³æƒ³çœ‹ Dreamwaverï¼Œä½ åœ¨ç•Œé¢ä¸Šæ‹–æ‹–æ§ä»¶ï¼Œç®€å•ç¼–è¾‘ä¸‹å°±å¯ä»¥ç”Ÿæˆå¯¹åº”çš„ HTML ä»£ç ï¼‰ç‚¹å‡»ä¸€ä¸‹ç»‘å®šå¯¹åº”å…³ç³»åˆ°æœåŠ¡ç«¯ã€‚</p>
<p>é‚£ä¹ˆè¿™ä¸ªå¯¹åº”å…³ç³»æ˜¯ä»€ä¹ˆï¼Ÿæˆ‘ä»¬éœ€è¦å”¯ä¸€å®šä½ä¸€ä¸ªå‰ç«¯å…ƒç´ ï¼Œé‚£ä¹ˆæƒ³åˆ°çš„åŠæ³•å°±æ˜¯ä¸ç®¡ Native å’Œ Web å‰ç«¯ï¼Œæ§ä»¶æˆ–è€…å…ƒç´ æ¥è¯´å°±æ˜¯ä¸€ä¸ªæ ‘å½¢å±‚çº§ï¼ŒDOM tree æˆ–è€… UI treeï¼Œæ‰€ä»¥æˆ‘ä»¬é€šè¿‡æŠ€æœ¯æ‰‹æ®µå®šä½åˆ°è¿™ä¸ªå…ƒç´ ï¼Œä»¥ Native  iOS ä¸ºä¾‹å­ï¼Œå‡å¦‚ç‚¹å‡»å•†å“è¯¦æƒ…é¡µçš„åŠ å…¥è´­ç‰©è½¦æŒ‰é’®ä¼šæ ¹æ® UI å±‚çº§ç»“æ„ç”Ÿæˆä¸€ä¸ªå”¯ä¸€æ ‡è¯† â€œaddCartButton.GoodsViewController.GoodsView.*BaoAppâ€ ã€‚ä½†æ˜¯ç”¨æˆ·åœ¨ä½¿ç”¨ App çš„æ—¶å€™ï¼Œä¸Šä¼ çš„æ˜¯è¿™ä¸²ä¸œè¥¿çš„ MD5åˆ°æœåŠ¡ç«¯ã€‚</p>
<p>è¿™ä¹ˆåšæœ‰2ä¸ªåŸå› ï¼šæœåŠ¡ç«¯æ•°æ®åº“å­˜å‚¨è¿™ä¸²å¾ˆé•¿çš„ä¸œè¥¿ä¸æ˜¯å¾ˆå¥½ï¼›åŸ‹ç‚¹æ•°æ®è¢«åŠ«æŒçš„è¯ç›´æ¥çœ‹åˆ°æ˜æ–‡ä¸å¤ªå¥½ã€‚æ‰€ä»¥ MD5 å†ä¸Šä¼ ã€‚</p>
<h2 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h2><h3 id="æ•°æ®çš„æ”¶é›†"><a href="#æ•°æ®çš„æ”¶é›†" class="headerlink" title="æ•°æ®çš„æ”¶é›†"></a>æ•°æ®çš„æ”¶é›†</h3><p>å®ç°æ–¹æ¡ˆç”±ä»¥ä¸‹å‡ ä¸ªå…³é”®æŒ‡æ ‡ï¼š</p>
<p>ç°æœ‰ä»£ç æ”¹åŠ¨å°‘ã€å°½é‡ä¸è¦ä¾µå…¥ä¸šåŠ¡ä»£ç å»å®ç°æ‹¦æˆªç³»ç»Ÿäº‹ä»¶</p>
<p>å…¨é‡æ”¶é›†</p>
<p>å¦‚ä½•å”¯ä¸€æ ‡è¯†ä¸€ä¸ªæ§ä»¶å…ƒç´ </p>
<h3 id="ä¸ä¾µå…¥ä¸šåŠ¡ä»£ç æ‹¦æˆªç³»ç»Ÿäº‹ä»¶"><a href="#ä¸ä¾µå…¥ä¸šåŠ¡ä»£ç æ‹¦æˆªç³»ç»Ÿäº‹ä»¶" class="headerlink" title="ä¸ä¾µå…¥ä¸šåŠ¡ä»£ç æ‹¦æˆªç³»ç»Ÿäº‹ä»¶"></a>ä¸ä¾µå…¥ä¸šåŠ¡ä»£ç æ‹¦æˆªç³»ç»Ÿäº‹ä»¶</h3><p>ä»¥ iOS ä¸ºä¾‹ã€‚æˆ‘ä»¬ä¼šæƒ³åˆ° <strong>AOPï¼ˆAspect Oriented Programmingï¼‰</strong>é¢å‘åˆ‡é¢ç¼–ç¨‹æ€æƒ³ã€‚åŠ¨æ€åœ°åœ¨å‡½æ•°è°ƒç”¨å‰åæ’å…¥ç›¸åº”çš„ä»£ç ï¼Œåœ¨ Objective-C ä¸­æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ Runtime ç‰¹æ€§ï¼Œç”¨ Method Swizzling æ¥ hook ç›¸åº”çš„å‡½æ•°</p>
<p>ä¸ºäº†ç»™æ‰€æœ‰ç±»æ–¹ä¾¿åœ° hookï¼Œæˆ‘ä»¬å¯ä»¥ç»™ NSObject æ·»åŠ ä¸ª Categoryï¼Œåå­—å«åš NSObject+MethodSwizzling</p>
<p>#pragma mark - public Method</p>
<ul>
<li><p>(void)lbp_swizzleMethod:(SEL)originalSelector swizzledSelector:(SEL)swizzledSelector<br>{<br>  class_swizzleInstanceMethod(self, originalSelector, swizzledSelector);<br>}</p>
</li>
<li><p>(void)lbp_swizzleClassMethod:(SEL)originalSelector swizzledSelector:(SEL)swizzledSelector<br>{<br>  &#x2F;&#x2F;ç±»æ–¹æ³•å®é™…ä¸Šæ˜¯å‚¨å­˜åœ¨ç±»å¯¹è±¡çš„ç±»(å³å…ƒç±»)ä¸­ï¼Œå³ç±»æ–¹æ³•ç›¸å½“äºå…ƒç±»çš„å®ä¾‹æ–¹æ³•,æ‰€ä»¥åªéœ€è¦æŠŠå…ƒç±»ä¼ å…¥ï¼Œå…¶ä»–é€»è¾‘å’Œäº¤äº’å®ä¾‹æ–¹æ³•ä¸€æ ·ã€‚<br>  Class class2 &#x3D; object_getClass(self);<br>  class_swizzleInstanceMethod(class2, originalSelector, swizzledSelector);<br>}</p>
<pre><code>  #pragma mark - private method
  
  void class_swizzleInstanceMethod(Class class, SEL originalSEL, SEL replacementSEL)
  &#123;
      /*
       Class class = [self class];
       //åŸæœ‰æ–¹æ³•
       Method originalMethod = class_getInstanceMethod(class, originalSelector);
       //æ›¿æ¢åŸæœ‰æ–¹æ³•çš„æ–°æ–¹æ³•
       Method swizzledMethod = class_getInstanceMethod(class, swizzledSelector);
       //å…ˆå°è¯•çµ¦æºSELæ·»åŠ IMPï¼Œè¿™é‡Œæ˜¯ä¸ºäº†é¿å…æºSELæ²¡æœ‰å®ç°IMPçš„æƒ…å†µ
       BOOL didAddMethod = class_addMethod(class,originalSelector,
       method_getImplementation(swizzledMethod),
       method_getTypeEncoding(swizzledMethod));
       if (didAddMethod) &#123;//æ·»åŠ æˆåŠŸï¼šè¡¨æ˜æºSELæ²¡æœ‰å®ç°IMPï¼Œå°†æºSELçš„IMPæ›¿æ¢åˆ°äº¤æ¢SELçš„IMP
       class_replaceMethod(class,swizzledSelector,
       method_getImplementation(originalMethod),
       method_getTypeEncoding(originalMethod));
       &#125; else &#123;//æ·»åŠ å¤±è´¥ï¼šè¡¨æ˜æºSELå·²ç»æœ‰IMPï¼Œç›´æ¥å°†ä¸¤ä¸ªSELçš„IMPäº¤æ¢å³å¯
       method_exchangeImplementations(originalMethod, swizzledMethod);
       &#125;
       */
      
      Method originMethod = class_getInstanceMethod(class, originalSEL);
      Method replaceMethod = class_getInstanceMethod(class, replacementSEL);
      
      if(class_addMethod(class, originalSEL, method_getImplementation(replaceMethod),method_getTypeEncoding(replaceMethod)))
      &#123;
          class_replaceMethod(class,replacementSEL, method_getImplementation(originMethod), method_getTypeEncoding(originMethod));
      &#125;else &#123;
          method_exchangeImplementations(originMethod, replaceMethod);
      &#125;
  &#125;
</code></pre>
</li>
</ul>
<h3 id="å…¨é‡æ”¶é›†"><a href="#å…¨é‡æ”¶é›†" class="headerlink" title="å…¨é‡æ”¶é›†"></a>å…¨é‡æ”¶é›†</h3><p>æˆ‘ä»¬ä¼šæƒ³åˆ° hook AppDelegate ä»£ç†æ–¹æ³•ã€UIViewController ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€æŒ‰é’®ç‚¹å‡»äº‹ä»¶ã€æ‰‹åŠ¿äº‹ä»¶ã€å„ç§ç³»ç»Ÿæ§ä»¶çš„ç‚¹å‡»å›è°ƒæ–¹æ³•ã€åº”ç”¨çŠ¶æ€åˆ‡æ¢ç­‰ç­‰ã€‚</p>
<p>ä»¥ç»Ÿè®¡é¡µé¢çš„æ‰“å¼€æ—¶é—´å’Œç»Ÿè®¡é¡µé¢çš„æ‰“å¼€ã€å…³é—­çš„éœ€æ±‚ä¸ºä¾‹ï¼Œæˆ‘ä»¬å¯¹ UIViewController è¿›è¡Œ hook</p>
<pre><code>    static char *lbp_viewController_open_time = &quot;lbp_viewController_open_time&quot;;
    static char *lbp_viewController_close_time = &quot;lbp_viewController_close_time&quot;;
    
    @implementation UIViewController (lbpka)
    
    // load æ–¹æ³•é‡Œé¢æ·»åŠ  dispatch_once æ˜¯ä¸ºäº†é˜²æ­¢æ‰‹åŠ¨è°ƒç”¨ load æ–¹æ³•ã€‚
    + (void)load &#123;
        static dispatch_once_t onceToken;
        dispatch_once(&amp;onceToken, ^&#123;
            @autoreleasepool &#123;
                [[self class] lbp_swizzleMethod:@selector(viewWillAppear:) swizzledSelector:@selector(lbp_viewWillAppear:)];
                [[self class] lbp_swizzleMethod:@selector(viewWillDisappear:) swizzledSelector:@selector(lbp_viewWillDisappear:)];
    
    
            &#125;
        &#125;);
    &#125;
    
    
    #pragma mark - add prop
    
    - (void)setOpenTime:(NSDate *)openTime &#123;
        objc_setAssociatedObject(self,&amp;lbp_viewController_open_time, openTime, OBJC_ASSOCIATION_RETAIN_NONATOMIC);
    &#125;
    
    - (NSDate *)getOpenTime&#123;
        return objc_getAssociatedObject(self, &amp;lbp_viewController_open_time);
    &#125;
    
    - (void)setCloseTime:(NSDate *)closeTime &#123;
        objc_setAssociatedObject(self,&amp;lbp_viewController_close_time, closeTime, OBJC_ASSOCIATION_RETAIN_NONATOMIC);
    &#125;
    
    - (NSDate *)getCloseTime&#123;
        return objc_getAssociatedObject(self, &amp;lbp_viewController_close_time);
    &#125;
    
    - (void)lbp_viewWillAppear:(BOOL)animated &#123;
    
        NSString *className = NSStringFromClass([self class]);
        NSString *refer = [NSString string];
        //TODO:TODO æ˜¯å¦åªåŸ‹æœ¬åœ°æœ‰urlçš„page
        if ([self getPageUrl:className]) &#123;
            //è®¾ç½®æ‰“å¼€æ—¶é—´
           [self setOpenTime:[NSDate dateWithTimeIntervalSinceNow:0]];
            if (self.navigationController) &#123;
                if (self.navigationController.viewControllers.count &gt;=2) &#123;
                    //è·å–å½“å‰vc æ ˆä¸­ ä¸Šä¸€ä¸ªVC
                    UIViewController *referVC =  self.navigationController.viewControllers[self.navigationController.viewControllers.count-2];
                    refer = [self getPageUrl:NSStringFromClass([referVC class])];
                &#125;
            &#125;
            if (!refer || refer.length == 0) &#123;
                refer = @&quot;unknown&quot;;
            &#125;
            [UserTrackDataCenter openPage:[self getPageUrl:className] fromPage:refer];
        &#125;
       
        [self lbp_viewWillAppear:animated];
    &#125;
    
    - (void)lbp_viewWillDisappear:(BOOL)animated &#123;
        NSString *className = NSStringFromClass([self class]);
        if ([self getPageUrl:className]) &#123;
            [self setCloseTime:[NSDate dateWithTimeIntervalSinceNow:0]];
            [UserTrackDataCenter leavePage:[self getPageUrl:className] spendTime:[self p_calculationTimeSpend]];
        &#125;
        [self lbp_viewWillDisappear:animated];
    &#125;
    
    #pragma mark - private method
    
    - (NSString *)p_calculationTimeSpend &#123;
        
        if (![self getOpenTime] || ![self getCloseTime]) &#123;
            return @&quot;unknown&quot;;
        &#125;
        NSTimeInterval aTimer = [[self getCloseTime] timeIntervalSinceDate:[self getOpenTime]];
        
        int hour = (int)(aTimer/3600);
        
        int minute = (int)(aTimer - hour*3600)/60;
        
        int second = aTimer - hour*3600 - minute*60;
        
        return [NSString stringWithFormat:@&quot;%d&quot;,second];
&#125;
</code></pre>
<h3 id="å¦‚ä½•æ ‡è¯†ä¸€ä¸ªå”¯ä¸€çš„å…ƒç´ "><a href="#å¦‚ä½•æ ‡è¯†ä¸€ä¸ªå”¯ä¸€çš„å…ƒç´ " class="headerlink" title="å¦‚ä½•æ ‡è¯†ä¸€ä¸ªå”¯ä¸€çš„å…ƒç´ "></a>å¦‚ä½•æ ‡è¯†ä¸€ä¸ªå”¯ä¸€çš„å…ƒç´ </h3><p>xpath æ˜¯ç§»åŠ¨ç«¯å®šä¹‰å¯æ“ä½œåŒºåŸŸçš„å”¯ä¸€æ ‡è¯†ã€‚æ—¢ç„¶æƒ³é€šè¿‡ä¸€ä¸ªå­—ç¬¦ä¸²æ ‡è¯†å‰ç«¯ç³»ç»Ÿä¸­å¯æ“ä½œçš„æ§ä»¶ï¼Œé‚£ä¹ˆ xpath éœ€è¦2ä¸ªæŒ‡æ ‡ï¼š</p>
<p>å”¯ä¸€æ€§ï¼šåœ¨åŒä¸€ç³»ç»Ÿä¸­ä¸å­˜åœ¨ä¸åŒæ§ä»¶æœ‰ç€ç›¸åŒçš„ xpath</p>
<p>ç¨³å®šæ€§ï¼šä¸åŒç‰ˆæœ¬çš„ç³»ç»Ÿä¸­ï¼Œåœ¨é¡µé¢ç»“æ„æ²¡æœ‰å˜åŠ¨çš„æƒ…å†µä¸‹ï¼Œä¸åŒç‰ˆæœ¬çš„ç›¸åŒé¡µé¢ï¼Œç›¸åŒçš„æ§ä»¶çš„ xpath éœ€è¦ä¿æŒä¸€è‡´ã€‚</p>
<p>æˆ‘ä»¬æƒ³åˆ° Naiveã€H5 é¡µé¢ç­‰ç³»ç»Ÿæ¸²æŸ“çš„æ—¶å€™éƒ½æ˜¯ä»¥æ ‘å½¢ç»“æ„å»ç»˜åˆ¶å’Œæ¸²æŸ“ï¼Œæ‰€ä»¥æˆ‘ä»¬ä»¥å½“å‰çš„ View åˆ°ç³»ç»Ÿçš„æ ¹å…ƒç´ ä¹‹é—´çš„æ‰€æœ‰å…³é”®ç‚¹ï¼ˆUIViewControllerã€UIViewã€UIViewå®¹å™¨ï¼ˆUITableViewã€UICollectionViewç­‰ï¼‰ã€UIButtonâ€¦ï¼‰ä¸²è”èµ·æ¥è¿™æ ·å°±å”¯ä¸€å®šä½äº†æ§ä»¶å…ƒç´ ã€‚</p>
<p>ä¸ºäº†ç²¾ç¡®å®šä½å…ƒç´ èŠ‚ç‚¹ï¼Œå‚çœ‹ä¸‹å›¾</p>
<p>å‡è®¾ä¸€ä¸ª UIView ä¸­æœ‰ä¸‰ä¸ªå­ viewï¼Œå…ˆåé¡ºåºæ˜¯ï¼šlabelã€button1ã€button2ï¼Œé‚£ä¹ˆæ·±åº¦ä¾æ¬¡ä¸ºï¼š 0ã€1ã€2ã€‚å‡å¦‚ç”¨æˆ·åšäº†æŸäº›æ“ä½œå°† label1 ä»çˆ¶ view ä¸­è¢«ç§»é™¤äº†ã€‚æ­¤æ—¶ UIView åªæœ‰ 2 ä¸ªå­viewï¼šbutton1ã€button2ï¼Œè€Œä¸”æ·±åº¦å˜ä¸ºäº†ï¼š0ã€1ã€‚</p>
<p>viewå±‚çº§<br>å¯ä»¥çœ‹å‡ºä»…ä»…ç”±äºå…¶ä¸­æŸä¸ªå­ view  çš„æ”¹å˜ï¼Œå´å¯¼è‡´å…¶å®ƒå­ view çš„æ·±åº¦éƒ½å‘ç”Ÿäº†å˜åŒ–ã€‚å› æ­¤ï¼Œåœ¨è®¾è®¡çš„æ—¶å€™éœ€è¦æ³¨æ„ï¼Œåœ¨æ–°å¢&#x2F;ç§»é™¤æŸä¸€ view æ—¶ï¼Œå°½é‡å‡å°‘å¯¹å·²æœ‰ view çš„æ·±åº¦çš„å½±å“ï¼Œè°ƒæ•´äº†å¯¹èŠ‚ç‚¹çš„æ·±åº¦çš„è®¡ç®—æ–¹å¼ï¼šé‡‡ç”¨å½“å‰ view ä½äºå…¶çˆ¶ view ä¸­çš„æ‰€æœ‰ ä¸å½“å‰ view åŒç±»å‹ å­view ä¸­çš„ç´¢å¼•å€¼ã€‚</p>
<p>æˆ‘ä»¬å†çœ‹ä¸€ä¸‹ä¸Šé¢çš„è¿™ä¸ªä¾‹å­ï¼Œæœ€åˆ labelã€button1ã€button2 çš„æ·±åº¦ä¾æ¬¡æ˜¯ï¼š0ã€0ã€1ã€‚åœ¨ label è¢«ç§»é™¤åï¼Œbutton1ã€button2 çš„æ·±åº¦ä¾æ¬¡ä¸ºï¼š0ã€1ã€‚å¯ä»¥çœ‹å‡ºï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œlabel çš„ç§»é™¤å¹¶æœªå¯¹ button1ã€button2 çš„æ·±åº¦é€ æˆå½±å“ï¼Œè¿™ç§è°ƒæ•´åçš„è®¡ç®—æ–¹å¼åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¢å¼ºäº† xpath çš„æŠ—å¹²æ‰°æ€§ã€‚</p>
<p>å¦å¤–ï¼Œè°ƒæ•´åçš„æ·±åº¦çš„è®¡ç®—æ–¹å¼æ˜¯ä¾èµ–äºå„èŠ‚ç‚¹çš„ç±»å‹çš„ï¼Œå› æ­¤ï¼Œæ­¤æ—¶å¿…é¡»è¦å°†å„èŠ‚ç‚¹çš„åç§°æ”¾åˆ°viewPathä¸­ï¼Œè€Œä¸å†æ˜¯ä»…ä»…ä¸ºäº†å¢åŠ å¯è¯»æ€§ã€‚</p>
<p>åœ¨æ ‡è¯†æ§ä»¶å…ƒç´ çš„å±‚çº§æ—¶ï¼Œéœ€è¦çŸ¥é“ã€Œå½“å‰ view ä½äºå…¶çˆ¶ view ä¸­çš„æ‰€æœ‰ ä¸å½“å‰ view åŒç±»å‹ å­view ä¸­çš„ç´¢å¼•å€¼ã€ã€‚å‚çœ‹ä¸Šå›¾ï¼Œå¦‚æœä¸æ˜¯åŒç±»å‹çš„è¯ï¼Œåˆ™å”¯ä¸€æ€§å¾—ä¸åˆ°ä¿è¯ã€‚</p>
<h3 id="åŒç±»å‹çš„-view-çš„å”¯ä¸€å®šä½é—®é¢˜"><a href="#åŒç±»å‹çš„-view-çš„å”¯ä¸€å®šä½é—®é¢˜" class="headerlink" title="åŒç±»å‹çš„ view çš„å”¯ä¸€å®šä½é—®é¢˜"></a>åŒç±»å‹çš„ view çš„å”¯ä¸€å®šä½é—®é¢˜</h3><p>æœ‰ä¸ªé—®é¢˜ï¼Œæ¯”å¦‚æˆ‘ä»¬ç‚¹å‡»çš„å…ƒç´ æ˜¯ UITableViewCellï¼Œé‚£ä¹ˆå®ƒè™½ç„¶å¯ä»¥å®šä½åˆ°ç±»ä¼¼äºè¿™ä¸ªæ ‡ç¤º xxApp.GoodsViewController.GoodsTableView.GoodsCellï¼ŒåŒç±»å‹çš„ Cell æœ‰å¤šä¸ªï¼Œæ‰€ä»¥å•å‡­å€Ÿè¿™ä¸ªå­—ç¬¦ä¸²æ˜¯æ²¡æœ‰åŠæ³•å®šä½å…·ä½“çš„é‚£ä¸ª Cell è¢«ç‚¹å‡»äº†ã€‚</p>
<p>å½“ç„¶æœ‰è§£å†³æ–¹æ¡ˆå•¦ã€‚</p>
<p>æ‰¾å‡ºå½“å‰å…ƒç´ åœ¨çˆ¶å±‚åŒç±»å‹å…ƒç´ ä¸­çš„ç´¢å¼•ã€‚æ ¹æ®å½“å‰çš„å…ƒç´ éå†å½“å‰å…ƒç´ çš„çˆ¶çº§å…ƒç´ çš„å­å…ƒç´ ï¼Œå¦‚æœå‡ºç°ç›¸åŒçš„å…ƒç´ ï¼Œåˆ™éœ€è¦åˆ¤æ–­å½“å‰å…ƒç´ æ˜¯æ‰€åœ¨å±‚çº§çš„ç¬¬å‡ ä¸ªå…ƒç´ </p>
<p>å¯¹å½“å‰çš„æ§ä»¶å…ƒç´ çš„çˆ¶è§†å›¾çš„å…¨éƒ¨å­è§†å›¾è¿›è¡Œéå†ï¼Œå¦‚æœå­˜åœ¨å’Œå½“å‰çš„æ§ä»¶å…ƒç´ åŒç±»å‹çš„æ§ä»¶ï¼Œé‚£ä¹ˆéœ€è¦åˆ¤æ–­å½“å‰æ§ä»¶å…ƒç´ åœ¨åŒç±»å‹æ§ä»¶å…ƒç´ ä¸­çš„æ‰€å¤„çš„ä½ç½®ï¼Œé‚£ä¹ˆåˆ™å¯ä»¥å”¯ä¸€å®šä½ã€‚ä¸¾ä¾‹ï¼šGoodsCell-3.GoodsTableView.GoodsViewController.xxApp</p>
<pre><code>//UIResponderåˆ†ç±»
- (NSString *)lbp_identifierKa
&#123;
//    if (self.xq_identifier_ka == nil) &#123;
        if ([self isKindOfClass:[UIView class]]) &#123;
            UIView *view = (id)self;
            NSString *sameViewTreeNode = [view obtainSameSuperViewSameClassViewTreeIndexPath];
            NSMutableString *str = [NSMutableString string];
            //ç‰¹æ®Šçš„ åŠ å‡è´­ å› ä¸ºå¸¦æœ‰spmä½†æ˜¯è¦åŒºåˆ†åŠ å‡ éœ€è¦å¸¦TreeNode
            NSString *className = [NSString stringWithUTF8String:object_getClassName(view)];
            if (!view.accessibilityIdentifier || [className isEqualToString:@&quot;lbpButton&quot;]) &#123;
                [str appendString:sameViewTreeNode];
                [str appendString:@&quot;,&quot;];
            &#125;
            while (view.nextResponder) &#123;
                [str appendFormat:@&quot;%@,&quot;, NSStringFromClass(view.class)];
                if ([view.class isSubclassOfClass:[UIViewController class]]) &#123;
                    break;
                &#125;
                view = (id)view.nextResponder;
            &#125;
            self.xq_identifier_ka = [self md5String:[NSString stringWithFormat:@&quot;%@&quot;,str]];
            //            self.xq_identifier_ka = [NSString stringWithFormat:@&quot;%@&quot;,str];
        &#125;
//    &#125;
    return self.xq_identifier_ka;
&#125;

// UIView åˆ†ç±»
- (NSString *)obtainSameSuperViewSameClassViewTreeIndexPat
&#123;    
    NSString *classStr = NSStringFromClass([self class]);
    //cellçš„å­view
    //UITableView ç‰¹æ®Šçš„superview (UITableViewContentView)
    //UICollectionViewCell
    BOOL shouldUseSuperView =
    ([classStr isEqualToString:@&quot;UITableViewCellContentView&quot;]) ||
    ([[self.superview class] isKindOfClass:[UITableViewCell class]])||
    ([[self.superview class] isKindOfClass:[UICollectionViewCell class]]);
    if (shouldUseSuperView) &#123;
        return [self obtainIndexPathByView:self.superview];
    &#125;else &#123;
        return [self obtainIndexPathByView:self];
    &#125;
&#125;

- (NSString *)obtainIndexPathByView:(UIView *)view
&#123;    
    NSInteger viewTreeNodeDepth = NSIntegerMin;
    NSInteger sameViewTreeNodeDepth = NSIntegerMin;
    
    NSString *classStr = NSStringFromClass([view class]);
   
    NSMutableArray *sameClassArr = [[NSMutableArray alloc]init];
    //æ‰€å¤„çˆ¶viewçš„å…¨éƒ¨subviewsæ ¹èŠ‚ç‚¹æ·±åº¦
    for (NSInteger index =0; index &lt; view.superview.subviews.count; index ++) &#123;
        //åŒç±»å‹
        if  ([classStr isEqualToString:NSStringFromClass([view.superview.subviews[index] class])])&#123;
            [sameClassArr addObject:view.superview.subviews[index]];
        &#125;
        if (view == view.superview.subviews[index]) &#123;
            viewTreeNodeDepth = index;
            break;
        &#125;
    &#125;
    //æ‰€å¤„çˆ¶viewçš„åŒç±»å‹subviewsæ ¹èŠ‚ç‚¹æ·±åº¦
    for (NSInteger index =0; index &lt; sameClassArr.count; index ++) &#123;
        if (view == sameClassArr[index]) &#123;
            sameViewTreeNodeDepth = index;
            break;
        &#125;
    &#125;
    return [NSString stringWithFormat:@&quot;%ld&quot;,sameViewTreeNodeDepth];
    
&#125;
</code></pre>
<h3 id="åŒç±»å‹çš„viewï¼Œä½†æ˜¯ç‚¹å‡»çš„æ„ä¹‰å´ä¸ä¸€æ ·ã€‚å¦‚ä½•å”¯ä¸€æ ‡è¯†ï¼Ÿ"><a href="#åŒç±»å‹çš„viewï¼Œä½†æ˜¯ç‚¹å‡»çš„æ„ä¹‰å´ä¸ä¸€æ ·ã€‚å¦‚ä½•å”¯ä¸€æ ‡è¯†ï¼Ÿ" class="headerlink" title="åŒç±»å‹çš„viewï¼Œä½†æ˜¯ç‚¹å‡»çš„æ„ä¹‰å´ä¸ä¸€æ ·ã€‚å¦‚ä½•å”¯ä¸€æ ‡è¯†ï¼Ÿ"></a>åŒç±»å‹çš„viewï¼Œä½†æ˜¯ç‚¹å‡»çš„æ„ä¹‰å´ä¸ä¸€æ ·ã€‚å¦‚ä½•å”¯ä¸€æ ‡è¯†ï¼Ÿ</h3><p>é—®é¢˜5è¯´æ˜çš„æ˜¯åœ¨ä¸€ä¸ªç•Œé¢ä¸Šæœ‰å¤šä¸ªä¸åŒçš„ viewï¼Œä»–ä»¬çš„ç±»å‹æ˜¯åŒä¸€ç§ï¼ˆCycleBannerViewï¼Œä½†æ˜¯æ•°æ®æºä¸ä¸€æ ·ï¼Œé‚£ä¹ˆå½“æ•°æ®æºé•¿åº¦å¤§äº1çš„æ—¶å€™ä¼šè½®æ’­ï¼Œä¸‹é¢ä¼šå±•ç¤º UIPageControlã€‚å¦‚æœæ•°æ®æºæ˜¯1ä¸ªï¼Œé‚£ä¹ˆå°±ä¸ä¼šè½®æ’­å’Œå±•ç¤º UIPageControlï¼‰ã€‚æƒ…å†µ6æ˜¯åŒä¸€ç§ç±»å‹çš„ Viewï¼Œä½†æ˜¯æ ¹æ®å±•ç¤ºçš„å†…å®¹ä¸ä¸€æ ·ï¼Œç‚¹å‡»çš„æ„ä¹‰ä¹Ÿä¸ä¸€æ ·ã€‚ä¹Ÿå°±æ˜¯è¿è¥éœ€è¦å»çŸ¥é“ç”¨æˆ·åˆ°åº•ç‚¹å‡»çš„æ˜¯å“ªä¸€ä¸ªã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œã€Œç«‹å³æŠ¢è´­ã€å’Œã€Œåˆ†äº«èµšä½£é‡‘ã€æ˜¯åŒä¸€ç§ç±»å‹çš„ Viewï¼Œä½†æ˜¯ç‚¹å‡»æ„ä¹‰ä¸ä¸€æ ·ï¼Œéœ€è¦æˆ‘ä»¬éœ€è¦å”¯ä¸€æ ‡è¯†å‡ºæ¥ã€‚ä¹‹å‰çš„æ–¹æ³•é€šè¿‡ â€œviewPath é…åˆåŒç±»å‹çš„ view å»åŠ ç´¢å¼•å€¼â€œ çš„æ–¹å¼è¿˜æ˜¯æ²¡æœ‰åŠæ³•å”¯ä¸€æ ‡è¯†å‡ºæ¥ã€‚æ‰€ä»¥æƒ³åˆ°ä¸€ä¸ªæ–¹æ¡ˆï¼Œç»™ NSObject æ·»åŠ ä¸€ä¸ªåˆ†ç±»ï¼Œåœ¨åˆ†ç±»é‡Œé¢æ·»åŠ ä¸€ä¸ªåè®®ã€‚è®©éœ€è¦å¤ç”¨ä½†éœ€è¦å”¯ä¸€æ ‡è¯†çš„ view å»å®ç°åè®®æ–¹æ³•ï¼Œå› ä¸ºæ˜¯ç»™ NSObject åˆ†ç±»æ·»åŠ çš„åè®®ï¼Œæ‰€ä»¥ view ä¸éœ€è¦å»æŒ‡å®šéµå¾ªã€‚</p>
<p>å…³é”®æ­¥éª¤ï¼š</p>
<p>æ·»åŠ  NSObject çš„ Categoryã€‚åœ¨åˆ†ç±»é‡Œé¢å£°æ˜å”¯ä¸€æ ‡è¯†çš„åè®®</p>
<p>åœ¨ç”Ÿæˆ viewPath çš„åœ°æ–¹å»æ‹¿å‡ºå½“å‰ view çš„å”¯ä¸€æ ‡è¯†ï¼ˆview è°ƒç”¨åè®®æ–¹æ³•ï¼‰ã€‚ç„¶åæ‹¼æ¥ä¹‹å‰æ‹¿å‡ºçš„ viewPath</p>
<pre><code>//NSObject+UniqueIdentify.h
#importNS_ASSUME_NONNULL_BEGIN

@class NSObject;
@protocol UniqueIdentify@optional
- (NSString *)setUniqueIdentifier;

@end

@interface NSObject (UniqueIdentify)@end

NS_ASSUME_NONNULL_END
    
//NSObject+UniqueIdentify.m
#import &quot;NSObject+UniqueIdentify.h&quot;

@implementation NSObject (UniqueIdentify)

@end

//MallTGoodTagView.h

extern NSString * _Nonnull const ImmediateyPurchase;
extern NSString * _Nonnull const ShareToAward;

//MallTGoodTagView.m
NSString *const ImmediateyPurchase = @&quot;ç«‹å³æŠ¢è´­&quot;;
NSString *const ShareToAward = @&quot;åˆ†äº«èµšä½£é‡‘&quot;;

- (NSString *)setUniqueIdentifier
&#123;
    if (self.tagString) &#123;
        return self.tagString;
    &#125; else &#123;
        return NSStringFromClass([self class]);
    &#125;
&#125;

//UIResponder Category ç”Ÿæˆ viewPath
- (NSString *)lbp_identifierKa
&#123;
//    if (self.xq_identifier_ka == nil) &#123;
        if ([self isKindOfClass:[UIView class]]) &#123;
            UIView *view = (id)self;
            NSString *sameViewTreeNode = [view obtainSameSuperViewSameClassViewTreeIndexPath];
            NSMutableString *str = [NSMutableString string];
            //ç‰¹æ®Šçš„ åŠ å‡è´­ å› ä¸ºå¸¦æœ‰spmä½†æ˜¯è¦åŒºåˆ†åŠ å‡ éœ€è¦å¸¦TreeNode
            NSString *className = [NSString stringWithUTF8String:object_getClassName(view)];
            if (!view.accessibilityIdentifier || [className isEqualToString:@&quot;lbpButton&quot;]) &#123;
                [str appendString:sameViewTreeNode];
                [str appendString:@&quot;,&quot;];
            &#125;
            while (view.nextResponder) &#123;
                 if ([view respondsToSelector:@selector(setUniqueIdentifier)]) &#123;
                    NSString *unqiueIdentifier = [view setUniqueIdentifier];
                    if (unqiueIdentifier) &#123;
                        [str appendFormat:@&quot;%@,&quot;, unqiueIdentifier];
                    &#125;
                &#125;00
                [str appendFormat:@&quot;%@,&quot;, NSStringFromClass(view.class)];
                if ([view.class isSubclassOfClass:[UIViewController class]]) &#123;
                    break;
                &#125;
                view = (id)view.nextResponder;
            &#125;
            self.xq_identifier_ka = [self md5String:[NSString stringWithFormat:@&quot;%@&quot;,str]];
            //            self.xq_identifier_ka = [NSString stringWithFormat:@&quot;%@&quot;,str];
        &#125;
//    &#125;
    return self.xq_identifier_ka;
&#125;
</code></pre>
<h2 id="æ•°æ®å¦‚ä½•å¤„ç†"><a href="#æ•°æ®å¦‚ä½•å¤„ç†" class="headerlink" title="æ•°æ®å¦‚ä½•å¤„ç†"></a>æ•°æ®å¦‚ä½•å¤„ç†</h2><p>åˆ©ç”¨ç³»ç»Ÿæä¾›çš„ accessibilityIdentifier å®˜æ–¹ç»™å‡ºçš„è§£é‡Šæ˜¯æ ‡è¯†ç”¨æˆ·ç•Œé¢å…ƒç´ çš„å­—ç¬¦ä¸²</p>
<pre><code>/*

A string that identifies the user interface element.

default == nil

*/

@property(nullable, nonatomic, copy) NSString *accessibilityIdentifier NS_AVAILABLE_IOS(5_0);
</code></pre>
<p>æœåŠ¡ç«¯ä¸‹å‘å”¯ä¸€æ ‡è¯†</p>
<p>æ¥å£è·å–çš„æ•°æ®ï¼Œé‡Œé¢æœ‰å½“å‰å…ƒç´ çš„å”¯ä¸€æ ‡è¯†ã€‚æ¯”å¦‚åœ¨ UITableView çš„ç•Œé¢å»è¯·æ±‚æ¥å£æ‹¿åˆ°æ•°æ®ï¼Œé‚£ä¹ˆåœ¨åœ¨è·å–åˆ°çš„æ•°æ®æºé‡Œé¢ä¼šæœ‰ä¸€ä¸ªå­—æ®µï¼Œä¸“é—¨ç”¨æ¥å­˜å‚¨åŠ¨æ€åŒ–çš„ç»å¸¸å˜åŠ¨çš„ä¸šåŠ¡æ•°æ®ã€‚</p>
<pre><code>cell.accessibilityIdentifier = [[[SDGGoodsCategoryServices sharedInstance].categories[indexPath.section] children][indexPath.row].spmContent yy_modelToJSONString];
</code></pre>
<h3 id="åŸºç¡€æ•°æ®"><a href="#åŸºç¡€æ•°æ®" class="headerlink" title="åŸºç¡€æ•°æ®"></a>åŸºç¡€æ•°æ®</h3><p>è®¾è®¡ä¸Šåˆ†ä¸º2ä¸ª pod åº“ï¼Œä¸€ä¸ªæ˜¯ TriggerKitï¼ˆä¸“é—¨ç”¨æ¥ hook æœºä¼šéœ€è¦çš„æ‰€æœ‰äº‹ä»¶ï¼Œé¡µé¢åœç•™æ—¶é—´ã€é¡µé¢æ ‡è¯†ã€viewæ ‡è¯†ï¼‰ï¼Œå¦ä¸€ä¸ªæ˜¯ Appmonitorï¼ˆä¸“é—¨ç”¨æ¥æä¾›åŸºç¡€æ•°æ®ã€åŸ‹ç‚¹æ•°æ®çš„ç»´æŠ¤ã€ä¸Šä¼ æœºåˆ¶ï¼‰ã€‚æ‰€ä»¥åœ¨ Appmonitor é‡Œé¢æœ‰ä¸ªç±»å«åš UserTrackDataCenter çš„ç±»ï¼Œä¸“é—¨æä¾›ä¸€äº›åŸºç¡€æ•°æ®ï¼ˆç³»ç»Ÿç‰ˆæœ¬ã€æ“ä½œç³»ç»Ÿã€åœ°ç†ä½ç½®ã€ç½‘ç»œç­‰ä¿¡æ¯ï¼‰ã€‚</p>
<p>å¯¹å¤–æš´éœ²å‡ºä¸€äº›æ–¹æ³•ï¼Œç”¨æ¥å°†åŸ‹ç‚¹æ•°æ®äº¤ç»™ Appmonitor å»ç»´æŠ¤åŸ‹ç‚¹æ•°æ®ï¼Œè¾¾åˆ°åˆé€‚çš„â€œæœºåˆ¶â€å†å»ä¸Šä¼ åŸ‹ç‚¹æ•°æ®åˆ°æœåŠ¡ç«¯ã€‚</p>
<pre><code>+ (void)clickEventUuid:(NSString *)uuid otherParam:(NSDictionary *)otherParam spmContent:(NSDictionary *)spmContent &#123;
    if (uuid) &#123;
        NSMutableDictionary *params = [[NSMutableDictionary alloc] initWithDictionary:otherParam];
        params[SDGStatisticEventtagKey] = @&quot;clickMonitorV1&quot;;
        NSMutableDictionary *valueDict = [[NSMutableDictionary alloc] initWithDictionary:spmContent];
        valueDict[@&quot;xpath&quot;] = uuid?:@&quot;&quot;;
        params[SDGStatisticEventtagValue] = valueDict?:@&#123;&#125;;
        [[AppMonotior shareInstance] traceEvent:[AMStatisticEvent eventWithInfo:params]];
    &#125;
&#125;
</code></pre>
<h3 id="æ•°æ®ä¸ŠæŠ¥"><a href="#æ•°æ®ä¸ŠæŠ¥" class="headerlink" title="æ•°æ®ä¸ŠæŠ¥"></a>æ•°æ®ä¸ŠæŠ¥</h3><p>æ•°æ®é€šè¿‡ä¸Šé¢çš„åŠæ³•æ”¶é›†å®Œäº†ï¼Œé‚£ä¹ˆå¦‚ä½•åŠæ—¶ã€é«˜æ•ˆçš„ä¸Šä¼ åˆ°åç«¯ï¼Œç»™è¿è¥åˆ†æã€å¤„ç†å‘¢ï¼Ÿ</p>
<p>App è¿è¡ŒæœŸé—´ç”¨æˆ·ä¼šç‚¹å‡»éå¸¸å¤šçš„æ•°æ®ï¼Œå¦‚æœå®æ—¶ä¸Šä¼ çš„è¯å¯¹äºç½‘ç»œçš„åˆ©ç”¨ç‡è¾ƒä½ï¼Œæ‰€ä»¥éœ€è¦è€ƒè™‘ä¸€ä¸ªæœºåˆ¶å»æ§åˆ¶ç”¨æˆ·äº§ç”Ÿçš„åŸ‹ç‚¹æ•°æ®çš„ä¸Šä¼ ã€‚</p>
<p>æ€è·¯æ˜¯è¿™æ ·çš„ã€‚å¯¹å¤–éƒ¨æš´éœ²å‡ºä¸€ä¸ªæ¥å£ï¼Œç”¨æ¥å°†äº§ç”Ÿçš„æ•°æ®å¾€æ•°æ®ä¸­å¿ƒå­˜å‚¨ã€‚ç”¨æˆ·äº§ç”Ÿçš„æ•°æ®ä¼šå…ˆä¿å­˜åˆ° AppMonitor çš„å†…å­˜ä¸­å»ï¼Œè®¾ç½®ä¸€ä¸ªä¸´ç•Œå€¼ï¼ˆmemoryEventMax &#x3D; 50ï¼‰ï¼Œå¦‚æœå­˜å‚¨çš„å€¼è¾¾åˆ°è®¾ç½®çš„ä¸´ç•Œå€¼ memoryEventMaxï¼Œé‚£ä¹ˆå°†å†…å­˜ä¸­çš„æ•°æ®å†™å…¥æ–‡ä»¶ç³»ç»Ÿï¼Œä»¥ zip çš„å½¢å¼ä¿å­˜ä¸‹æ¥ï¼Œç„¶åä¸Šä¼ åˆ°åŸ‹ç‚¹ç³»ç»Ÿã€‚å¦‚æœæ²¡æœ‰è¾¾åˆ°ä¸´ç•Œå€¼ä½†æ˜¯å­˜åœ¨ä¸€äº› App çŠ¶æ€åˆ‡æ¢çš„æƒ…å†µï¼Œè¿™æ—¶å€™éœ€è¦åŠæ—¶ä¿å­˜æ•°æ®åˆ°æŒä¹…åŒ–ã€‚å½“ä¸‹æ¬¡æ‰“å¼€ App å°±å»ä»æœ¬åœ°æŒä¹…åŒ–çš„åœ°æ–¹è¯»å–æ˜¯å¦æœ‰æœªä¸Šä¼ çš„æ•°æ®ï¼Œå¦‚æœæœ‰å°±ä¸Šä¼ æ—¥å¿—ä¿¡æ¯ï¼ŒæˆåŠŸååˆ é™¤æœ¬åœ°çš„æ—¥å¿—å‹ç¼©åŒ…ã€‚</p>
<p>App åº”ç”¨çŠ¶æ€çš„åˆ‡æ¢ç­–ç•¥å¦‚ä¸‹ï¼š</p>
<p>didFinishLaunchWithOptions:å†…å­˜æ—¥å¿—ä¿¡æ¯å†™å…¥ç¡¬ç›˜</p>
<p>didBecomeActiveï¼šä¸Šä¼ </p>
<p>willTerimateï¼šå†…å­˜æ—¥å¿—ä¿¡æ¯å†™å…¥ç¡¬ç›˜</p>
<p>didEnterBackgroundï¼šå†…å­˜æ—¥å¿—ä¿¡æ¯å†™å…¥ç¡¬ç›˜</p>
<p>ä¸‹é¢çš„ä»£ç æ˜¯ App åŸ‹ç‚¹æ•°æ®çš„ä¿å­˜ä¸ä¸Šä¼ </p>
<pre><code>// å°†Appæ—¥å¿—ä¿¡æ¯å†™å…¥åˆ°å†…å­˜ä¸­ã€‚å½“å†…å­˜ä¸­çš„æ•°é‡åˆ°è¾¾ä¸€å®šè§„æ¨¡ï¼ˆè¶…è¿‡è®¾ç½®çš„å†…å­˜ä¸­å­˜å‚¨çš„æ•°é‡ï¼‰çš„æ—¶å€™å°±å°†å†…å­˜ä¸­çš„æ—¥å¿—å­˜å‚¨åˆ°æ–‡ä»¶ä¿¡æ¯ä¸­
- (void)joinEvent:(NSDictionary *)dictionary
&#123;
    if (dictionary) &#123;
        NSDictionary *tmp = [self createDicWithEvent:dictionary];
        if (!s_memoryArray) &#123;
            s_memoryArray = [NSMutableArray array];
        &#125;
        [s_memoryArray addObject:tmp];
        if ([s_memoryArray count] &gt;= s_flushNum) &#123;
            [self writeEventLogsInFilesCompletion:^&#123;
                [self startUploadLogFile];
            &#125;];
        &#125;
    &#125;
&#125;

// å¤–ç•Œè°ƒç”¨çš„æ•°æ®ä¼ é€’å…¥å£ï¼ˆAppåŸ‹ç‚¹ç»Ÿè®¡ï¼‰
- (void)traceEvent:(AMStatisticEvent *)event
&#123;
    // çº¿ç¨‹é”,é˜²æ­¢å¤šå¤„è°ƒç”¨äº§ç”Ÿå¹¶å‘é—®é¢˜
    @synchronized (self) &#123;
        if (event &amp;&amp; event.userInfo) &#123;
            [self joinEvent:event.userInfo];
        &#125;
    &#125;
&#125;

// å°†å†…å­˜ä¸­çš„æ•°æ®å†™å…¥åˆ°æ–‡ä»¶ä¸­ï¼ŒæŒä¹…åŒ–å­˜å‚¨
- (void)writeEventLogsInFilesCompletion:(void(^)(void))completionBlock
&#123;
    NSArray *tmp = nil;
    @synchronized (self) &#123;
        tmp = s_memoryArray;
        s_memoryArray = nil;
    &#125;
    if (tmp) &#123;
        __weak typeof(self) weakSelf = self;
        dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^&#123;
            NSString *jsonFilePath = [weakSelf createTraceJsonFile];
            if ([weakSelf writeArr:tmp toFilePath:jsonFilePath]) &#123;
                NSString *zipedFilePath = [weakSelf zipJsonFile:jsonFilePath];
                if (zipedFilePath) &#123;
                    [AppMonotior clearCacheFile:jsonFilePath];
                    if (completionBlock) &#123;
                        completionBlock();
                    &#125;
                &#125;
            &#125;
        &#125;);
    &#125;
&#125;

// ä»AppåŸ‹ç‚¹ç»Ÿè®¡å‹ç¼©åŒ…æ–‡ä»¶å¤¹ä¸­çš„æ¯ä¸ªå‹ç¼©åŒ…æ–‡ä»¶ä¸Šä¼ æœåŠ¡ç«¯ï¼ŒæˆåŠŸåå°±åˆ é™¤æœ¬åœ°çš„æ—¥å¿—å‹ç¼©åŒ…
- (void)startUploadLogFile
&#123;
    NSArray *fList = [self listFilesAtPath:[self eventJsonPath]];
    if (!fList || [fList count] == 0) &#123;
        return;
    &#125;
    [fList enumerateObjectsUsingBlock:^(id obj, NSUInteger idx, BOOL *stop) &#123;
        if (![obj hasSuffix:@&quot;.zip&quot;]) &#123;
            return;
        &#125;
        
        NSString *zipedPath = obj;
        unsigned long long fileSize = [[[NSFileManager defaultManager] attributesOfItemAtPath:zipedPath error:nil] fileSize];
        if (!fileSize || fileSize &lt; 1) &#123;
            return;
        &#125;
        // è°ƒç”¨æ¥å£ä¸Šä¼ åŸ‹ç‚¹æ•°æ®
        [self uploadZipFileWithPath:zipedPath completion:^(NSString *completionResult) &#123;
            if ([completionResult isEqual:@&quot;OK&quot;]) &#123;
                [AppMonotior clearCacheFile:zipedPath];
            &#125;
        &#125;];
    &#125;];
&#125;
</code></pre>
<p>ä½¿ç”¨çš„æ—¶å€™å°±æ˜¯åœ¨ hook ç³»ç»Ÿäº‹ä»¶çš„æ—¶å€™ï¼Œå»è°ƒç”¨ç»Ÿè®¡é¡µé¢ä¸Šä¼ æ•°æ®</p>
<pre><code>/UIViewController
[UserTrackDataCenter openPage:[self getPageUrl:className] fromPage:refer];	// é¡µé¢å‡ºç°
[UserTrackDataCenter leavePage:[self getPageUrl:className] spendTime:[self p_calculationTimeSpend]];	//é¡µé¢æ¶ˆå¤±
</code></pre>
<h2 id="æ€»ç»“ä¸‹æ¥å…³é”®æ­¥éª¤ï¼š"><a href="#æ€»ç»“ä¸‹æ¥å…³é”®æ­¥éª¤ï¼š" class="headerlink" title="æ€»ç»“ä¸‹æ¥å…³é”®æ­¥éª¤ï¼š"></a>æ€»ç»“ä¸‹æ¥å…³é”®æ­¥éª¤ï¼š</h2><p>hook ç³»ç»Ÿçš„å„ç§äº‹ä»¶ï¼ˆUIResponderã€UITableViewã€UICollectionViewä»£ç†äº‹ä»¶ã€UIControläº‹ä»¶ã€UITapGestureRecognizersï¼‰ã€hook åº”ç”¨ç¨‹åºã€æ§åˆ¶å™¨ç”Ÿå‘½å‘¨æœŸã€‚åœ¨åšæœ¬æ¥çš„é€»è¾‘ä¹‹å‰æ·»åŠ é¢å¤–çš„ç›‘æ§ä»£ç </p>
<p>å¯¹äºç‚¹å‡»çš„å…ƒç´ æŒ‰ç…§è§†å›¾æ ‘ç”Ÿæˆå¯¹åº”çš„å”¯ä¸€æ ‡è¯†ï¼ˆaddCartButton.GoodsView.GoodsViewControllerï¼‰ çš„ md5 å€¼</p>
<p>åœ¨ä¸šåŠ¡å¼€å‘å®Œæ¯•ï¼Œè¿›å…¥åŸ‹ç‚¹çš„ç¼–è¾‘æ¨¡å¼ï¼Œå°† md5 å’Œå…³é”®çš„é¡µé¢çš„å…³é”®äº‹ä»¶ï¼ˆè¿è¥ã€äº§å“æƒ³ç»Ÿè®¡çš„å…³é”®æ¨¡å—ï¼šAppå±‚çº§ã€ä¸šåŠ¡æ¨¡å—ã€å…³é”®é¡µé¢ã€å…³é”®æ“ä½œï¼‰ç»™ç»‘å®šèµ·æ¥ã€‚æ¯”å¦‚ addCartButton.GoodsView.GoodsViewController.tbApp å¯¹åº”äº† tbApp-å•†åŸæ¨¡å—-å•†å“è¯¦æƒ…é¡µ-åŠ å…¥è´­ç‰©è½¦åŠŸèƒ½ã€‚</p>
<p>å°†æ‰€éœ€è¦çš„æ•°æ®å­˜å‚¨ä¸‹æ¥</p>
<p>è®¾è®¡æœºåˆ¶ç­‰åˆ°åˆé€‚çš„æ—¶æœºå»ä¸Šä¼ æ•°æ®</p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color4">iOS</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2019/07/04/%E7%9C%8B%E5%AE%8C%E5%B0%B1%E6%87%82%E7%9A%84%E6%97%A0%E7%97%95%E5%9F%8B%E7%82%B9/">å±•å¼€å…¨æ–‡ >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-å…³äºæ—¥å¿—æ¨¡å¼åŠæ—¥å¿—çº§åˆ«" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/07/02/%E5%85%B3%E4%BA%8E%E6%97%A5%E5%BF%97%E6%A8%A1%E5%BC%8F%E5%8F%8A%E6%97%A5%E5%BF%97%E7%BA%A7%E5%88%AB/">iOSå…³äºæ—¥å¿—æ¨¡å¼åŠæ—¥å¿—çº§åˆ«</a>
    </h1>
  

        
        <a href="/2019/07/02/%E5%85%B3%E4%BA%8E%E6%97%A5%E5%BF%97%E6%A8%A1%E5%BC%8F%E5%8F%8A%E6%97%A5%E5%BF%97%E7%BA%A7%E5%88%AB/" class="archive-article-date">
  	<time datetime="2019-07-02T08:55:06.088Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2019-07-02</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><p>åœ¨å¼€å‘ä¸­æˆ‘ä»¬ç»å¸¸è¦é€šè¿‡Log(æ—¥å¿—)æ¥è°ƒè¯•é—®é¢˜, è€Œä¸Šçº¿åä¸éœ€è¦æ‰“å°Log,è€Œä¸”å¹³å¸¸å¼€å‘æ¯åšä¸€ä¸ªæ¨¡å—å¦‚æœå¯ä»¥å°†logæŒ‰ç…§çº§åˆ«æ‰“å°å‡ºæ¥,å¯¹åˆ†æé—®é¢˜å¸®åŠ©å¾ˆå¤§.</p>
<h2 id="å®ç°åŸç†"><a href="#å®ç°åŸç†" class="headerlink" title="å®ç°åŸç†"></a>å®ç°åŸç†</h2><p>é€šè¿‡å¯¼å…¥ä¸€ä¸ªå¤´æ–‡ä»¶ä»¥å®ç°å¼€å¯æˆ–å…³é—­Logæ¨¡å¼,å®ç°é€‰æ‹©Logçº§åˆ«.é€šè¿‡å¯¼å…¥#include &lt;syslog.h&gt;ä»¥å®ç°æ‰“å°ä¸åŒçº§åˆ«çš„Log.</p>
<p>ä¸ºä»€ä¹ˆä½¿ç”¨syslog ? å› ä¸ºå®ƒä¸ä»…å¯ä»¥åœ¨Xcodeæ§åˆ¶å°æ‰“å°ä¿¡æ¯,è¿˜å¯èƒ½åœ¨Macç»ˆç«¯ä¸­æ‰“å°å‡ºæ—¥å¿—ä¿¡æ¯,è¿™æ ·çš„å¥½å¤„æ˜¯æ¯”å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªapp storeçš„appå‡ºäº†é—®é¢˜,æˆ‘ä»¬å¯ä»¥åœ¨appä¸­è°ƒèŠ‚log levelåˆ°debugæ¨¡å¼,ç„¶åä½¿ç”¨æ•°æ®çº¿è¿æ¥è®¾å¤‡, è¿™æ ·å†å¤ç°é—®é¢˜å¯ä»¥å°†ç›¸å…³çš„Logå³æ—¶æ‰“å°å‡ºæ¥.å¯¹åˆ†æé—®é¢˜å¸®åŠ©å¾ˆå¤§.</p>
<h2 id="ç®€è¦åˆ†æ"><a href="#ç®€è¦åˆ†æ" class="headerlink" title="ç®€è¦åˆ†æ"></a>ç®€è¦åˆ†æ</h2><h3 id="1-Logæ¨¡å¼"><a href="#1-Logæ¨¡å¼" class="headerlink" title="1. Logæ¨¡å¼"></a>1. Logæ¨¡å¼</h3><p>ä¸ºä»€ä¹ˆè®¾ç½®logæ¨¡å¼,å¾ˆç®€å•,å› ä¸ºä¸Šçº¿åçš„appä¸å¿…æ‰“å°log, è€Œä¸”å¦‚æœå¼€å‘ä¸­æƒ³å–æ¶ˆæ‰€æœ‰ç›¸å…³æ‰“å°ä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡è¯¥å®å®šä¹‰å†³å®š.</p>
<p>æœ¬ä¾‹ä¸­å¦‚æœåœ¨ä»£ç ä¸­å®šä¹‰äº†kXDXDebugModeåˆ™å¯ç”¨æ‰“å°logæ¨¡å¼,å¦åˆ™å…³é—­.</p>
<h3 id="2-Logçº§åˆ«"><a href="#2-Logçº§åˆ«" class="headerlink" title="2.Logçº§åˆ«"></a>2.Logçº§åˆ«</h3><p>æœ¬ä¾‹ä¸­é€šè¿‡äº”ä¸ªå‡½æ•°æ¥æ‰“å°ä¸åŒçº§åˆ«log,å¦‚ä¸‹</p>
<pre><code>#define kModuleName &quot;Hello&quot;
...
    int i = 1; int j = 2;
    log4cplus_fatal(kModuleName, &quot;world1 , %d,%d&quot;,i,j);
    log4cplus_error(kModuleName, &quot;world2&quot;);
    log4cplus_warn(kModuleName, &quot;world3&quot;);
    log4cplus_info(kModuleName, &quot;world4&quot;);
    log4cplus_debug(kModuleName, &quot;world5&quot;);
</code></pre>
<p>æ¯”å¦‚æˆ‘ä»¬åœ¨å¼€å‘ä¸­å¯èƒ½ç‹¬ç«‹æ‰¿æ‹…ä¸€ä¸ªæ¨¡å—,è€Œæ­¤æ¨¡å—å•å•åšå®Œå¦‚æœå‡ºç°é—®é¢˜å°±éœ€è¦è°ƒè¯•,ä½†æ˜¯å¦‚æœæˆ‘ä»¬çš„Logè¶³å¤Ÿæ¸…æ™°æ˜¯å¯ä»¥è¿…é€Ÿå¸®åŠ©æˆ‘ä»¬æ‰¾åˆ°é—®é¢˜æ‰€åœ¨,è¿™é‡Œå°†Logåˆ†ä¸º5ä¸ªçº§åˆ«<br>ä»¥ä¸‹æ˜¯ä¸ªäººå¯¹äºæ‰“å°Logçš„ä¸€äº›å»ºè®®,å¹¶ä¸æ˜¯è¯´ä¸€å®šè¦æŒ‰ç…§å¦‚ä¸‹.</p>
<p>XDX_IOS_FLAG_FATAL : ä¸¥é‡çº§åˆ«</p>
<p>æ­¤ç±»é”™è¯¯å‡ºç°æ—¶,è¡¨æ˜ç¨‹åºå› ä¸ºæŸæŸé—®é¢˜å·²ç»å½»åº•æ— æ³•è¿è¡Œä¸‹å»,æˆ‘ä»¬åœ¨ä½¿ç”¨æ­¤logæ—¶å¯ä»¥é™„åŠ è¯´æ˜å½“å‰ç¢°åˆ°çš„é‡å¤§é—®é¢˜åŠäº§ç”ŸåŸå› ,ä»¥ä¾¿è°ƒè¯•.</p>
<p>XDX_IOS_FLAG_ERROR : å‡ºé”™çº§åˆ«</p>
<p>æ­¤ç±»æ‰“å°å¯ç”¨äºå‡ºç°ä¸€èˆ¬é”™è¯¯,æ¯”å¦‚æŸä¸ªæ–¹æ³•è°ƒç”¨è¿”å›å¤±è´¥, å› ä¸ºä¸€èˆ¬è€Œè¨€ä»£ç é¢„æœŸæ˜¯æ­£ç¡®çš„, æ‰€ä»¥æ­¤ç±»Logä¸ä¼šæ‰“å°çš„å¤ªé¢‘ç¹, æ‰“å¼€æ­¤çº§åˆ«åæˆ‘ä»¬å¯ä»¥æ¸…æ™°çœ‹åˆ°ç¨‹åºå“ªäº›åœ°æ–¹å‡ºç°é—®é¢˜.</p>
<p>XDX_IOS_FLAG_WARN : è­¦å‘Šçº§åˆ«</p>
<p>æ­¤ç±»é”™è¯¯ä¸€èˆ¬è¾ƒä½äºerrorçº§åˆ«,å³åœ¨ä¸€äº›å¯èƒ½å‡ºé”™çš„åœ°æ–¹, ä½†å®é™…å¹¶æ²¡æœ‰å‡ºé”™, æ¯”å¦‚å½“è§†é¢‘å¸§æ•°é‡å°äº0è¡¨ç¤ºå‡ºé”™æƒ…å†µ,æˆ‘ä»¬ä¸ºäº†é¢„é˜²,å¯ä»¥åœ¨è§†é¢‘å¸§æ•°é‡å°äº5æ—¶ä½¿ç”¨æ­¤ç±»æ·»åŠ ä¸€æ¡é¢„é˜²çš„Log.</p>
<p>XDX_IOS_FLAG_INFO : é‡è¦ä¿¡æ¯çº§åˆ«</p>
<p>æ­¤ç±»çº§åˆ«ä¸€èˆ¬ç”¨äºæ‰“å°æ¨¡å—ä¸­ä¸€äº›é‡è¦çš„ç‚¹, æ¯”å¦‚æˆ‘ä»¬å¯ä»¥åœ¨æŸä¸ªç±»åˆå§‹åŒ–å®Œæˆæ—¶æ‰“å°æ­¤ç±»ä¸­åˆå§‹åŒ–å¥½çš„ä¸€äº›é‡è¦ä¿¡æ¯,æˆ–è€…åœ¨ä½¿ç”¨æŸä¸ªåŠŸèƒ½å‰åšä¸€ä¸ªæ‰“å°,è¿™æ ·å¯¹äºè¿½è¸ªä»£ç ååˆ†æœ‰æ•ˆ.</p>
<p>XDX_IOS_FLAG_DEBUG : è°ƒè¯•çº§åˆ«</p>
<p>æ­¤ç±»çº§åˆ«è¡¨æ˜æˆ‘ä»¬å½“å‰æ­£åœ¨ä¸´æ—¶æ‰“å°ä¸€äº›logä¸ºäº†å»è°ƒè¯•ç¨‹åº, æˆ–è€…è¯´æˆ‘ä»¬ä¸ºäº†è§‚å¯ŸæŸä¸ªç°è±¡ä½†æ˜¯éœ€è¦é¢‘ç¹æ‰“å°, æ¯”å¦‚ç›¸æœºå›è°ƒä¸­æ‰“å°æ—¶é—´æˆ³,å› ä¸ºç›¸æœºæ¯ç§’é’Ÿå‡ºæ¥å‡ åå¸§æ•°æ®,æ‰€ä»¥æ‰“å°ååˆ†é¢‘ç¹,æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ­¤çº§åˆ«åœ¨å¼€å‘ä¸­ä½œä¸ºè°ƒè¯•ä¿¡æ¯,ä¸€èˆ¬ä¸å»ºè®®åœ¨æ­£å¸¸ä½¿ç”¨ä¸­å¼€å¯æ­¤çº§åˆ«.<br>ç»¼ä¸Šæ‰€è¿°,å³logçº§åˆ«è¶Šé«˜,logæ•°é‡åº”è¯¥æ˜¯è¶Šå°‘,è¿™æ ·æˆ‘ä»¬å¯ä»¥åœ¨å¼€å‘ä¸­æ ¹æ®å¦‚ä¸Šæ‰€è¿°çš„æƒ…å†µåˆç†é€‰æ‹©ä½¿ç”¨å“ªä¸ªçº§åˆ«çš„log. Logçº§åˆ«æ˜¯æœ‰åŒ…å«å…³ç³»çš„, å³ä½çš„logçº§åˆ«å¯ä»¥åŒ…å«æ¯”è‡ªèº«é«˜çš„logçº§åˆ«.</p>
<h3 id="3-æ¨¡å—å"><a href="#3-æ¨¡å—å" class="headerlink" title="3. æ¨¡å—å"></a>3. æ¨¡å—å</h3><p>è¿™é‡Œå°è£…çš„æ ¼å¼å¦‚ä¸‹,å³ä¸€æ¡logåˆ†ä¸ºä¸¤éƒ¨åˆ†,å‰é¢æ˜¯æ¨¡å—å,åé¢æ˜¯å…·ä½“logå†…å®¹,ä½¿ç”¨è¿™ç§æ ¼å¼å¯ä»¥å¸®åŠ©æˆ‘ä»¬é€šè¿‡è¿‡æ»¤æŸä¸ªæ¨¡å—ä¸­çš„Log, ååˆ†ç›´è§‚æ¸…æ™°</p>
<pre><code>#define log4cplus_fatal(category, logFmt, ...) \
if(XDX_IOS_LOG_LEVEL &amp; XDX_IOS_FLAG_FATAL) \
syslog(LOG_CRIT, &quot;%s:&quot; logFmt, category,##__VA_ARGS__); \
</code></pre>
<p>ä¸¾ä¾‹å¦‚ä¸‹:</p>
<pre><code>#define kModuleName &quot;Hello&quot;

...


- (void)test &#123;
    int i = 0;
    log4cplus_debug(kModuleName, &quot;Hello World - %d&quot;,i);
&#125;
</code></pre>
<h3 id="4-æ³¨æ„"><a href="#4-æ³¨æ„" class="headerlink" title="4.æ³¨æ„"></a>4.æ³¨æ„</h3><p>å› ä¸ºæˆ‘ä»¬ä½¿ç”¨çš„syslog,æ‰€ä»¥OCä¸­çš„æ ¼å¼ç¬¦%@æ˜¯ä¸å¯ç”¨çš„.ä½†æ˜¯ä»»ä½•OCä¸­çš„å­—ç¬¦ä¸²éƒ½å¯é€šè¿‡UTF8Stringè½¬ä¸ºCè¯­è¨€å­—ç¬¦ä¸²,æ‰€ä»¥å¹¶ä¸å½±å“æˆ‘ä»¬çš„ä½¿ç”¨.</p>
<h3 id="5-ä½¿ç”¨æ–¹å¼"><a href="#5-ä½¿ç”¨æ–¹å¼" class="headerlink" title="5.ä½¿ç”¨æ–¹å¼"></a>5.ä½¿ç”¨æ–¹å¼</h3><p>æ¯æ¬¡ç¼–è¯‘å‰è®¾ç½®logçº§åˆ«</p>
<p>å¦‚æœä¸éœ€è¦åœ¨é¡¹ç›®ä¸­é€šè¿‡UIåŠ¨æ€æ›´æ”¹logçº§åˆ«,åˆ™å¯ä»¥ç›´æ¥ä½¿ç”¨å¦‚ä¸‹æ–¹å¼å°†å¤´æ–‡ä»¶æ‹–å…¥é¡¹ç›®,ç„¶ååœ¨éœ€è¦ä½¿ç”¨logçš„åœ°æ–¹å°†å…¶å¯¼å…¥.è¿™ç§æ–¹å¼ç®€å•æ–¹ä¾¿,ä»…ä»…é€šè¿‡æ¯æ¬¡è¿è¡Œå‰æ›´æ”¹å®å®šä¹‰å³å¯è½¬å˜logçº§åˆ«.</p>
<p>åœ¨è¿è¡Œåé€šè¿‡UIæ›´æ”¹</p>
<p>é‚£ä¹ˆéœ€è¦å°†å¤´æ–‡ä»¶çš„XDX_IOS_LOG_LEVELå…¨å±€é™æ€å˜é‡æ¢ä¸ºå¤–éƒ¨å˜é‡,ç„¶åå–æ¶ˆä¸‹é¢è¿™æ®µä»£ç ,æœ€ååœ¨æ§åˆ¶UIçš„ç±»ä¸­å®šä¹‰å¹¶é€šè¿‡äº¤äº’æ›´æ”¹æ­¤å€¼å³å¯.</p>
<pre><code>#ifdef XDXLogLevelFatal
static const int XDX_IOS_LOG_LEVEL = XDX_IOS_FLAG_FATAL;
#elif defined(XDXLogLevelError)
static const int XDX_IOS_LOG_LEVEL = (XDX_IOS_FLAG_FATAL | XDX_IOS_FLAG_ERROR);
#elif defined(XDXLogLevelWarn)
static const int XDX_IOS_LOG_LEVEL = (XDX_IOS_FLAG_FATAL | XDX_IOS_FLAG_ERROR | XDX_IOS_FLAG_WARN);
#elif defined(XDXLogLevelInfo)
static const int XDX_IOS_LOG_LEVEL = (XDX_IOS_FLAG_FATAL | XDX_IOS_FLAG_ERROR | XDX_IOS_FLAG_WARN | XDX_IOS_FLAG_INFO);
#elif defined(XDXLogLevelDebug)
static const int XDX_IOS_LOG_LEVEL = (XDX_IOS_FLAG_FATAL | XDX_IOS_FLAG_ERROR | XDX_IOS_FLAG_WARN | XDX_IOS_FLAG_INFO | XDX_IOS_FLAG_DEBUG);
#endif
</code></pre>
<h2 id="å…·ä½“å®ç°"><a href="#å…·ä½“å®ç°" class="headerlink" title="å…·ä½“å®ç°"></a>å…·ä½“å®ç°</h2><pre><code>#include &lt;syslog.h&gt;
#ifndef XDX_IOS
#define XDX_IOS
#endif

#pragma - Please select your log mode and log level

// Note: Only debug mode will print log. You could also set mode for log level.
#define kXDXDebugMode
// XDXLogLevelFatal , XDXLogLevelError , XDXLogLevelWarn , XDXLogLevelInfo , XDXLogLevelDebug
#define XDXLogLevelDebug

#pragma ----------------------------------

#ifdef kXDXDebugMode

static const int XDX_IOS_FLAG_FATAL = 0x10;
static const int XDX_IOS_FLAG_ERROR = 0x08;
static const int XDX_IOS_FLAG_WARN  = 0x04;
static const int XDX_IOS_FLAG_INFO  = 0x02;
static const int XDX_IOS_FLAG_DEBUG = 0x01;

#ifdef XDXLogLevelFatal
static const int XDX_IOS_LOG_LEVEL = XDX_IOS_FLAG_FATAL;
#elif defined(XDXLogLevelError)
static const int XDX_IOS_LOG_LEVEL = (XDX_IOS_FLAG_FATAL | XDX_IOS_FLAG_ERROR);
#elif defined(XDXLogLevelWarn)
static const int XDX_IOS_LOG_LEVEL = (XDX_IOS_FLAG_FATAL | XDX_IOS_FLAG_ERROR | XDX_IOS_FLAG_WARN);
#elif defined(XDXLogLevelInfo)
static const int XDX_IOS_LOG_LEVEL = (XDX_IOS_FLAG_FATAL | XDX_IOS_FLAG_ERROR | XDX_IOS_FLAG_WARN | XDX_IOS_FLAG_INFO);
#elif defined(XDXLogLevelDebug)
static const int XDX_IOS_LOG_LEVEL = (XDX_IOS_FLAG_FATAL | XDX_IOS_FLAG_ERROR | XDX_IOS_FLAG_WARN | XDX_IOS_FLAG_INFO | XDX_IOS_FLAG_DEBUG);
#endif



#define log4cplus_fatal(category, logFmt, ...) \
if(XDX_IOS_LOG_LEVEL &amp; XDX_IOS_FLAG_FATAL) \
syslog(LOG_CRIT, &quot;%s:&quot; logFmt, category,##__VA_ARGS__); \

#define log4cplus_error(category, logFmt, ...) \
if(XDX_IOS_LOG_LEVEL &amp; XDX_IOS_FLAG_ERROR) \
syslog(LOG_ERR, &quot;%s:&quot; logFmt, category,##__VA_ARGS__); \

#define log4cplus_warn(category, logFmt, ...) \
if(XDX_IOS_LOG_LEVEL &amp; XDX_IOS_FLAG_WARN) \
syslog(LOG_WARNING, &quot;%s:&quot; logFmt, category,##__VA_ARGS__); \

#define log4cplus_info(category, logFmt, ...) \
if(XDX_IOS_LOG_LEVEL &amp; XDX_IOS_FLAG_INFO) \
syslog(LOG_WARNING, &quot;%s:&quot; logFmt, category,##__VA_ARGS__); \

#define log4cplus_debug(category, logFmt, ...) \
if(XDX_IOS_LOG_LEVEL &amp; XDX_IOS_FLAG_DEBUG) \
syslog(LOG_WARNING, &quot;%s:&quot; logFmt, category,##__VA_ARGS__); \


#else

#define log4cplus_fatal(category, logFmt, ...); \

#define log4cplus_error(category, logFmt, ...); \

#define log4cplus_warn(category, logFmt, ...); \

#define log4cplus_info(category, logFmt, ...); \

#define log4cplus_debug(category, logFmt, ...); \

#endif
</code></pre>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color4">iOS</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2019/07/02/%E5%85%B3%E4%BA%8E%E6%97%A5%E5%BF%97%E6%A8%A1%E5%BC%8F%E5%8F%8A%E6%97%A5%E5%BF%97%E7%BA%A7%E5%88%AB/">å±•å¼€å…¨æ–‡ >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-#defineå’Œconstçš„ä½¿ç”¨" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><p>åœ¨iOSå¼€å‘ä¸­ï¼Œç»å¸¸ç”¨åˆ°å®å®šä¹‰ï¼Œæˆ–ç”¨constä¿®é¥°ä¸€äº›æ•°æ®ç±»å‹</p>
<p>é‚£ä¹ˆï¼Œåˆ°åº•ä½¿ç”¨å“ªä¸€ç§ä¼šæ›´åˆé€‚ï¼Œä»–ä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«</p>
<h2 id="static"><a href="#static" class="headerlink" title="static"></a>static</h2><p>ä¿®é¥°å±€éƒ¨å˜é‡</p>
<p>è®©å±€éƒ¨å˜é‡åªåˆå§‹åŒ–ä¸€æ¬¡</p>
<p>å±€éƒ¨å˜é‡åœ¨ç¨‹åºä¸­åªæœ‰ä¸€ä»½å†…å­˜</p>
<p>å¹¶ä¸ä¼šæ”¹å˜å±€éƒ¨å˜é‡çš„ä½œç”¨åŸŸï¼Œä»…ä»…æ˜¯æ”¹å˜äº†å±€éƒ¨å˜é‡çš„ç”Ÿå‘½å‘¨æœŸï¼ˆåªåˆ°ç¨‹åºç»“æŸï¼Œè¿™ä¸ªå±€éƒ¨å˜é‡æ‰ä¼šé”€æ¯ï¼‰</p>
<p>ä¿®é¥°å…¨å±€å˜é‡</p>
<p>å…¨å±€å˜é‡çš„ä½œç”¨åŸŸä»…é™äºå½“å‰æ–‡ä»¶</p>
<h2 id="const"><a href="#const" class="headerlink" title="const"></a>const</h2><p>æ²¡æœ‰constä¿®é¥°çš„æŒ‡é’ˆ</p>
<p>æŒ‡é’ˆpå’Œ*péƒ½èƒ½è¢«ä¿®æ”¹&#x2F;&#x2F; </p>
<h2 id="staticå’Œconstè”åˆä½¿ç”¨"><a href="#staticå’Œconstè”åˆä½¿ç”¨" class="headerlink" title="staticå’Œconstè”åˆä½¿ç”¨"></a>staticå’Œconstè”åˆä½¿ç”¨</h2><p>staticå°†ä¸€ä¸ªå…¨å±€å˜é‡å˜æˆå±€éƒ¨å˜é‡</p>
<p>constå°†ä¸€ä¸ªå±€éƒ¨å˜é‡å˜æˆå±€éƒ¨å¸¸é‡</p>
<h2 id="ä½¿ç”¨static-const-ä¸-define"><a href="#ä½¿ç”¨static-const-ä¸-define" class="headerlink" title="ä½¿ç”¨static const ä¸ #define"></a>ä½¿ç”¨static const ä¸ #define</h2><p>ç›¸åŒç‚¹</p>
<p>éƒ½ä¸èƒ½å†è¢«ä¿®æ”¹</p>
<p>ä¸€å¤„ä¿®æ”¹ï¼Œå…¶å®ƒéƒ½æ”¹äº†</p>
<p>ä¸åŒç‚¹</p>
<p>static constä¿®é¥°å˜é‡åªæœ‰ä¸€ä»½å†…å­˜</p>
<p>å®å®šä¹‰ï¼Œåªæ˜¯ç®€å•çš„æ›¿æ¢ï¼Œæ¯æ¬¡ä½¿ç”¨éƒ½éœ€è¦åˆ›å»ºä¸€ä»½å†…å­˜</p>
<p>ç»“è®º</p>
<p>ä½¿ç”¨static constä¿®é¥°æ›´åŠ é«˜æ•ˆï¼Œåœ¨åŒä¸€ä¸ªæ–‡ä»¶å†…å¯ä»¥ä½¿ç”¨static constå–ä»£#define</p>
<h2 id="constå®é™…å¼€å‘çš„åº”ç”¨"><a href="#constå®é™…å¼€å‘çš„åº”ç”¨" class="headerlink" title="constå®é™…å¼€å‘çš„åº”ç”¨"></a>constå®é™…å¼€å‘çš„åº”ç”¨</h2><p>ä¸€èˆ¬ä¼šå…ˆæ–°å»ºZMJConst.hæ–‡ä»¶ä¸“é—¨å­˜æ”¾å¸¸é‡çš„å¼•ç”¨&#x2F;&#x2F; </p>
<p>å¼•ç”¨æŸå˜é‡ï¼Œå¦‚æœæ²¡æœ‰ä½¿ç”¨constä¿®é¥°ï¼Œå°±ä¸èƒ½ç›´æ¥åœ¨ç¼–è¯‘çš„æ—¶å€™å°±èƒ½æ£€æµ‹æ˜¯å¦ä¿®æ”¹äº†</p>
<p>ZMJRedexternconstCGFloatZMJRed;externNSString*constZMJName;</p>
<p>å¯ä»¥æ¨¡ä»¿ç³»ç»ŸUIKIT_EXTERNæ¥ä»£æ›¿externï¼Œé€¼æ ¼æ›´é«˜ï¼</p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color4">iOS</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2019/06/30/#define%E5%92%8Cconst%E7%9A%84%E4%BD%BF%E7%94%A8/">å±•å¼€å…¨æ–‡ >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/7/">&amp;laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><span class="page-number current">8</span><a class="page-number" href="/page/9/">9</a><a class="page-number" href="/page/10/">10</a><span class="space">&hellip;</span><a class="page-number" href="/page/23/">23</a><a class="extend next" rel="next" href="/page/9/">Next &amp;raquo;</a>
    </nav>
  


          </div>
        </div>
      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2023 wangjungang
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>

<img src="https://static.dy208.cn/o_1dfilp8ruo521thr1hvf18ji17soa.png">
<a href="http://www.beian.miit.gov.cn/"  style="color:#f72b07" target="_blank">äº¬ICPå¤‡18042658å·</a>

</footer>
    </div>
    <script>
	var yiliaConfig = {
		mathjax: false,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		toc_hide_index: true,
		root: "/",
		innerArchive: true,
		showTags: true
	}
</script>

<script>!function(t){function n(e){if(r[e])return r[e].exports;var i=r[e]={exports:{},id:e,loaded:!1};return t[e].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var r={};n.m=t,n.c=r,n.p="./",n(0)}([function(t,n,r){r(195),t.exports=r(191)},function(t,n,r){var e=r(3),i=r(52),o=r(27),u=r(28),c=r(53),f="prototype",a=function(t,n,r){var s,l,h,v,p=t&a.F,d=t&a.G,y=t&a.S,g=t&a.P,b=t&a.B,m=d?e:y?e[n]||(e[n]={}):(e[n]||{})[f],x=d?i:i[n]||(i[n]={}),w=x[f]||(x[f]={});d&&(r=n);for(s in r)l=!p&&m&&void 0!==m[s],h=(l?m:r)[s],v=b&&l?c(h,e):g&&"function"==typeof h?c(Function.call,h):h,m&&u(m,s,h,t&a.U),x[s]!=h&&o(x,s,v),g&&w[s]!=h&&(w[s]=h)};e.core=i,a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t,n,r){var e=r(6);t.exports=function(t){if(!e(t))throw TypeError(t+" is not an object!");return t}},function(t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,r){var e=r(126)("wks"),i=r(76),o=r(3).Symbol,u="function"==typeof o;(t.exports=function(t){return e[t]||(e[t]=u&&o[t]||(u?o:i)("Symbol."+t))}).store=e},function(t,n){var r={}.hasOwnProperty;t.exports=function(t,n){return r.call(t,n)}},function(t,n,r){var e=r(94),i=r(33);t.exports=function(t){return e(i(t))}},function(t,n,r){t.exports=!r(4)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n,r){var e=r(2),i=r(167),o=r(50),u=Object.defineProperty;n.f=r(10)?Object.defineProperty:function(t,n,r){if(e(t),n=o(n,!0),e(r),i)try{return u(t,n,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[n]=r.value),t}},function(t,n,r){t.exports=!r(18)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n,r){var e=r(14),i=r(22);t.exports=r(12)?function(t,n,r){return e.f(t,n,i(1,r))}:function(t,n,r){return t[n]=r,t}},function(t,n,r){var e=r(20),i=r(58),o=r(42),u=Object.defineProperty;n.f=r(12)?Object.defineProperty:function(t,n,r){if(e(t),n=o(n,!0),e(r),i)try{return u(t,n,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[n]=r.value),t}},function(t,n,r){var e=r(40)("wks"),i=r(23),o=r(5).Symbol,u="function"==typeof o;(t.exports=function(t){return e[t]||(e[t]=u&&o[t]||(u?o:i)("Symbol."+t))}).store=e},function(t,n,r){var e=r(67),i=Math.min;t.exports=function(t){return t>0?i(e(t),9007199254740991):0}},function(t,n,r){var e=r(46);t.exports=function(t){return Object(e(t))}},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n,r){var e=r(63),i=r(34);t.exports=Object.keys||function(t){return e(t,i)}},function(t,n,r){var e=r(21);t.exports=function(t){if(!e(t))throw TypeError(t+" is not an object!");return t}},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){var r=0,e=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+e).toString(36))}},function(t,n){var r={}.hasOwnProperty;t.exports=function(t,n){return r.call(t,n)}},function(t,n){var r=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=r)},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n,r){var e=r(11),i=r(66);t.exports=r(10)?function(t,n,r){return e.f(t,n,i(1,r))}:function(t,n,r){return t[n]=r,t}},function(t,n,r){var e=r(3),i=r(27),o=r(24),u=r(76)("src"),c="toString",f=Function[c],a=(""+f).split(c);r(52).inspectSource=function(t){return f.call(t)},(t.exports=function(t,n,r,c){var f="function"==typeof r;f&&(o(r,"name")||i(r,"name",n)),t[n]!==r&&(f&&(o(r,u)||i(r,u,t[n]?""+t[n]:a.join(String(n)))),t===e?t[n]=r:c?t[n]?t[n]=r:i(t,n,r):(delete t[n],i(t,n,r)))})(Function.prototype,c,function(){return"function"==typeof this&&this[u]||f.call(this)})},function(t,n,r){var e=r(1),i=r(4),o=r(46),u=function(t,n,r,e){var i=String(o(t)),u="<"+n;return""!==r&&(u+=" "+r+'="'+String(e).replace(/"/g,"&quot;")+'"'),u+">"+i+"</"+n+">"};t.exports=function(t,n){var r={};r[t]=n(u),e(e.P+e.F*i(function(){var n=""[t]('"');return n!==n.toLowerCase()||n.split('"').length>3}),"String",r)}},function(t,n,r){var e=r(115),i=r(46);t.exports=function(t){return e(i(t))}},function(t,n,r){var e=r(116),i=r(66),o=r(30),u=r(50),c=r(24),f=r(167),a=Object.getOwnPropertyDescriptor;n.f=r(10)?a:function(t,n){if(t=o(t),n=u(n,!0),f)try{return a(t,n)}catch(t){}if(c(t,n))return i(!e.f.call(t,n),t[n])}},function(t,n,r){var e=r(24),i=r(17),o=r(145)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),e(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n){t.exports={}},function(t,n){t.exports=!0},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,r){var e=r(14).f,i=r(8),o=r(15)("toStringTag");t.exports=function(t,n,r){t&&!i(t=r?t:t.prototype,o)&&e(t,o,{configurable:!0,value:n})}},function(t,n,r){var e=r(40)("keys"),i=r(23);t.exports=function(t){return e[t]||(e[t]=i(t))}},function(t,n,r){var e=r(5),i="__core-js_shared__",o=e[i]||(e[i]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,n){var r=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:r)(t)}},function(t,n,r){var e=r(21);t.exports=function(t,n){if(!e(t))return t;var r,i;if(n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!e(i=r.call(t)))return i;if(!n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,n,r){var e=r(5),i=r(25),o=r(36),u=r(44),c=r(14).f;t.exports=function(t){var n=i.Symbol||(i.Symbol=o?{}:e.Symbol||{});"_"==t.charAt(0)||t in n||c(n,t,{value:u.f(t)})}},function(t,n,r){n.f=r(15)},function(t,n){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n,r){var e=r(4);t.exports=function(t,n){return!!t&&e(function(){n?t.call(null,function(){},1):t.call(null)})}},function(t,n,r){var e=r(53),i=r(115),o=r(17),u=r(16),c=r(203);t.exports=function(t,n){var r=1==t,f=2==t,a=3==t,s=4==t,l=6==t,h=5==t||l,v=n||c;return function(n,c,p){for(var d,y,g=o(n),b=i(g),m=e(c,p,3),x=u(b.length),w=0,S=r?v(n,x):f?v(n,0):void 0;x>w;w++)if((h||w in b)&&(d=b[w],y=m(d,w,g),t))if(r)S[w]=y;else if(y)switch(t){case 3:return!0;case 5:return d;case 6:return w;case 2:S.push(d)}else if(s)return!1;return l?-1:a||s?s:S}}},function(t,n,r){var e=r(1),i=r(52),o=r(4);t.exports=function(t,n){var r=(i.Object||{})[t]||Object[t],u={};u[t]=n(r),e(e.S+e.F*o(function(){r(1)}),"Object",u)}},function(t,n,r){var e=r(6);t.exports=function(t,n){if(!e(t))return t;var r,i;if(n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!e(i=r.call(t)))return i;if(!n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,n,r){var e=r(5),i=r(25),o=r(91),u=r(13),c="prototype",f=function(t,n,r){var a,s,l,h=t&f.F,v=t&f.G,p=t&f.S,d=t&f.P,y=t&f.B,g=t&f.W,b=v?i:i[n]||(i[n]={}),m=b[c],x=v?e:p?e[n]:(e[n]||{})[c];v&&(r=n);for(a in r)(s=!h&&x&&void 0!==x[a])&&a in b||(l=s?x[a]:r[a],b[a]=v&&"function"!=typeof x[a]?r[a]:y&&s?o(l,e):g&&x[a]==l?function(t){var n=function(n,r,e){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,r)}return new t(n,r,e)}return t.apply(this,arguments)};return n[c]=t[c],n}(l):d&&"function"==typeof l?o(Function.call,l):l,d&&((b.virtual||(b.virtual={}))[a]=l,t&f.R&&m&&!m[a]&&u(m,a,l)))};f.F=1,f.G=2,f.S=4,f.P=8,f.B=16,f.W=32,f.U=64,f.R=128,t.exports=f},function(t,n){var r=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=r)},function(t,n,r){var e=r(26);t.exports=function(t,n,r){if(e(t),void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,i){return t.call(n,r,e,i)}}return function(){return t.apply(n,arguments)}}},function(t,n,r){var e=r(183),i=r(1),o=r(126)("metadata"),u=o.store||(o.store=new(r(186))),c=function(t,n,r){var i=u.get(t);if(!i){if(!r)return;u.set(t,i=new e)}var o=i.get(n);if(!o){if(!r)return;i.set(n,o=new e)}return o},f=function(t,n,r){var e=c(n,r,!1);return void 0!==e&&e.has(t)},a=function(t,n,r){var e=c(n,r,!1);return void 0===e?void 0:e.get(t)},s=function(t,n,r,e){c(r,e,!0).set(t,n)},l=function(t,n){var r=c(t,n,!1),e=[];return r&&r.forEach(function(t,n){e.push(n)}),e},h=function(t){return void 0===t||"symbol"==typeof t?t:String(t)},v=function(t){i(i.S,"Reflect",t)};t.exports={store:u,map:c,has:f,get:a,set:s,keys:l,key:h,exp:v}},function(t,n,r){"use strict";if(r(10)){var e=r(69),i=r(3),o=r(4),u=r(1),c=r(127),f=r(152),a=r(53),s=r(68),l=r(66),h=r(27),v=r(73),p=r(67),d=r(16),y=r(75),g=r(50),b=r(24),m=r(180),x=r(114),w=r(6),S=r(17),_=r(137),O=r(70),E=r(32),P=r(71).f,j=r(154),F=r(76),M=r(7),A=r(48),N=r(117),T=r(146),I=r(155),k=r(80),L=r(123),R=r(74),C=r(130),D=r(160),U=r(11),W=r(31),G=U.f,B=W.f,V=i.RangeError,z=i.TypeError,q=i.Uint8Array,K="ArrayBuffer",J="Shared"+K,Y="BYTES_PER_ELEMENT",H="prototype",$=Array[H],X=f.ArrayBuffer,Q=f.DataView,Z=A(0),tt=A(2),nt=A(3),rt=A(4),et=A(5),it=A(6),ot=N(!0),ut=N(!1),ct=I.values,ft=I.keys,at=I.entries,st=$.lastIndexOf,lt=$.reduce,ht=$.reduceRight,vt=$.join,pt=$.sort,dt=$.slice,yt=$.toString,gt=$.toLocaleString,bt=M("iterator"),mt=M("toStringTag"),xt=F("typed_constructor"),wt=F("def_constructor"),St=c.CONSTR,_t=c.TYPED,Ot=c.VIEW,Et="Wrong length!",Pt=A(1,function(t,n){return Tt(T(t,t[wt]),n)}),jt=o(function(){return 1===new q(new Uint16Array([1]).buffer)[0]}),Ft=!!q&&!!q[H].set&&o(function(){new q(1).set({})}),Mt=function(t,n){if(void 0===t)throw z(Et);var r=+t,e=d(t);if(n&&!m(r,e))throw V(Et);return e},At=function(t,n){var r=p(t);if(r<0||r%n)throw V("Wrong offset!");return r},Nt=function(t){if(w(t)&&_t in t)return t;throw z(t+" is not a typed array!")},Tt=function(t,n){if(!(w(t)&&xt in t))throw z("It is not a typed array constructor!");return new t(n)},It=function(t,n){return kt(T(t,t[wt]),n)},kt=function(t,n){for(var r=0,e=n.length,i=Tt(t,e);e>r;)i[r]=n[r++];return i},Lt=function(t,n,r){G(t,n,{get:function(){return this._d[r]}})},Rt=function(t){var n,r,e,i,o,u,c=S(t),f=arguments.length,s=f>1?arguments[1]:void 0,l=void 0!==s,h=j(c);if(void 0!=h&&!_(h)){for(u=h.call(c),e=[],n=0;!(o=u.next()).done;n++)e.push(o.value);c=e}for(l&&f>2&&(s=a(s,arguments[2],2)),n=0,r=d(c.length),i=Tt(this,r);r>n;n++)i[n]=l?s(c[n],n):c[n];return i},Ct=function(){for(var t=0,n=arguments.length,r=Tt(this,n);n>t;)r[t]=arguments[t++];return r},Dt=!!q&&o(function(){gt.call(new q(1))}),Ut=function(){return gt.apply(Dt?dt.call(Nt(this)):Nt(this),arguments)},Wt={copyWithin:function(t,n){return D.call(Nt(this),t,n,arguments.length>2?arguments[2]:void 0)},every:function(t){return rt(Nt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return C.apply(Nt(this),arguments)},filter:function(t){return It(this,tt(Nt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return et(Nt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return it(Nt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Z(Nt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return ut(Nt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return ot(Nt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return vt.apply(Nt(this),arguments)},lastIndexOf:function(t){return st.apply(Nt(this),arguments)},map:function(t){return Pt(Nt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return lt.apply(Nt(this),arguments)},reduceRight:function(t){return ht.apply(Nt(this),arguments)},reverse:function(){for(var t,n=this,r=Nt(n).length,e=Math.floor(r/2),i=0;i<e;)t=n[i],n[i++]=n[--r],n[r]=t;return n},some:function(t){return nt(Nt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return pt.call(Nt(this),t)},subarray:function(t,n){var r=Nt(this),e=r.length,i=y(t,e);return new(T(r,r[wt]))(r.buffer,r.byteOffset+i*r.BYTES_PER_ELEMENT,d((void 0===n?e:y(n,e))-i))}},Gt=function(t,n){return It(this,dt.call(Nt(this),t,n))},Bt=function(t){Nt(this);var n=At(arguments[1],1),r=this.length,e=S(t),i=d(e.length),o=0;if(i+n>r)throw V(Et);for(;o<i;)this[n+o]=e[o++]},Vt={entries:function(){return at.call(Nt(this))},keys:function(){return ft.call(Nt(this))},values:function(){return ct.call(Nt(this))}},zt=function(t,n){return w(t)&&t[_t]&&"symbol"!=typeof n&&n in t&&String(+n)==String(n)},qt=function(t,n){return zt(t,n=g(n,!0))?l(2,t[n]):B(t,n)},Kt=function(t,n,r){return!(zt(t,n=g(n,!0))&&w(r)&&b(r,"value"))||b(r,"get")||b(r,"set")||r.configurable||b(r,"writable")&&!r.writable||b(r,"enumerable")&&!r.enumerable?G(t,n,r):(t[n]=r.value,t)};St||(W.f=qt,U.f=Kt),u(u.S+u.F*!St,"Object",{getOwnPropertyDescriptor:qt,defineProperty:Kt}),o(function(){yt.call({})})&&(yt=gt=function(){return vt.call(this)});var Jt=v({},Wt);v(Jt,Vt),h(Jt,bt,Vt.values),v(Jt,{slice:Gt,set:Bt,constructor:function(){},toString:yt,toLocaleString:Ut}),Lt(Jt,"buffer","b"),Lt(Jt,"byteOffset","o"),Lt(Jt,"byteLength","l"),Lt(Jt,"length","e"),G(Jt,mt,{get:function(){return this[_t]}}),t.exports=function(t,n,r,f){f=!!f;var a=t+(f?"Clamped":"")+"Array",l="Uint8Array"!=a,v="get"+t,p="set"+t,y=i[a],g=y||{},b=y&&E(y),m=!y||!c.ABV,S={},_=y&&y[H],j=function(t,r){var e=t._d;return e.v[v](r*n+e.o,jt)},F=function(t,r,e){var i=t._d;f&&(e=(e=Math.round(e))<0?0:e>255?255:255&e),i.v[p](r*n+i.o,e,jt)},M=function(t,n){G(t,n,{get:function(){return j(this,n)},set:function(t){return F(this,n,t)},enumerable:!0})};m?(y=r(function(t,r,e,i){s(t,y,a,"_d");var o,u,c,f,l=0,v=0;if(w(r)){if(!(r instanceof X||(f=x(r))==K||f==J))return _t in r?kt(y,r):Rt.call(y,r);o=r,v=At(e,n);var p=r.byteLength;if(void 0===i){if(p%n)throw V(Et);if((u=p-v)<0)throw V(Et)}else if((u=d(i)*n)+v>p)throw V(Et);c=u/n}else c=Mt(r,!0),u=c*n,o=new X(u);for(h(t,"_d",{b:o,o:v,l:u,e:c,v:new Q(o)});l<c;)M(t,l++)}),_=y[H]=O(Jt),h(_,"constructor",y)):L(function(t){new y(null),new y(t)},!0)||(y=r(function(t,r,e,i){s(t,y,a);var o;return w(r)?r instanceof X||(o=x(r))==K||o==J?void 0!==i?new g(r,At(e,n),i):void 0!==e?new g(r,At(e,n)):new g(r):_t in r?kt(y,r):Rt.call(y,r):new g(Mt(r,l))}),Z(b!==Function.prototype?P(g).concat(P(b)):P(g),function(t){t in y||h(y,t,g[t])}),y[H]=_,e||(_.constructor=y));var A=_[bt],N=!!A&&("values"==A.name||void 0==A.name),T=Vt.values;h(y,xt,!0),h(_,_t,a),h(_,Ot,!0),h(_,wt,y),(f?new y(1)[mt]==a:mt in _)||G(_,mt,{get:function(){return a}}),S[a]=y,u(u.G+u.W+u.F*(y!=g),S),u(u.S,a,{BYTES_PER_ELEMENT:n,from:Rt,of:Ct}),Y in _||h(_,Y,n),u(u.P,a,Wt),R(a),u(u.P+u.F*Ft,a,{set:Bt}),u(u.P+u.F*!N,a,Vt),u(u.P+u.F*(_.toString!=yt),a,{toString:yt}),u(u.P+u.F*o(function(){new y(1).slice()}),a,{slice:Gt}),u(u.P+u.F*(o(function(){return[1,2].toLocaleString()!=new y([1,2]).toLocaleString()})||!o(function(){_.toLocaleString.call([1,2])})),a,{toLocaleString:Ut}),k[a]=N?A:T,e||N||h(_,bt,T)}}else t.exports=function(){}},function(t,n){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,n,r){var e=r(21),i=r(5).document,o=e(i)&&e(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,n,r){t.exports=!r(12)&&!r(18)(function(){return 7!=Object.defineProperty(r(57)("div"),"a",{get:function(){return 7}}).a})},function(t,n,r){"use strict";var e=r(36),i=r(51),o=r(64),u=r(13),c=r(8),f=r(35),a=r(96),s=r(38),l=r(103),h=r(15)("iterator"),v=!([].keys&&"next"in[].keys()),p="keys",d="values",y=function(){return this};t.exports=function(t,n,r,g,b,m,x){a(r,n,g);var w,S,_,O=function(t){if(!v&&t in F)return F[t];switch(t){case p:case d:return function(){return new r(this,t)}}return function(){return new r(this,t)}},E=n+" Iterator",P=b==d,j=!1,F=t.prototype,M=F[h]||F["@@iterator"]||b&&F[b],A=M||O(b),N=b?P?O("entries"):A:void 0,T="Array"==n?F.entries||M:M;if(T&&(_=l(T.call(new t)))!==Object.prototype&&(s(_,E,!0),e||c(_,h)||u(_,h,y)),P&&M&&M.name!==d&&(j=!0,A=function(){return M.call(this)}),e&&!x||!v&&!j&&F[h]||u(F,h,A),f[n]=A,f[E]=y,b)if(w={values:P?A:O(d),keys:m?A:O(p),entries:N},x)for(S in w)S in F||o(F,S,w[S]);else i(i.P+i.F*(v||j),n,w);return w}},function(t,n,r){var e=r(20),i=r(100),o=r(34),u=r(39)("IE_PROTO"),c=function(){},f="prototype",a=function(){var t,n=r(57)("iframe"),e=o.length;for(n.style.display="none",r(93).appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),a=t.F;e--;)delete a[f][o[e]];return a()};t.exports=Object.create||function(t,n){var r;return null!==t?(c[f]=e(t),r=new c,c[f]=null,r[u]=t):r=a(),void 0===n?r:i(r,n)}},function(t,n,r){var e=r(63),i=r(34).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return e(t,i)}},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,r){var e=r(8),i=r(9),o=r(90)(!1),u=r(39)("IE_PROTO");t.exports=function(t,n){var r,c=i(t),f=0,a=[];for(r in c)r!=u&&e(c,r)&&a.push(r);for(;n.length>f;)e(c,r=n[f++])&&(~o(a,r)||a.push(r));return a}},function(t,n,r){t.exports=r(13)},function(t,n,r){var e=r(76)("meta"),i=r(6),o=r(24),u=r(11).f,c=0,f=Object.isExtensible||function(){return!0},a=!r(4)(function(){return f(Object.preventExtensions({}))}),s=function(t){u(t,e,{value:{i:"O"+ ++c,w:{}}})},l=function(t,n){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,e)){if(!f(t))return"F";if(!n)return"E";s(t)}return t[e].i},h=function(t,n){if(!o(t,e)){if(!f(t))return!0;if(!n)return!1;s(t)}return t[e].w},v=function(t){return a&&p.NEED&&f(t)&&!o(t,e)&&s(t),t},p=t.exports={KEY:e,NEED:!1,fastKey:l,getWeak:h,onFreeze:v}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){var r=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:r)(t)}},function(t,n){t.exports=function(t,n,r,e){if(!(t instanceof n)||void 0!==e&&e in t)throw TypeError(r+": incorrect invocation!");return t}},function(t,n){t.exports=!1},function(t,n,r){var e=r(2),i=r(173),o=r(133),u=r(145)("IE_PROTO"),c=function(){},f="prototype",a=function(){var t,n=r(132)("iframe"),e=o.length;for(n.style.display="none",r(135).appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),a=t.F;e--;)delete a[f][o[e]];return a()};t.exports=Object.create||function(t,n){var r;return null!==t?(c[f]=e(t),r=new c,c[f]=null,r[u]=t):r=a(),void 0===n?r:i(r,n)}},function(t,n,r){var e=r(175),i=r(133).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return e(t,i)}},function(t,n,r){var e=r(175),i=r(133);t.exports=Object.keys||function(t){return e(t,i)}},function(t,n,r){var e=r(28);t.exports=function(t,n,r){for(var i in n)e(t,i,n[i],r);return t}},function(t,n,r){"use strict";var e=r(3),i=r(11),o=r(10),u=r(7)("species");t.exports=function(t){var n=e[t];o&&n&&!n[u]&&i.f(n,u,{configurable:!0,get:function(){return this}})}},function(t,n,r){var e=r(67),i=Math.max,o=Math.min;t.exports=function(t,n){return t=e(t),t<0?i(t+n,0):o(t,n)}},function(t,n){var r=0,e=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+e).toString(36))}},function(t,n,r){var e=r(33);t.exports=function(t){return Object(e(t))}},function(t,n,r){var e=r(7)("unscopables"),i=Array.prototype;void 0==i[e]&&r(27)(i,e,{}),t.exports=function(t){i[e][t]=!0}},function(t,n,r){var e=r(53),i=r(169),o=r(137),u=r(2),c=r(16),f=r(154),a={},s={},n=t.exports=function(t,n,r,l,h){var v,p,d,y,g=h?function(){return t}:f(t),b=e(r,l,n?2:1),m=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(o(g)){for(v=c(t.length);v>m;m++)if((y=n?b(u(p=t[m])[0],p[1]):b(t[m]))===a||y===s)return y}else for(d=g.call(t);!(p=d.next()).done;)if((y=i(d,b,p.value,n))===a||y===s)return y};n.BREAK=a,n.RETURN=s},function(t,n){t.exports={}},function(t,n,r){var e=r(11).f,i=r(24),o=r(7)("toStringTag");t.exports=function(t,n,r){t&&!i(t=r?t:t.prototype,o)&&e(t,o,{configurable:!0,value:n})}},function(t,n,r){var e=r(1),i=r(46),o=r(4),u=r(150),c="["+u+"]",f="â€‹Â…",a=RegExp("^"+c+c+"*"),s=RegExp(c+c+"*$"),l=function(t,n,r){var i={},c=o(function(){return!!u[t]()||f[t]()!=f}),a=i[t]=c?n(h):u[t];r&&(i[r]=a),e(e.P+e.F*c,"String",i)},h=l.trim=function(t,n){return t=String(i(t)),1&n&&(t=t.replace(a,"")),2&n&&(t=t.replace(s,"")),t};t.exports=l},function(t,n,r){t.exports={default:r(86),__esModule:!0}},function(t,n,r){t.exports={default:r(87),__esModule:!0}},function(t,n,r){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(84),o=e(i),u=r(83),c=e(u),f="function"==typeof c.default&&"symbol"==typeof o.default?function(t){return typeof t}:function(t){return t&&"function"==typeof c.default&&t.constructor===c.default&&t!==c.default.prototype?"symbol":typeof t};n.default="function"==typeof c.default&&"symbol"===f(o.default)?function(t){return void 0===t?"undefined":f(t)}:function(t){return t&&"function"==typeof c.default&&t.constructor===c.default&&t!==c.default.prototype?"symbol":void 0===t?"undefined":f(t)}},function(t,n,r){r(110),r(108),r(111),r(112),t.exports=r(25).Symbol},function(t,n,r){r(109),r(113),t.exports=r(44).f("iterator")},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n){t.exports=function(){}},function(t,n,r){var e=r(9),i=r(106),o=r(105);t.exports=function(t){return function(n,r,u){var c,f=e(n),a=i(f.length),s=o(u,a);if(t&&r!=r){for(;a>s;)if((c=f[s++])!=c)return!0}else for(;a>s;s++)if((t||s in f)&&f[s]===r)return t||s||0;return!t&&-1}}},function(t,n,r){var e=r(88);t.exports=function(t,n,r){if(e(t),void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,i){return t.call(n,r,e,i)}}return function(){return t.apply(n,arguments)}}},function(t,n,r){var e=r(19),i=r(62),o=r(37);t.exports=function(t){var n=e(t),r=i.f;if(r)for(var u,c=r(t),f=o.f,a=0;c.length>a;)f.call(t,u=c[a++])&&n.push(u);return n}},function(t,n,r){t.exports=r(5).document&&document.documentElement},function(t,n,r){var e=r(56);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==e(t)?t.split(""):Object(t)}},function(t,n,r){var e=r(56);t.exports=Array.isArray||function(t){return"Array"==e(t)}},function(t,n,r){"use strict";var e=r(60),i=r(22),o=r(38),u={};r(13)(u,r(15)("iterator"),function(){return this}),t.exports=function(t,n,r){t.prototype=e(u,{next:i(1,r)}),o(t,n+" Iterator")}},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,r){var e=r(19),i=r(9);t.exports=function(t,n){for(var r,o=i(t),u=e(o),c=u.length,f=0;c>f;)if(o[r=u[f++]]===n)return r}},function(t,n,r){var e=r(23)("meta"),i=r(21),o=r(8),u=r(14).f,c=0,f=Object.isExtensible||function(){return!0},a=!r(18)(function(){return f(Object.preventExtensions({}))}),s=function(t){u(t,e,{value:{i:"O"+ ++c,w:{}}})},l=function(t,n){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,e)){if(!f(t))return"F";if(!n)return"E";s(t)}return t[e].i},h=function(t,n){if(!o(t,e)){if(!f(t))return!0;if(!n)return!1;s(t)}return t[e].w},v=function(t){return a&&p.NEED&&f(t)&&!o(t,e)&&s(t),t},p=t.exports={KEY:e,NEED:!1,fastKey:l,getWeak:h,onFreeze:v}},function(t,n,r){var e=r(14),i=r(20),o=r(19);t.exports=r(12)?Object.defineProperties:function(t,n){i(t);for(var r,u=o(n),c=u.length,f=0;c>f;)e.f(t,r=u[f++],n[r]);return t}},function(t,n,r){var e=r(37),i=r(22),o=r(9),u=r(42),c=r(8),f=r(58),a=Object.getOwnPropertyDescriptor;n.f=r(12)?a:function(t,n){if(t=o(t),n=u(n,!0),f)try{return a(t,n)}catch(t){}if(c(t,n))return i(!e.f.call(t,n),t[n])}},function(t,n,r){var e=r(9),i=r(61).f,o={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return i(t)}catch(t){return u.slice()}};t.exports.f=function(t){return u&&"[object Window]"==o.call(t)?c(t):i(e(t))}},function(t,n,r){var e=r(8),i=r(77),o=r(39)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),e(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,n,r){var e=r(41),i=r(33);t.exports=function(t){return function(n,r){var o,u,c=String(i(n)),f=e(r),a=c.length;return f<0||f>=a?t?"":void 0:(o=c.charCodeAt(f),o<55296||o>56319||f+1===a||(u=c.charCodeAt(f+1))<56320||u>57343?t?c.charAt(f):o:t?c.slice(f,f+2):u-56320+(o-55296<<10)+65536)}}},function(t,n,r){var e=r(41),i=Math.max,o=Math.min;t.exports=function(t,n){return t=e(t),t<0?i(t+n,0):o(t,n)}},function(t,n,r){var e=r(41),i=Math.min;t.exports=function(t){return t>0?i(e(t),9007199254740991):0}},function(t,n,r){"use strict";var e=r(89),i=r(97),o=r(35),u=r(9);t.exports=r(59)(Array,"Array",function(t,n){this._t=u(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):"keys"==n?i(0,r):"values"==n?i(0,t[r]):i(0,[r,t[r]])},"values"),o.Arguments=o.Array,e("keys"),e("values"),e("entries")},function(t,n){},function(t,n,r){"use strict";var e=r(104)(!0);r(59)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,r=this._i;return r>=n.length?{value:void 0,done:!0}:(t=e(n,r),this._i+=t.length,{value:t,done:!1})})},function(t,n,r){"use strict";var e=r(5),i=r(8),o=r(12),u=r(51),c=r(64),f=r(99).KEY,a=r(18),s=r(40),l=r(38),h=r(23),v=r(15),p=r(44),d=r(43),y=r(98),g=r(92),b=r(95),m=r(20),x=r(9),w=r(42),S=r(22),_=r(60),O=r(102),E=r(101),P=r(14),j=r(19),F=E.f,M=P.f,A=O.f,N=e.Symbol,T=e.JSON,I=T&&T.stringify,k="prototype",L=v("_hidden"),R=v("toPrimitive"),C={}.propertyIsEnumerable,D=s("symbol-registry"),U=s("symbols"),W=s("op-symbols"),G=Object[k],B="function"==typeof N,V=e.QObject,z=!V||!V[k]||!V[k].findChild,q=o&&a(function(){return 7!=_(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(t,n,r){var e=F(G,n);e&&delete G[n],M(t,n,r),e&&t!==G&&M(G,n,e)}:M,K=function(t){var n=U[t]=_(N[k]);return n._k=t,n},J=B&&"symbol"==typeof N.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof N},Y=function(t,n,r){return t===G&&Y(W,n,r),m(t),n=w(n,!0),m(r),i(U,n)?(r.enumerable?(i(t,L)&&t[L][n]&&(t[L][n]=!1),r=_(r,{enumerable:S(0,!1)})):(i(t,L)||M(t,L,S(1,{})),t[L][n]=!0),q(t,n,r)):M(t,n,r)},H=function(t,n){m(t);for(var r,e=g(n=x(n)),i=0,o=e.length;o>i;)Y(t,r=e[i++],n[r]);return t},$=function(t,n){return void 0===n?_(t):H(_(t),n)},X=function(t){var n=C.call(this,t=w(t,!0));return!(this===G&&i(U,t)&&!i(W,t))&&(!(n||!i(this,t)||!i(U,t)||i(this,L)&&this[L][t])||n)},Q=function(t,n){if(t=x(t),n=w(n,!0),t!==G||!i(U,n)||i(W,n)){var r=F(t,n);return!r||!i(U,n)||i(t,L)&&t[L][n]||(r.enumerable=!0),r}},Z=function(t){for(var n,r=A(x(t)),e=[],o=0;r.length>o;)i(U,n=r[o++])||n==L||n==f||e.push(n);return e},tt=function(t){for(var n,r=t===G,e=A(r?W:x(t)),o=[],u=0;e.length>u;)!i(U,n=e[u++])||r&&!i(G,n)||o.push(U[n]);return o};B||(N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),n=function(r){this===G&&n.call(W,r),i(this,L)&&i(this[L],t)&&(this[L][t]=!1),q(this,t,S(1,r))};return o&&z&&q(G,t,{configurable:!0,set:n}),K(t)},c(N[k],"toString",function(){return this._k}),E.f=Q,P.f=Y,r(61).f=O.f=Z,r(37).f=X,r(62).f=tt,o&&!r(36)&&c(G,"propertyIsEnumerable",X,!0),p.f=function(t){return K(v(t))}),u(u.G+u.W+u.F*!B,{Symbol:N});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;nt.length>rt;)v(nt[rt++]);for(var nt=j(v.store),rt=0;nt.length>rt;)d(nt[rt++]);u(u.S+u.F*!B,"Symbol",{for:function(t){return i(D,t+="")?D[t]:D[t]=N(t)},keyFor:function(t){if(J(t))return y(D,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){z=!0},useSimple:function(){z=!1}}),u(u.S+u.F*!B,"Object",{create:$,defineProperty:Y,defineProperties:H,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Z,getOwnPropertySymbols:tt}),T&&u(u.S+u.F*(!B||a(function(){var t=N();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!J(t)){for(var n,r,e=[t],i=1;arguments.length>i;)e.push(arguments[i++]);return n=e[1],"function"==typeof n&&(r=n),!r&&b(n)||(n=function(t,n){if(r&&(n=r.call(this,t,n)),!J(n))return n}),e[1]=n,I.apply(T,e)}}}),N[k][R]||r(13)(N[k],R,N[k].valueOf),l(N,"Symbol"),l(Math,"Math",!0),l(e.JSON,"JSON",!0)},function(t,n,r){r(43)("asyncIterator")},function(t,n,r){r(43)("observable")},function(t,n,r){r(107);for(var e=r(5),i=r(13),o=r(35),u=r(15)("toStringTag"),c=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],f=0;f<5;f++){var a=c[f],s=e[a],l=s&&s.prototype;l&&!l[u]&&i(l,u,a),o[a]=o.Array}},function(t,n,r){var e=r(45),i=r(7)("toStringTag"),o="Arguments"==e(function(){return arguments}()),u=function(t,n){try{return t[n]}catch(t){}};t.exports=function(t){var n,r,c;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=u(n=Object(t),i))?r:o?e(n):"Object"==(c=e(n))&&"function"==typeof n.callee?"Arguments":c}},function(t,n,r){var e=r(45);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==e(t)?t.split(""):Object(t)}},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,r){var e=r(30),i=r(16),o=r(75);t.exports=function(t){return function(n,r,u){var c,f=e(n),a=i(f.length),s=o(u,a);if(t&&r!=r){for(;a>s;)if((c=f[s++])!=c)return!0}else for(;a>s;s++)if((t||s in f)&&f[s]===r)return t||s||0;return!t&&-1}}},function(t,n,r){"use strict";var e=r(3),i=r(1),o=r(28),u=r(73),c=r(65),f=r(79),a=r(68),s=r(6),l=r(4),h=r(123),v=r(81),p=r(136);t.exports=function(t,n,r,d,y,g){var b=e[t],m=b,x=y?"set":"add",w=m&&m.prototype,S={},_=function(t){var n=w[t];o(w,t,"delete"==t?function(t){return!(g&&!s(t))&&n.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!s(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!s(t)?void 0:n.call(this,0===t?0:t)}:"add"==t?function(t){return n.call(this,0===t?0:t),this}:function(t,r){return n.call(this,0===t?0:t,r),this})};if("function"==typeof m&&(g||w.forEach&&!l(function(){(new m).entries().next()}))){var O=new m,E=O[x](g?{}:-0,1)!=O,P=l(function(){O.has(1)}),j=h(function(t){new m(t)}),F=!g&&l(function(){for(var t=new m,n=5;n--;)t[x](n,n);return!t.has(-0)});j||(m=n(function(n,r){a(n,m,t);var e=p(new b,n,m);return void 0!=r&&f(r,y,e[x],e),e}),m.prototype=w,w.constructor=m),(P||F)&&(_("delete"),_("has"),y&&_("get")),(F||E)&&_(x),g&&w.clear&&delete w.clear}else m=d.getConstructor(n,t,y,x),u(m.prototype,r),c.NEED=!0;return v(m,t),S[t]=m,i(i.G+i.W+i.F*(m!=b),S),g||d.setStrong(m,t,y),m}},function(t,n,r){"use strict";var e=r(27),i=r(28),o=r(4),u=r(46),c=r(7);t.exports=function(t,n,r){var f=c(t),a=r(u,f,""[t]),s=a[0],l=a[1];o(function(){var n={};return n[f]=function(){return 7},7!=""[t](n)})&&(i(String.prototype,t,s),e(RegExp.prototype,f,2==n?function(t,n){return l.call(t,this,n)}:function(t){return l.call(t,this)}))}
},function(t,n,r){"use strict";var e=r(2);t.exports=function(){var t=e(this),n="";return t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.unicode&&(n+="u"),t.sticky&&(n+="y"),n}},function(t,n){t.exports=function(t,n,r){var e=void 0===r;switch(n.length){case 0:return e?t():t.call(r);case 1:return e?t(n[0]):t.call(r,n[0]);case 2:return e?t(n[0],n[1]):t.call(r,n[0],n[1]);case 3:return e?t(n[0],n[1],n[2]):t.call(r,n[0],n[1],n[2]);case 4:return e?t(n[0],n[1],n[2],n[3]):t.call(r,n[0],n[1],n[2],n[3])}return t.apply(r,n)}},function(t,n,r){var e=r(6),i=r(45),o=r(7)("match");t.exports=function(t){var n;return e(t)&&(void 0!==(n=t[o])?!!n:"RegExp"==i(t))}},function(t,n,r){var e=r(7)("iterator"),i=!1;try{var o=[7][e]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,n){if(!n&&!i)return!1;var r=!1;try{var o=[7],u=o[e]();u.next=function(){return{done:r=!0}},o[e]=function(){return u},t(o)}catch(t){}return r}},function(t,n,r){t.exports=r(69)||!r(4)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete r(3)[t]})},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,r){var e=r(3),i="__core-js_shared__",o=e[i]||(e[i]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,n,r){for(var e,i=r(3),o=r(27),u=r(76),c=u("typed_array"),f=u("view"),a=!(!i.ArrayBuffer||!i.DataView),s=a,l=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");l<9;)(e=i[h[l++]])?(o(e.prototype,c,!0),o(e.prototype,f,!0)):s=!1;t.exports={ABV:a,CONSTR:s,TYPED:c,VIEW:f}},function(t,n){"use strict";var r={versions:function(){var t=window.navigator.userAgent;return{trident:t.indexOf("Trident")>-1,presto:t.indexOf("Presto")>-1,webKit:t.indexOf("AppleWebKit")>-1,gecko:t.indexOf("Gecko")>-1&&-1==t.indexOf("KHTML"),mobile:!!t.match(/AppleWebKit.*Mobile.*/),ios:!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:t.indexOf("Android")>-1||t.indexOf("Linux")>-1,iPhone:t.indexOf("iPhone")>-1||t.indexOf("Mac")>-1,iPad:t.indexOf("iPad")>-1,webApp:-1==t.indexOf("Safari"),weixin:-1==t.indexOf("MicroMessenger")}}()};t.exports=r},function(t,n,r){"use strict";var e=r(85),i=function(t){return t&&t.__esModule?t:{default:t}}(e),o=function(){function t(t,n,e){return n||e?String.fromCharCode(n||e):r[t]||t}function n(t){return e[t]}var r={"&quot;":'"',"&lt;":"<","&gt;":">","&amp;":"&","&nbsp;":" "},e={};for(var u in r)e[r[u]]=u;return r["&apos;"]="'",e["'"]="&#39;",{encode:function(t){return t?(""+t).replace(/['<> "&]/g,n).replace(/\r?\n/g,"<br/>").replace(/\s/g,"&nbsp;"):""},decode:function(n){return n?(""+n).replace(/<br\s*\/?>/gi,"\n").replace(/&quot;|&lt;|&gt;|&amp;|&nbsp;|&apos;|&#(\d+);|&#(\d+)/g,t).replace(/\u00a0/g," "):""},encodeBase16:function(t){if(!t)return t;t+="";for(var n=[],r=0,e=t.length;e>r;r++)n.push(t.charCodeAt(r).toString(16).toUpperCase());return n.join("")},encodeBase16forJSON:function(t){if(!t)return t;t=t.replace(/[\u4E00-\u9FBF]/gi,function(t){return escape(t).replace("%u","\\u")});for(var n=[],r=0,e=t.length;e>r;r++)n.push(t.charCodeAt(r).toString(16).toUpperCase());return n.join("")},decodeBase16:function(t){if(!t)return t;t+="";for(var n=[],r=0,e=t.length;e>r;r+=2)n.push(String.fromCharCode("0x"+t.slice(r,r+2)));return n.join("")},encodeObject:function(t){if(t instanceof Array)for(var n=0,r=t.length;r>n;n++)t[n]=o.encodeObject(t[n]);else if("object"==(void 0===t?"undefined":(0,i.default)(t)))for(var e in t)t[e]=o.encodeObject(t[e]);else if("string"==typeof t)return o.encode(t);return t},loadScript:function(t){var n=document.createElement("script");document.getElementsByTagName("body")[0].appendChild(n),n.setAttribute("src",t)},addLoadEvent:function(t){var n=window.onload;"function"!=typeof window.onload?window.onload=t:window.onload=function(){n(),t()}}}}();t.exports=o},function(t,n,r){"use strict";var e=r(17),i=r(75),o=r(16);t.exports=function(t){for(var n=e(this),r=o(n.length),u=arguments.length,c=i(u>1?arguments[1]:void 0,r),f=u>2?arguments[2]:void 0,a=void 0===f?r:i(f,r);a>c;)n[c++]=t;return n}},function(t,n,r){"use strict";var e=r(11),i=r(66);t.exports=function(t,n,r){n in t?e.f(t,n,i(0,r)):t[n]=r}},function(t,n,r){var e=r(6),i=r(3).document,o=e(i)&&e(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n,r){var e=r(7)("match");t.exports=function(t){var n=/./;try{"/./"[t](n)}catch(r){try{return n[e]=!1,!"/./"[t](n)}catch(t){}}return!0}},function(t,n,r){t.exports=r(3).document&&document.documentElement},function(t,n,r){var e=r(6),i=r(144).set;t.exports=function(t,n,r){var o,u=n.constructor;return u!==r&&"function"==typeof u&&(o=u.prototype)!==r.prototype&&e(o)&&i&&i(t,o),t}},function(t,n,r){var e=r(80),i=r(7)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(e.Array===t||o[i]===t)}},function(t,n,r){var e=r(45);t.exports=Array.isArray||function(t){return"Array"==e(t)}},function(t,n,r){"use strict";var e=r(70),i=r(66),o=r(81),u={};r(27)(u,r(7)("iterator"),function(){return this}),t.exports=function(t,n,r){t.prototype=e(u,{next:i(1,r)}),o(t,n+" Iterator")}},function(t,n,r){"use strict";var e=r(69),i=r(1),o=r(28),u=r(27),c=r(24),f=r(80),a=r(139),s=r(81),l=r(32),h=r(7)("iterator"),v=!([].keys&&"next"in[].keys()),p="keys",d="values",y=function(){return this};t.exports=function(t,n,r,g,b,m,x){a(r,n,g);var w,S,_,O=function(t){if(!v&&t in F)return F[t];switch(t){case p:case d:return function(){return new r(this,t)}}return function(){return new r(this,t)}},E=n+" Iterator",P=b==d,j=!1,F=t.prototype,M=F[h]||F["@@iterator"]||b&&F[b],A=M||O(b),N=b?P?O("entries"):A:void 0,T="Array"==n?F.entries||M:M;if(T&&(_=l(T.call(new t)))!==Object.prototype&&(s(_,E,!0),e||c(_,h)||u(_,h,y)),P&&M&&M.name!==d&&(j=!0,A=function(){return M.call(this)}),e&&!x||!v&&!j&&F[h]||u(F,h,A),f[n]=A,f[E]=y,b)if(w={values:P?A:O(d),keys:m?A:O(p),entries:N},x)for(S in w)S in F||o(F,S,w[S]);else i(i.P+i.F*(v||j),n,w);return w}},function(t,n){var r=Math.expm1;t.exports=!r||r(10)>22025.465794806718||r(10)<22025.465794806718||-2e-17!=r(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:r},function(t,n){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,n,r){var e=r(3),i=r(151).set,o=e.MutationObserver||e.WebKitMutationObserver,u=e.process,c=e.Promise,f="process"==r(45)(u);t.exports=function(){var t,n,r,a=function(){var e,i;for(f&&(e=u.domain)&&e.exit();t;){i=t.fn,t=t.next;try{i()}catch(e){throw t?r():n=void 0,e}}n=void 0,e&&e.enter()};if(f)r=function(){u.nextTick(a)};else if(o){var s=!0,l=document.createTextNode("");new o(a).observe(l,{characterData:!0}),r=function(){l.data=s=!s}}else if(c&&c.resolve){var h=c.resolve();r=function(){h.then(a)}}else r=function(){i.call(e,a)};return function(e){var i={fn:e,next:void 0};n&&(n.next=i),t||(t=i,r()),n=i}}},function(t,n,r){var e=r(6),i=r(2),o=function(t,n){if(i(t),!e(n)&&null!==n)throw TypeError(n+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,e){try{e=r(53)(Function.call,r(31).f(Object.prototype,"__proto__").set,2),e(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,r){return o(t,r),n?t.__proto__=r:e(t,r),t}}({},!1):void 0),check:o}},function(t,n,r){var e=r(126)("keys"),i=r(76);t.exports=function(t){return e[t]||(e[t]=i(t))}},function(t,n,r){var e=r(2),i=r(26),o=r(7)("species");t.exports=function(t,n){var r,u=e(t).constructor;return void 0===u||void 0==(r=e(u)[o])?n:i(r)}},function(t,n,r){var e=r(67),i=r(46);t.exports=function(t){return function(n,r){var o,u,c=String(i(n)),f=e(r),a=c.length;return f<0||f>=a?t?"":void 0:(o=c.charCodeAt(f),o<55296||o>56319||f+1===a||(u=c.charCodeAt(f+1))<56320||u>57343?t?c.charAt(f):o:t?c.slice(f,f+2):u-56320+(o-55296<<10)+65536)}}},function(t,n,r){var e=r(122),i=r(46);t.exports=function(t,n,r){if(e(n))throw TypeError("String#"+r+" doesn't accept regex!");return String(i(t))}},function(t,n,r){"use strict";var e=r(67),i=r(46);t.exports=function(t){var n=String(i(this)),r="",o=e(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(n+=n))1&o&&(r+=n);return r}},function(t,n){t.exports="\t\n\v\f\r Â áš€á â€€â€â€‚â€ƒâ€„â€…â€†â€‡â€ˆâ€‰â€Šâ€¯âŸã€€\u2028\u2029\ufeff"},function(t,n,r){var e,i,o,u=r(53),c=r(121),f=r(135),a=r(132),s=r(3),l=s.process,h=s.setImmediate,v=s.clearImmediate,p=s.MessageChannel,d=0,y={},g="onreadystatechange",b=function(){var t=+this;if(y.hasOwnProperty(t)){var n=y[t];delete y[t],n()}},m=function(t){b.call(t.data)};h&&v||(h=function(t){for(var n=[],r=1;arguments.length>r;)n.push(arguments[r++]);return y[++d]=function(){c("function"==typeof t?t:Function(t),n)},e(d),d},v=function(t){delete y[t]},"process"==r(45)(l)?e=function(t){l.nextTick(u(b,t,1))}:p?(i=new p,o=i.port2,i.port1.onmessage=m,e=u(o.postMessage,o,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts?(e=function(t){s.postMessage(t+"","*")},s.addEventListener("message",m,!1)):e=g in a("script")?function(t){f.appendChild(a("script"))[g]=function(){f.removeChild(this),b.call(t)}}:function(t){setTimeout(u(b,t,1),0)}),t.exports={set:h,clear:v}},function(t,n,r){"use strict";var e=r(3),i=r(10),o=r(69),u=r(127),c=r(27),f=r(73),a=r(4),s=r(68),l=r(67),h=r(16),v=r(71).f,p=r(11).f,d=r(130),y=r(81),g="ArrayBuffer",b="DataView",m="prototype",x="Wrong length!",w="Wrong index!",S=e[g],_=e[b],O=e.Math,E=e.RangeError,P=e.Infinity,j=S,F=O.abs,M=O.pow,A=O.floor,N=O.log,T=O.LN2,I="buffer",k="byteLength",L="byteOffset",R=i?"_b":I,C=i?"_l":k,D=i?"_o":L,U=function(t,n,r){var e,i,o,u=Array(r),c=8*r-n-1,f=(1<<c)-1,a=f>>1,s=23===n?M(2,-24)-M(2,-77):0,l=0,h=t<0||0===t&&1/t<0?1:0;for(t=F(t),t!=t||t===P?(i=t!=t?1:0,e=f):(e=A(N(t)/T),t*(o=M(2,-e))<1&&(e--,o*=2),t+=e+a>=1?s/o:s*M(2,1-a),t*o>=2&&(e++,o/=2),e+a>=f?(i=0,e=f):e+a>=1?(i=(t*o-1)*M(2,n),e+=a):(i=t*M(2,a-1)*M(2,n),e=0));n>=8;u[l++]=255&i,i/=256,n-=8);for(e=e<<n|i,c+=n;c>0;u[l++]=255&e,e/=256,c-=8);return u[--l]|=128*h,u},W=function(t,n,r){var e,i=8*r-n-1,o=(1<<i)-1,u=o>>1,c=i-7,f=r-1,a=t[f--],s=127&a;for(a>>=7;c>0;s=256*s+t[f],f--,c-=8);for(e=s&(1<<-c)-1,s>>=-c,c+=n;c>0;e=256*e+t[f],f--,c-=8);if(0===s)s=1-u;else{if(s===o)return e?NaN:a?-P:P;e+=M(2,n),s-=u}return(a?-1:1)*e*M(2,s-n)},G=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},B=function(t){return[255&t]},V=function(t){return[255&t,t>>8&255]},z=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},q=function(t){return U(t,52,8)},K=function(t){return U(t,23,4)},J=function(t,n,r){p(t[m],n,{get:function(){return this[r]}})},Y=function(t,n,r,e){var i=+r,o=l(i);if(i!=o||o<0||o+n>t[C])throw E(w);var u=t[R]._b,c=o+t[D],f=u.slice(c,c+n);return e?f:f.reverse()},H=function(t,n,r,e,i,o){var u=+r,c=l(u);if(u!=c||c<0||c+n>t[C])throw E(w);for(var f=t[R]._b,a=c+t[D],s=e(+i),h=0;h<n;h++)f[a+h]=s[o?h:n-h-1]},$=function(t,n){s(t,S,g);var r=+n,e=h(r);if(r!=e)throw E(x);return e};if(u.ABV){if(!a(function(){new S})||!a(function(){new S(.5)})){S=function(t){return new j($(this,t))};for(var X,Q=S[m]=j[m],Z=v(j),tt=0;Z.length>tt;)(X=Z[tt++])in S||c(S,X,j[X]);o||(Q.constructor=S)}var nt=new _(new S(2)),rt=_[m].setInt8;nt.setInt8(0,2147483648),nt.setInt8(1,2147483649),!nt.getInt8(0)&&nt.getInt8(1)||f(_[m],{setInt8:function(t,n){rt.call(this,t,n<<24>>24)},setUint8:function(t,n){rt.call(this,t,n<<24>>24)}},!0)}else S=function(t){var n=$(this,t);this._b=d.call(Array(n),0),this[C]=n},_=function(t,n,r){s(this,_,b),s(t,S,b);var e=t[C],i=l(n);if(i<0||i>e)throw E("Wrong offset!");if(r=void 0===r?e-i:h(r),i+r>e)throw E(x);this[R]=t,this[D]=i,this[C]=r},i&&(J(S,k,"_l"),J(_,I,"_b"),J(_,k,"_l"),J(_,L,"_o")),f(_[m],{getInt8:function(t){return Y(this,1,t)[0]<<24>>24},getUint8:function(t){return Y(this,1,t)[0]},getInt16:function(t){var n=Y(this,2,t,arguments[1]);return(n[1]<<8|n[0])<<16>>16},getUint16:function(t){var n=Y(this,2,t,arguments[1]);return n[1]<<8|n[0]},getInt32:function(t){return G(Y(this,4,t,arguments[1]))},getUint32:function(t){return G(Y(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return W(Y(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return W(Y(this,8,t,arguments[1]),52,8)},setInt8:function(t,n){H(this,1,t,B,n)},setUint8:function(t,n){H(this,1,t,B,n)},setInt16:function(t,n){H(this,2,t,V,n,arguments[2])},setUint16:function(t,n){H(this,2,t,V,n,arguments[2])},setInt32:function(t,n){H(this,4,t,z,n,arguments[2])},setUint32:function(t,n){H(this,4,t,z,n,arguments[2])},setFloat32:function(t,n){H(this,4,t,K,n,arguments[2])},setFloat64:function(t,n){H(this,8,t,q,n,arguments[2])}});y(S,g),y(_,b),c(_[m],u.VIEW,!0),n[g]=S,n[b]=_},function(t,n,r){var e=r(3),i=r(52),o=r(69),u=r(182),c=r(11).f;t.exports=function(t){var n=i.Symbol||(i.Symbol=o?{}:e.Symbol||{});"_"==t.charAt(0)||t in n||c(n,t,{value:u.f(t)})}},function(t,n,r){var e=r(114),i=r(7)("iterator"),o=r(80);t.exports=r(52).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[e(t)]}},function(t,n,r){"use strict";var e=r(78),i=r(170),o=r(80),u=r(30);t.exports=r(140)(Array,"Array",function(t,n){this._t=u(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):"keys"==n?i(0,r):"values"==n?i(0,t[r]):i(0,[r,t[r]])},"values"),o.Arguments=o.Array,e("keys"),e("values"),e("entries")},function(t,n){function r(t,n){t.classList?t.classList.add(n):t.className+=" "+n}t.exports=r},function(t,n){function r(t,n){if(t.classList)t.classList.remove(n);else{var r=new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi");t.className=t.className.replace(r," ")}}t.exports=r},function(t,n){function r(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function i(t){if(s===setTimeout)return setTimeout(t,0);if((s===r||!s)&&setTimeout)return s=setTimeout,setTimeout(t,0);try{return s(t,0)}catch(n){try{return s.call(null,t,0)}catch(n){return s.call(this,t,0)}}}function o(t){if(l===clearTimeout)return clearTimeout(t);if((l===e||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(n){try{return l.call(null,t)}catch(n){return l.call(this,t)}}}function u(){d&&v&&(d=!1,v.length?p=v.concat(p):y=-1,p.length&&c())}function c(){if(!d){var t=i(u);d=!0;for(var n=p.length;n;){for(v=p,p=[];++y<n;)v&&v[y].run();y=-1,n=p.length}v=null,d=!1,o(t)}}function f(t,n){this.fun=t,this.array=n}function a(){}var s,l,h=t.exports={};!function(){try{s="function"==typeof setTimeout?setTimeout:r}catch(t){s=r}try{l="function"==typeof clearTimeout?clearTimeout:e}catch(t){l=e}}();var v,p=[],d=!1,y=-1;h.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];p.push(new f(t,n)),1!==p.length||d||i(c)},f.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=a,h.addListener=a,h.once=a,h.off=a,h.removeListener=a,h.removeAllListeners=a,h.emit=a,h.prependListener=a,h.prependOnceListener=a,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,n,r){var e=r(45);t.exports=function(t,n){if("number"!=typeof t&&"Number"!=e(t))throw TypeError(n);return+t}},function(t,n,r){"use strict";var e=r(17),i=r(75),o=r(16);t.exports=[].copyWithin||function(t,n){var r=e(this),u=o(r.length),c=i(t,u),f=i(n,u),a=arguments.length>2?arguments[2]:void 0,s=Math.min((void 0===a?u:i(a,u))-f,u-c),l=1;for(f<c&&c<f+s&&(l=-1,f+=s-1,c+=s-1);s-- >0;)f in r?r[c]=r[f]:delete r[c],c+=l,f+=l;return r}},function(t,n,r){var e=r(79);t.exports=function(t,n){var r=[];return e(t,!1,r.push,r,n),r}},function(t,n,r){var e=r(26),i=r(17),o=r(115),u=r(16);t.exports=function(t,n,r,c,f){e(n);var a=i(t),s=o(a),l=u(a.length),h=f?l-1:0,v=f?-1:1;if(r<2)for(;;){if(h in s){c=s[h],h+=v;break}if(h+=v,f?h<0:l<=h)throw TypeError("Reduce of empty array with no initial value")}for(;f?h>=0:l>h;h+=v)h in s&&(c=n(c,s[h],h,a));return c}},function(t,n,r){"use strict";var e=r(26),i=r(6),o=r(121),u=[].slice,c={},f=function(t,n,r){if(!(n in c)){for(var e=[],i=0;i<n;i++)e[i]="a["+i+"]";c[n]=Function("F,a","return new F("+e.join(",")+")")}return c[n](t,r)};t.exports=Function.bind||function(t){var n=e(this),r=u.call(arguments,1),c=function(){var e=r.concat(u.call(arguments));return this instanceof c?f(n,e.length,e):o(n,e,t)};return i(n.prototype)&&(c.prototype=n.prototype),c}},function(t,n,r){"use strict";var e=r(11).f,i=r(70),o=r(73),u=r(53),c=r(68),f=r(46),a=r(79),s=r(140),l=r(170),h=r(74),v=r(10),p=r(65).fastKey,d=v?"_s":"size",y=function(t,n){var r,e=p(n);if("F"!==e)return t._i[e];for(r=t._f;r;r=r.n)if(r.k==n)return r};t.exports={getConstructor:function(t,n,r,s){var l=t(function(t,e){c(t,l,n,"_i"),t._i=i(null),t._f=void 0,t._l=void 0,t[d]=0,void 0!=e&&a(e,r,t[s],t)});return o(l.prototype,{clear:function(){for(var t=this,n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[d]=0},delete:function(t){var n=this,r=y(n,t);if(r){var e=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=e),e&&(e.p=i),n._f==r&&(n._f=e),n._l==r&&(n._l=i),n[d]--}return!!r},forEach:function(t){c(this,l,"forEach");for(var n,r=u(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!y(this,t)}}),v&&e(l.prototype,"size",{get:function(){return f(this[d])}}),l},def:function(t,n,r){var e,i,o=y(t,n);return o?o.v=r:(t._l=o={i:i=p(n,!0),k:n,v:r,p:e=t._l,n:void 0,r:!1},t._f||(t._f=o),e&&(e.n=o),t[d]++,"F"!==i&&(t._i[i]=o)),t},getEntry:y,setStrong:function(t,n,r){s(t,n,function(t,n){this._t=t,this._k=n,this._l=void 0},function(){for(var t=this,n=t._k,r=t._l;r&&r.r;)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?"keys"==n?l(0,r.k):"values"==n?l(0,r.v):l(0,[r.k,r.v]):(t._t=void 0,l(1))},r?"entries":"values",!r,!0),h(n)}}},function(t,n,r){var e=r(114),i=r(161);t.exports=function(t){return function(){if(e(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,n,r){"use strict";var e=r(73),i=r(65).getWeak,o=r(2),u=r(6),c=r(68),f=r(79),a=r(48),s=r(24),l=a(5),h=a(6),v=0,p=function(t){return t._l||(t._l=new d)},d=function(){this.a=[]},y=function(t,n){return l(t.a,function(t){return t[0]===n})};d.prototype={get:function(t){var n=y(this,t);if(n)return n[1]},has:function(t){return!!y(this,t)},set:function(t,n){var r=y(this,t);r?r[1]=n:this.a.push([t,n])},delete:function(t){var n=h(this.a,function(n){return n[0]===t});return~n&&this.a.splice(n,1),!!~n}},t.exports={getConstructor:function(t,n,r,o){var a=t(function(t,e){c(t,a,n,"_i"),t._i=v++,t._l=void 0,void 0!=e&&f(e,r,t[o],t)});return e(a.prototype,{delete:function(t){if(!u(t))return!1;var n=i(t);return!0===n?p(this).delete(t):n&&s(n,this._i)&&delete n[this._i]},has:function(t){if(!u(t))return!1;var n=i(t);return!0===n?p(this).has(t):n&&s(n,this._i)}}),a},def:function(t,n,r){var e=i(o(n),!0);return!0===e?p(t).set(n,r):e[t._i]=r,t},ufstore:p}},function(t,n,r){t.exports=!r(10)&&!r(4)(function(){return 7!=Object.defineProperty(r(132)("div"),"a",{get:function(){return 7}}).a})},function(t,n,r){var e=r(6),i=Math.floor;t.exports=function(t){return!e(t)&&isFinite(t)&&i(t)===t}},function(t,n,r){var e=r(2);t.exports=function(t,n,r,i){try{return i?n(e(r)[0],r[1]):n(r)}catch(n){var o=t.return;throw void 0!==o&&e(o.call(t)),n}}},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,n,r){"use strict";var e=r(72),i=r(125),o=r(116),u=r(17),c=r(115),f=Object.assign;t.exports=!f||r(4)(function(){var t={},n={},r=Symbol(),e="abcdefghijklmnopqrst";return t[r]=7,e.split("").forEach(function(t){n[t]=t}),7!=f({},t)[r]||Object.keys(f({},n)).join("")!=e})?function(t,n){for(var r=u(t),f=arguments.length,a=1,s=i.f,l=o.f;f>a;)for(var h,v=c(arguments[a++]),p=s?e(v).concat(s(v)):e(v),d=p.length,y=0;d>y;)l.call(v,h=p[y++])&&(r[h]=v[h]);return r}:f},function(t,n,r){var e=r(11),i=r(2),o=r(72);t.exports=r(10)?Object.defineProperties:function(t,n){i(t);for(var r,u=o(n),c=u.length,f=0;c>f;)e.f(t,r=u[f++],n[r]);return t}},function(t,n,r){var e=r(30),i=r(71).f,o={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return i(t)}catch(t){return u.slice()}};t.exports.f=function(t){return u&&"[object Window]"==o.call(t)?c(t):i(e(t))}},function(t,n,r){var e=r(24),i=r(30),o=r(117)(!1),u=r(145)("IE_PROTO");t.exports=function(t,n){var r,c=i(t),f=0,a=[];for(r in c)r!=u&&e(c,r)&&a.push(r);for(;n.length>f;)e(c,r=n[f++])&&(~o(a,r)||a.push(r));return a}},function(t,n,r){var e=r(72),i=r(30),o=r(116).f;t.exports=function(t){return function(n){for(var r,u=i(n),c=e(u),f=c.length,a=0,s=[];f>a;)o.call(u,r=c[a++])&&s.push(t?[r,u[r]]:u[r]);return s}}},function(t,n,r){var e=r(71),i=r(125),o=r(2),u=r(3).Reflect;t.exports=u&&u.ownKeys||function(t){var n=e.f(o(t)),r=i.f;return r?n.concat(r(t)):n}},function(t,n,r){var e=r(3).parseFloat,i=r(82).trim;t.exports=1/e(r(150)+"-0")!=-1/0?function(t){var n=i(String(t),3),r=e(n);return 0===r&&"-"==n.charAt(0)?-0:r}:e},function(t,n,r){var e=r(3).parseInt,i=r(82).trim,o=r(150),u=/^[\-+]?0[xX]/;t.exports=8!==e(o+"08")||22!==e(o+"0x16")?function(t,n){var r=i(String(t),3);return e(r,n>>>0||(u.test(r)?16:10))}:e},function(t,n){t.exports=Object.is||function(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n}},function(t,n,r){var e=r(16),i=r(149),o=r(46);t.exports=function(t,n,r,u){var c=String(o(t)),f=c.length,a=void 0===r?" ":String(r),s=e(n);if(s<=f||""==a)return c;var l=s-f,h=i.call(a,Math.ceil(l/a.length));return h.length>l&&(h=h.slice(0,l)),u?h+c:c+h}},function(t,n,r){n.f=r(7)},function(t,n,r){"use strict";var e=r(164);t.exports=r(118)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var n=e.getEntry(this,t);return n&&n.v},set:function(t,n){return e.def(this,0===t?0:t,n)}},e,!0)},function(t,n,r){r(10)&&"g"!=/./g.flags&&r(11).f(RegExp.prototype,"flags",{configurable:!0,get:r(120)})},function(t,n,r){"use strict";var e=r(164);t.exports=r(118)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return e.def(this,t=0===t?0:t,t)}},e)},function(t,n,r){"use strict";var e,i=r(48)(0),o=r(28),u=r(65),c=r(172),f=r(166),a=r(6),s=u.getWeak,l=Object.isExtensible,h=f.ufstore,v={},p=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},d={get:function(t){if(a(t)){var n=s(t);return!0===n?h(this).get(t):n?n[this._i]:void 0}},set:function(t,n){return f.def(this,t,n)}},y=t.exports=r(118)("WeakMap",p,d,f,!0,!0);7!=(new y).set((Object.freeze||Object)(v),7).get(v)&&(e=f.getConstructor(p),c(e.prototype,d),u.NEED=!0,i(["delete","has","get","set"],function(t){var n=y.prototype,r=n[t];o(n,t,function(n,i){if(a(n)&&!l(n)){this._f||(this._f=new e);var o=this._f[t](n,i);return"set"==t?this:o}return r.call(this,n,i)})}))},,,,function(t,n){"use strict";function r(){var t=document.querySelector("#page-nav");if(t&&!document.querySelector("#page-nav .extend.prev")&&(t.innerHTML='<a class="extend prev disabled" rel="prev">&laquo; Prev</a>'+t.innerHTML),t&&!document.querySelector("#page-nav .extend.next")&&(t.innerHTML=t.innerHTML+'<a class="extend next disabled" rel="next">Next &raquo;</a>'),yiliaConfig&&yiliaConfig.open_in_new){document.querySelectorAll(".article-entry a:not(.article-more-a)").forEach(function(t){var n=t.getAttribute("target");n&&""!==n||t.setAttribute("target","_blank")})}if(yiliaConfig&&yiliaConfig.toc_hide_index){document.querySelectorAll(".toc-number").forEach(function(t){t.style.display="none"})}var n=document.querySelector("#js-aboutme");n&&0!==n.length&&(n.innerHTML=n.innerText)}t.exports={init:r}},function(t,n,r){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,n){var r=/\/|index.html/g;return t.replace(r,"")===n.replace(r,"")}function o(){for(var t=document.querySelectorAll(".js-header-menu li a"),n=window.location.pathname,r=0,e=t.length;r<e;r++){var o=t[r];i(n,o.getAttribute("href"))&&(0,h.default)(o,"active")}}function u(t){for(var n=t.offsetLeft,r=t.offsetParent;null!==r;)n+=r.offsetLeft,r=r.offsetParent;return n}function c(t){for(var n=t.offsetTop,r=t.offsetParent;null!==r;)n+=r.offsetTop,r=r.offsetParent;return n}function f(t,n,r,e,i){var o=u(t),f=c(t)-n;if(f-r<=i){var a=t.$newDom;a||(a=t.cloneNode(!0),(0,d.default)(t,a),t.$newDom=a,a.style.position="fixed",a.style.top=(r||f)+"px",a.style.left=o+"px",a.style.zIndex=e||2,a.style.width="100%",a.style.color="#fff"),a.style.visibility="visible",t.style.visibility="hidden"}else{t.style.visibility="visible";var s=t.$newDom;s&&(s.style.visibility="hidden")}}function a(){var t=document.querySelector(".js-overlay"),n=document.querySelector(".js-header-menu");f(t,document.body.scrollTop,-63,2,0),f(n,document.body.scrollTop,1,3,0)}function s(){document.querySelector("#container").addEventListener("scroll",function(t){a()}),window.addEventListener("scroll",function(t){a()}),a()}var l=r(156),h=e(l),v=r(157),p=(e(v),r(382)),d=e(p),y=r(128),g=e(y),b=r(190),m=e(b),x=r(129);(function(){g.default.versions.mobile&&window.screen.width<800&&(o(),s())})(),(0,x.addLoadEvent)(function(){m.default.init()}),t.exports={}},,,,function(t,n,r){(function(t){"use strict";function n(t,n,r){t[n]||Object[e](t,n,{writable:!0,configurable:!0,value:r})}if(r(381),r(391),r(198),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var e="defineProperty";n(String.prototype,"padLeft","".padStart),n(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&n(Array,t,Function.call.bind([][t]))})}).call(n,function(){return this}())},,,function(t,n,r){r(210),t.exports=r(52).RegExp.escape},,,,function(t,n,r){var e=r(6),i=r(138),o=r(7)("species");t.exports=function(t){var n;return i(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)||(n=void 0),e(n)&&null===(n=n[o])&&(n=void 0)),void 0===n?Array:n}},function(t,n,r){var e=r(202);t.exports=function(t,n){return new(e(t))(n)}},function(t,n,r){"use strict";var e=r(2),i=r(50),o="number";t.exports=function(t){if("string"!==t&&t!==o&&"default"!==t)throw TypeError("Incorrect hint");return i(e(this),t!=o)}},function(t,n,r){var e=r(72),i=r(125),o=r(116);t.exports=function(t){var n=e(t),r=i.f;if(r)for(var u,c=r(t),f=o.f,a=0;c.length>a;)f.call(t,u=c[a++])&&n.push(u);return n}},function(t,n,r){var e=r(72),i=r(30);t.exports=function(t,n){for(var r,o=i(t),u=e(o),c=u.length,f=0;c>f;)if(o[r=u[f++]]===n)return r}},function(t,n,r){"use strict";var e=r(208),i=r(121),o=r(26);t.exports=function(){for(var t=o(this),n=arguments.length,r=Array(n),u=0,c=e._,f=!1;n>u;)(r[u]=arguments[u++])===c&&(f=!0);return function(){var e,o=this,u=arguments.length,a=0,s=0;if(!f&&!u)return i(t,r,o);if(e=r.slice(),f)for(;n>a;a++)e[a]===c&&(e[a]=arguments[s++]);for(;u>s;)e.push(arguments[s++]);return i(t,e,o)}}},function(t,n,r){t.exports=r(3)},function(t,n){t.exports=function(t,n){var r=n===Object(n)?function(t){return n[t]}:n;return function(n){return String(n).replace(t,r)}}},function(t,n,r){var e=r(1),i=r(209)(/[\\^$*+?.()|[\]{}]/g,"\\$&");e(e.S,"RegExp",{escape:function(t){return i(t)}})},function(t,n,r){var e=r(1);e(e.P,"Array",{copyWithin:r(160)}),r(78)("copyWithin")},function(t,n,r){"use strict";var e=r(1),i=r(48)(4);e(e.P+e.F*!r(47)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},function(t,n,r){var e=r(1);e(e.P,"Array",{fill:r(130)}),r(78)("fill")},function(t,n,r){"use strict";var e=r(1),i=r(48)(2);e(e.P+e.F*!r(47)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(1),i=r(48)(6),o="findIndex",u=!0;o in[]&&Array(1)[o](function(){u=!1}),e(e.P+e.F*u,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(78)(o)},function(t,n,r){"use strict";var e=r(1),i=r(48)(5),o="find",u=!0;o in[]&&Array(1)[o](function(){u=!1}),e(e.P+e.F*u,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(78)(o)},function(t,n,r){"use strict";var e=r(1),i=r(48)(0),o=r(47)([].forEach,!0);e(e.P+e.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(53),i=r(1),o=r(17),u=r(169),c=r(137),f=r(16),a=r(131),s=r(154);i(i.S+i.F*!r(123)(function(t){Array.from(t)}),"Array",{from:function(t){var n,r,i,l,h=o(t),v="function"==typeof this?this:Array,p=arguments.length,d=p>1?arguments[1]:void 0,y=void 0!==d,g=0,b=s(h);if(y&&(d=e(d,p>2?arguments[2]:void 0,2)),void 0==b||v==Array&&c(b))for(n=f(h.length),r=new v(n);n>g;g++)a(r,g,y?d(h[g],g):h[g]);else for(l=b.call(h),r=new v;!(i=l.next()).done;g++)a(r,g,y?u(l,d,[i.value,g],!0):i.value);return r.length=g,r}})},function(t,n,r){"use strict";var e=r(1),i=r(117)(!1),o=[].indexOf,u=!!o&&1/[1].indexOf(1,-0)<0;e(e.P+e.F*(u||!r(47)(o)),"Array",{indexOf:function(t){return u?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,n,r){var e=r(1);e(e.S,"Array",{isArray:r(138)})},function(t,n,r){"use strict";var e=r(1),i=r(30),o=[].join;e(e.P+e.F*(r(115)!=Object||!r(47)(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},function(t,n,r){"use strict";var e=r(1),i=r(30),o=r(67),u=r(16),c=[].lastIndexOf,f=!!c&&1/[1].lastIndexOf(1,-0)<0;e(e.P+e.F*(f||!r(47)(c)),"Array",{lastIndexOf:function(t){if(f)return c.apply(this,arguments)||0;var n=i(this),r=u(n.length),e=r-1;for(arguments.length>1&&(e=Math.min(e,o(arguments[1]))),e<0&&(e=r+e);e>=0;e--)if(e in n&&n[e]===t)return e||0;return-1}})},function(t,n,r){"use strict";var e=r(1),i=r(48)(1);e(e.P+e.F*!r(47)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(1),i=r(131);e(e.S+e.F*r(4)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,n=arguments.length,r=new("function"==typeof this?this:Array)(n);n>t;)i(r,t,arguments[t++]);return r.length=n,r}})},function(t,n,r){"use strict";var e=r(1),i=r(162);e(e.P+e.F*!r(47)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},function(t,n,r){"use strict";var e=r(1),i=r(162);e(e.P+e.F*!r(47)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},function(t,n,r){"use strict";var e=r(1),i=r(135),o=r(45),u=r(75),c=r(16),f=[].slice;e(e.P+e.F*r(4)(function(){i&&f.call(i)}),"Array",{slice:function(t,n){var r=c(this.length),e=o(this);if(n=void 0===n?r:n,"Array"==e)return f.call(this,t,n);for(var i=u(t,r),a=u(n,r),s=c(a-i),l=Array(s),h=0;h<s;h++)l[h]="String"==e?this.charAt(i+h):this[i+h];return l}})},function(t,n,r){"use strict";var e=r(1),i=r(48)(3);e(e.P+e.F*!r(47)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(1),i=r(26),o=r(17),u=r(4),c=[].sort,f=[1,2,3];e(e.P+e.F*(u(function(){f.sort(void 0)})||!u(function(){f.sort(null)})||!r(47)(c)),"Array",{sort:function(t){return void 0===t?c.call(o(this)):c.call(o(this),i(t))}})},function(t,n,r){r(74)("Array")},function(t,n,r){var e=r(1);e(e.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,n,r){"use strict";var e=r(1),i=r(4),o=Date.prototype.getTime,u=function(t){return t>9?t:"0"+t};e(e.P+e.F*(i(function(){return"0385-07-25T07:06:39.999Z"!=new Date(-5e13-1).toISOString()})||!i(function(){new Date(NaN).toISOString()})),"Date",{toISOString:function(){
if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var t=this,n=t.getUTCFullYear(),r=t.getUTCMilliseconds(),e=n<0?"-":n>9999?"+":"";return e+("00000"+Math.abs(n)).slice(e?-6:-4)+"-"+u(t.getUTCMonth()+1)+"-"+u(t.getUTCDate())+"T"+u(t.getUTCHours())+":"+u(t.getUTCMinutes())+":"+u(t.getUTCSeconds())+"."+(r>99?r:"0"+u(r))+"Z"}})},function(t,n,r){"use strict";var e=r(1),i=r(17),o=r(50);e(e.P+e.F*r(4)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var n=i(this),r=o(n);return"number"!=typeof r||isFinite(r)?n.toISOString():null}})},function(t,n,r){var e=r(7)("toPrimitive"),i=Date.prototype;e in i||r(27)(i,e,r(204))},function(t,n,r){var e=Date.prototype,i="Invalid Date",o="toString",u=e[o],c=e.getTime;new Date(NaN)+""!=i&&r(28)(e,o,function(){var t=c.call(this);return t===t?u.call(this):i})},function(t,n,r){var e=r(1);e(e.P,"Function",{bind:r(163)})},function(t,n,r){"use strict";var e=r(6),i=r(32),o=r(7)("hasInstance"),u=Function.prototype;o in u||r(11).f(u,o,{value:function(t){if("function"!=typeof this||!e(t))return!1;if(!e(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,n,r){var e=r(11).f,i=r(66),o=r(24),u=Function.prototype,c="name",f=Object.isExtensible||function(){return!0};c in u||r(10)&&e(u,c,{configurable:!0,get:function(){try{var t=this,n=(""+t).match(/^\s*function ([^ (]*)/)[1];return o(t,c)||!f(t)||e(t,c,i(5,n)),n}catch(t){return""}}})},function(t,n,r){var e=r(1),i=r(171),o=Math.sqrt,u=Math.acosh;e(e.S+e.F*!(u&&710==Math.floor(u(Number.MAX_VALUE))&&u(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},function(t,n,r){function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}var i=r(1),o=Math.asinh;i(i.S+i.F*!(o&&1/o(0)>0),"Math",{asinh:e})},function(t,n,r){var e=r(1),i=Math.atanh;e(e.S+e.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,n,r){var e=r(1),i=r(142);e(e.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,n,r){var e=r(1);e(e.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,n,r){var e=r(1),i=Math.exp;e(e.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,n,r){var e=r(1),i=r(141);e(e.S+e.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,n,r){var e=r(1),i=r(142),o=Math.pow,u=o(2,-52),c=o(2,-23),f=o(2,127)*(2-c),a=o(2,-126),s=function(t){return t+1/u-1/u};e(e.S,"Math",{fround:function(t){var n,r,e=Math.abs(t),o=i(t);return e<a?o*s(e/a/c)*a*c:(n=(1+c/u)*e,r=n-(n-e),r>f||r!=r?o*(1/0):o*r)}})},function(t,n,r){var e=r(1),i=Math.abs;e(e.S,"Math",{hypot:function(t,n){for(var r,e,o=0,u=0,c=arguments.length,f=0;u<c;)r=i(arguments[u++]),f<r?(e=f/r,o=o*e*e+1,f=r):r>0?(e=r/f,o+=e*e):o+=r;return f===1/0?1/0:f*Math.sqrt(o)}})},function(t,n,r){var e=r(1),i=Math.imul;e(e.S+e.F*r(4)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(t,n){var r=65535,e=+t,i=+n,o=r&e,u=r&i;return 0|o*u+((r&e>>>16)*u+o*(r&i>>>16)<<16>>>0)}})},function(t,n,r){var e=r(1);e(e.S,"Math",{log10:function(t){return Math.log(t)/Math.LN10}})},function(t,n,r){var e=r(1);e(e.S,"Math",{log1p:r(171)})},function(t,n,r){var e=r(1);e(e.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,n,r){var e=r(1);e(e.S,"Math",{sign:r(142)})},function(t,n,r){var e=r(1),i=r(141),o=Math.exp;e(e.S+e.F*r(4)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,n,r){var e=r(1),i=r(141),o=Math.exp;e(e.S,"Math",{tanh:function(t){var n=i(t=+t),r=i(-t);return n==1/0?1:r==1/0?-1:(n-r)/(o(t)+o(-t))}})},function(t,n,r){var e=r(1);e(e.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,n,r){"use strict";var e=r(3),i=r(24),o=r(45),u=r(136),c=r(50),f=r(4),a=r(71).f,s=r(31).f,l=r(11).f,h=r(82).trim,v="Number",p=e[v],d=p,y=p.prototype,g=o(r(70)(y))==v,b="trim"in String.prototype,m=function(t){var n=c(t,!1);if("string"==typeof n&&n.length>2){n=b?n.trim():h(n,3);var r,e,i,o=n.charCodeAt(0);if(43===o||45===o){if(88===(r=n.charCodeAt(2))||120===r)return NaN}else if(48===o){switch(n.charCodeAt(1)){case 66:case 98:e=2,i=49;break;case 79:case 111:e=8,i=55;break;default:return+n}for(var u,f=n.slice(2),a=0,s=f.length;a<s;a++)if((u=f.charCodeAt(a))<48||u>i)return NaN;return parseInt(f,e)}}return+n};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var n=arguments.length<1?0:t,r=this;return r instanceof p&&(g?f(function(){y.valueOf.call(r)}):o(r)!=v)?u(new d(m(n)),r,p):m(n)};for(var x,w=r(10)?a(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;w.length>S;S++)i(d,x=w[S])&&!i(p,x)&&l(p,x,s(d,x));p.prototype=y,y.constructor=p,r(28)(e,v,p)}},function(t,n,r){var e=r(1);e(e.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,n,r){var e=r(1),i=r(3).isFinite;e(e.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,n,r){var e=r(1);e(e.S,"Number",{isInteger:r(168)})},function(t,n,r){var e=r(1);e(e.S,"Number",{isNaN:function(t){return t!=t}})},function(t,n,r){var e=r(1),i=r(168),o=Math.abs;e(e.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,n,r){var e=r(1);e(e.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,n,r){var e=r(1);e(e.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,n,r){var e=r(1),i=r(178);e(e.S+e.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,n,r){var e=r(1),i=r(179);e(e.S+e.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,n,r){"use strict";var e=r(1),i=r(67),o=r(159),u=r(149),c=1..toFixed,f=Math.floor,a=[0,0,0,0,0,0],s="Number.toFixed: incorrect invocation!",l="0",h=function(t,n){for(var r=-1,e=n;++r<6;)e+=t*a[r],a[r]=e%1e7,e=f(e/1e7)},v=function(t){for(var n=6,r=0;--n>=0;)r+=a[n],a[n]=f(r/t),r=r%t*1e7},p=function(){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==a[t]){var r=String(a[t]);n=""===n?r:n+u.call(l,7-r.length)+r}return n},d=function(t,n,r){return 0===n?r:n%2==1?d(t,n-1,r*t):d(t*t,n/2,r)},y=function(t){for(var n=0,r=t;r>=4096;)n+=12,r/=4096;for(;r>=2;)n+=1,r/=2;return n};e(e.P+e.F*(!!c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r(4)(function(){c.call({})})),"Number",{toFixed:function(t){var n,r,e,c,f=o(this,s),a=i(t),g="",b=l;if(a<0||a>20)throw RangeError(s);if(f!=f)return"NaN";if(f<=-1e21||f>=1e21)return String(f);if(f<0&&(g="-",f=-f),f>1e-21)if(n=y(f*d(2,69,1))-69,r=n<0?f*d(2,-n,1):f/d(2,n,1),r*=4503599627370496,(n=52-n)>0){for(h(0,r),e=a;e>=7;)h(1e7,0),e-=7;for(h(d(10,e,1),0),e=n-1;e>=23;)v(1<<23),e-=23;v(1<<e),h(1,1),v(2),b=p()}else h(0,r),h(1<<-n,0),b=p()+u.call(l,a);return a>0?(c=b.length,b=g+(c<=a?"0."+u.call(l,a-c)+b:b.slice(0,c-a)+"."+b.slice(c-a))):b=g+b,b}})},function(t,n,r){"use strict";var e=r(1),i=r(4),o=r(159),u=1..toPrecision;e(e.P+e.F*(i(function(){return"1"!==u.call(1,void 0)})||!i(function(){u.call({})})),"Number",{toPrecision:function(t){var n=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?u.call(n):u.call(n,t)}})},function(t,n,r){var e=r(1);e(e.S+e.F,"Object",{assign:r(172)})},function(t,n,r){var e=r(1);e(e.S,"Object",{create:r(70)})},function(t,n,r){var e=r(1);e(e.S+e.F*!r(10),"Object",{defineProperties:r(173)})},function(t,n,r){var e=r(1);e(e.S+e.F*!r(10),"Object",{defineProperty:r(11).f})},function(t,n,r){var e=r(6),i=r(65).onFreeze;r(49)("freeze",function(t){return function(n){return t&&e(n)?t(i(n)):n}})},function(t,n,r){var e=r(30),i=r(31).f;r(49)("getOwnPropertyDescriptor",function(){return function(t,n){return i(e(t),n)}})},function(t,n,r){r(49)("getOwnPropertyNames",function(){return r(174).f})},function(t,n,r){var e=r(17),i=r(32);r(49)("getPrototypeOf",function(){return function(t){return i(e(t))}})},function(t,n,r){var e=r(6);r(49)("isExtensible",function(t){return function(n){return!!e(n)&&(!t||t(n))}})},function(t,n,r){var e=r(6);r(49)("isFrozen",function(t){return function(n){return!e(n)||!!t&&t(n)}})},function(t,n,r){var e=r(6);r(49)("isSealed",function(t){return function(n){return!e(n)||!!t&&t(n)}})},function(t,n,r){var e=r(1);e(e.S,"Object",{is:r(180)})},function(t,n,r){var e=r(17),i=r(72);r(49)("keys",function(){return function(t){return i(e(t))}})},function(t,n,r){var e=r(6),i=r(65).onFreeze;r(49)("preventExtensions",function(t){return function(n){return t&&e(n)?t(i(n)):n}})},function(t,n,r){var e=r(6),i=r(65).onFreeze;r(49)("seal",function(t){return function(n){return t&&e(n)?t(i(n)):n}})},function(t,n,r){var e=r(1);e(e.S,"Object",{setPrototypeOf:r(144).set})},function(t,n,r){"use strict";var e=r(114),i={};i[r(7)("toStringTag")]="z",i+""!="[object z]"&&r(28)(Object.prototype,"toString",function(){return"[object "+e(this)+"]"},!0)},function(t,n,r){var e=r(1),i=r(178);e(e.G+e.F*(parseFloat!=i),{parseFloat:i})},function(t,n,r){var e=r(1),i=r(179);e(e.G+e.F*(parseInt!=i),{parseInt:i})},function(t,n,r){"use strict";var e,i,o,u=r(69),c=r(3),f=r(53),a=r(114),s=r(1),l=r(6),h=r(26),v=r(68),p=r(79),d=r(146),y=r(151).set,g=r(143)(),b="Promise",m=c.TypeError,x=c.process,w=c[b],x=c.process,S="process"==a(x),_=function(){},O=!!function(){try{var t=w.resolve(1),n=(t.constructor={})[r(7)("species")]=function(t){t(_,_)};return(S||"function"==typeof PromiseRejectionEvent)&&t.then(_)instanceof n}catch(t){}}(),E=function(t,n){return t===n||t===w&&n===o},P=function(t){var n;return!(!l(t)||"function"!=typeof(n=t.then))&&n},j=function(t){return E(w,t)?new F(t):new i(t)},F=i=function(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw m("Bad Promise constructor");n=t,r=e}),this.resolve=h(n),this.reject=h(r)},M=function(t){try{t()}catch(t){return{error:t}}},A=function(t,n){if(!t._n){t._n=!0;var r=t._c;g(function(){for(var e=t._v,i=1==t._s,o=0;r.length>o;)!function(n){var r,o,u=i?n.ok:n.fail,c=n.resolve,f=n.reject,a=n.domain;try{u?(i||(2==t._h&&I(t),t._h=1),!0===u?r=e:(a&&a.enter(),r=u(e),a&&a.exit()),r===n.promise?f(m("Promise-chain cycle")):(o=P(r))?o.call(r,c,f):c(r)):f(e)}catch(t){f(t)}}(r[o++]);t._c=[],t._n=!1,n&&!t._h&&N(t)})}},N=function(t){y.call(c,function(){var n,r,e,i=t._v;if(T(t)&&(n=M(function(){S?x.emit("unhandledRejection",i,t):(r=c.onunhandledrejection)?r({promise:t,reason:i}):(e=c.console)&&e.error&&e.error("Unhandled promise rejection",i)}),t._h=S||T(t)?2:1),t._a=void 0,n)throw n.error})},T=function(t){if(1==t._h)return!1;for(var n,r=t._a||t._c,e=0;r.length>e;)if(n=r[e++],n.fail||!T(n.promise))return!1;return!0},I=function(t){y.call(c,function(){var n;S?x.emit("rejectionHandled",t):(n=c.onrejectionhandled)&&n({promise:t,reason:t._v})})},k=function(t){var n=this;n._d||(n._d=!0,n=n._w||n,n._v=t,n._s=2,n._a||(n._a=n._c.slice()),A(n,!0))},L=function(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw m("Promise can't be resolved itself");(n=P(t))?g(function(){var e={_w:r,_d:!1};try{n.call(t,f(L,e,1),f(k,e,1))}catch(t){k.call(e,t)}}):(r._v=t,r._s=1,A(r,!1))}catch(t){k.call({_w:r,_d:!1},t)}}};O||(w=function(t){v(this,w,b,"_h"),h(t),e.call(this);try{t(f(L,this,1),f(k,this,1))}catch(t){k.call(this,t)}},e=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},e.prototype=r(73)(w.prototype,{then:function(t,n){var r=j(d(this,w));return r.ok="function"!=typeof t||t,r.fail="function"==typeof n&&n,r.domain=S?x.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&A(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),F=function(){var t=new e;this.promise=t,this.resolve=f(L,t,1),this.reject=f(k,t,1)}),s(s.G+s.W+s.F*!O,{Promise:w}),r(81)(w,b),r(74)(b),o=r(52)[b],s(s.S+s.F*!O,b,{reject:function(t){var n=j(this);return(0,n.reject)(t),n.promise}}),s(s.S+s.F*(u||!O),b,{resolve:function(t){if(t instanceof w&&E(t.constructor,this))return t;var n=j(this);return(0,n.resolve)(t),n.promise}}),s(s.S+s.F*!(O&&r(123)(function(t){w.all(t).catch(_)})),b,{all:function(t){var n=this,r=j(n),e=r.resolve,i=r.reject,o=M(function(){var r=[],o=0,u=1;p(t,!1,function(t){var c=o++,f=!1;r.push(void 0),u++,n.resolve(t).then(function(t){f||(f=!0,r[c]=t,--u||e(r))},i)}),--u||e(r)});return o&&i(o.error),r.promise},race:function(t){var n=this,r=j(n),e=r.reject,i=M(function(){p(t,!1,function(t){n.resolve(t).then(r.resolve,e)})});return i&&e(i.error),r.promise}})},function(t,n,r){var e=r(1),i=r(26),o=r(2),u=(r(3).Reflect||{}).apply,c=Function.apply;e(e.S+e.F*!r(4)(function(){u(function(){})}),"Reflect",{apply:function(t,n,r){var e=i(t),f=o(r);return u?u(e,n,f):c.call(e,n,f)}})},function(t,n,r){var e=r(1),i=r(70),o=r(26),u=r(2),c=r(6),f=r(4),a=r(163),s=(r(3).Reflect||{}).construct,l=f(function(){function t(){}return!(s(function(){},[],t)instanceof t)}),h=!f(function(){s(function(){})});e(e.S+e.F*(l||h),"Reflect",{construct:function(t,n){o(t),u(n);var r=arguments.length<3?t:o(arguments[2]);if(h&&!l)return s(t,n,r);if(t==r){switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3])}var e=[null];return e.push.apply(e,n),new(a.apply(t,e))}var f=r.prototype,v=i(c(f)?f:Object.prototype),p=Function.apply.call(t,v,n);return c(p)?p:v}})},function(t,n,r){var e=r(11),i=r(1),o=r(2),u=r(50);i(i.S+i.F*r(4)(function(){Reflect.defineProperty(e.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,n,r){o(t),n=u(n,!0),o(r);try{return e.f(t,n,r),!0}catch(t){return!1}}})},function(t,n,r){var e=r(1),i=r(31).f,o=r(2);e(e.S,"Reflect",{deleteProperty:function(t,n){var r=i(o(t),n);return!(r&&!r.configurable)&&delete t[n]}})},function(t,n,r){"use strict";var e=r(1),i=r(2),o=function(t){this._t=i(t),this._i=0;var n,r=this._k=[];for(n in t)r.push(n)};r(139)(o,"Object",function(){var t,n=this,r=n._k;do{if(n._i>=r.length)return{value:void 0,done:!0}}while(!((t=r[n._i++])in n._t));return{value:t,done:!1}}),e(e.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,n,r){var e=r(31),i=r(1),o=r(2);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,n){return e.f(o(t),n)}})},function(t,n,r){var e=r(1),i=r(32),o=r(2);e(e.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},function(t,n,r){function e(t,n){var r,c,s=arguments.length<3?t:arguments[2];return a(t)===s?t[n]:(r=i.f(t,n))?u(r,"value")?r.value:void 0!==r.get?r.get.call(s):void 0:f(c=o(t))?e(c,n,s):void 0}var i=r(31),o=r(32),u=r(24),c=r(1),f=r(6),a=r(2);c(c.S,"Reflect",{get:e})},function(t,n,r){var e=r(1);e(e.S,"Reflect",{has:function(t,n){return n in t}})},function(t,n,r){var e=r(1),i=r(2),o=Object.isExtensible;e(e.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},function(t,n,r){var e=r(1);e(e.S,"Reflect",{ownKeys:r(177)})},function(t,n,r){var e=r(1),i=r(2),o=Object.preventExtensions;e(e.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,n,r){var e=r(1),i=r(144);i&&e(e.S,"Reflect",{setPrototypeOf:function(t,n){i.check(t,n);try{return i.set(t,n),!0}catch(t){return!1}}})},function(t,n,r){function e(t,n,r){var f,h,v=arguments.length<4?t:arguments[3],p=o.f(s(t),n);if(!p){if(l(h=u(t)))return e(h,n,r,v);p=a(0)}return c(p,"value")?!(!1===p.writable||!l(v)||(f=o.f(v,n)||a(0),f.value=r,i.f(v,n,f),0)):void 0!==p.set&&(p.set.call(v,r),!0)}var i=r(11),o=r(31),u=r(32),c=r(24),f=r(1),a=r(66),s=r(2),l=r(6);f(f.S,"Reflect",{set:e})},function(t,n,r){var e=r(3),i=r(136),o=r(11).f,u=r(71).f,c=r(122),f=r(120),a=e.RegExp,s=a,l=a.prototype,h=/a/g,v=/a/g,p=new a(h)!==h;if(r(10)&&(!p||r(4)(function(){return v[r(7)("match")]=!1,a(h)!=h||a(v)==v||"/a/i"!=a(h,"i")}))){a=function(t,n){var r=this instanceof a,e=c(t),o=void 0===n;return!r&&e&&t.constructor===a&&o?t:i(p?new s(e&&!o?t.source:t,n):s((e=t instanceof a)?t.source:t,e&&o?f.call(t):n),r?this:l,a)};for(var d=u(s),y=0;d.length>y;)!function(t){t in a||o(a,t,{configurable:!0,get:function(){return s[t]},set:function(n){s[t]=n}})}(d[y++]);l.constructor=a,a.prototype=l,r(28)(e,"RegExp",a)}r(74)("RegExp")},function(t,n,r){r(119)("match",1,function(t,n,r){return[function(r){"use strict";var e=t(this),i=void 0==r?void 0:r[n];return void 0!==i?i.call(r,e):new RegExp(r)[n](String(e))},r]})},function(t,n,r){r(119)("replace",2,function(t,n,r){return[function(e,i){"use strict";var o=t(this),u=void 0==e?void 0:e[n];return void 0!==u?u.call(e,o,i):r.call(String(o),e,i)},r]})},function(t,n,r){r(119)("search",1,function(t,n,r){return[function(r){"use strict";var e=t(this),i=void 0==r?void 0:r[n];return void 0!==i?i.call(r,e):new RegExp(r)[n](String(e))},r]})},function(t,n,r){r(119)("split",2,function(t,n,e){"use strict";var i=r(122),o=e,u=[].push,c="split",f="length",a="lastIndex";if("c"=="abbc"[c](/(b)*/)[1]||4!="test"[c](/(?:)/,-1)[f]||2!="ab"[c](/(?:ab)*/)[f]||4!="."[c](/(.?)(.?)/)[f]||"."[c](/()()/)[f]>1||""[c](/.?/)[f]){var s=void 0===/()??/.exec("")[1];e=function(t,n){var r=String(this);if(void 0===t&&0===n)return[];if(!i(t))return o.call(r,t,n);var e,c,l,h,v,p=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),y=0,g=void 0===n?4294967295:n>>>0,b=new RegExp(t.source,d+"g");for(s||(e=new RegExp("^"+b.source+"$(?!\\s)",d));(c=b.exec(r))&&!((l=c.index+c[0][f])>y&&(p.push(r.slice(y,c.index)),!s&&c[f]>1&&c[0].replace(e,function(){for(v=1;v<arguments[f]-2;v++)void 0===arguments[v]&&(c[v]=void 0)}),c[f]>1&&c.index<r[f]&&u.apply(p,c.slice(1)),h=c[0][f],y=l,p[f]>=g));)b[a]===c.index&&b[a]++;return y===r[f]?!h&&b.test("")||p.push(""):p.push(r.slice(y)),p[f]>g?p.slice(0,g):p}}else"0"[c](void 0,0)[f]&&(e=function(t,n){return void 0===t&&0===n?[]:o.call(this,t,n)});return[function(r,i){var o=t(this),u=void 0==r?void 0:r[n];return void 0!==u?u.call(r,o,i):e.call(String(o),r,i)},e]})},function(t,n,r){"use strict";r(184);var e=r(2),i=r(120),o=r(10),u="toString",c=/./[u],f=function(t){r(28)(RegExp.prototype,u,t,!0)};r(4)(function(){return"/a/b"!=c.call({source:"a",flags:"b"})})?f(function(){var t=e(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):c.name!=u&&f(function(){return c.call(this)})},function(t,n,r){"use strict";r(29)("anchor",function(t){return function(n){return t(this,"a","name",n)}})},function(t,n,r){"use strict";r(29)("big",function(t){return function(){return t(this,"big","","")}})},function(t,n,r){"use strict";r(29)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,n,r){"use strict";r(29)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,n,r){"use strict";var e=r(1),i=r(147)(!1);e(e.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,n,r){"use strict";var e=r(1),i=r(16),o=r(148),u="endsWith",c=""[u];e(e.P+e.F*r(134)(u),"String",{endsWith:function(t){var n=o(this,t,u),r=arguments.length>1?arguments[1]:void 0,e=i(n.length),f=void 0===r?e:Math.min(i(r),e),a=String(t);return c?c.call(n,a,f):n.slice(f-a.length,f)===a}})},function(t,n,r){"use strict";r(29)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,n,r){"use strict";r(29)("fontcolor",function(t){return function(n){return t(this,"font","color",n)}})},function(t,n,r){"use strict";r(29)("fontsize",function(t){return function(n){return t(this,"font","size",n)}})},function(t,n,r){var e=r(1),i=r(75),o=String.fromCharCode,u=String.fromCodePoint;e(e.S+e.F*(!!u&&1!=u.length),"String",{fromCodePoint:function(t){for(var n,r=[],e=arguments.length,u=0;e>u;){if(n=+arguments[u++],i(n,1114111)!==n)throw RangeError(n+" is not a valid code point");r.push(n<65536?o(n):o(55296+((n-=65536)>>10),n%1024+56320))}return r.join("")}})},function(t,n,r){"use strict";var e=r(1),i=r(148),o="includes";e(e.P+e.F*r(134)(o),"String",{includes:function(t){return!!~i(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,n,r){"use strict";r(29)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,n,r){"use strict";var e=r(147)(!0);r(140)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,r=this._i;return r>=n.length?{value:void 0,done:!0}:(t=e(n,r),this._i+=t.length,{value:t,done:!1})})},function(t,n,r){"use strict";r(29)("link",function(t){return function(n){return t(this,"a","href",n)}})},function(t,n,r){var e=r(1),i=r(30),o=r(16);e(e.S,"String",{raw:function(t){for(var n=i(t.raw),r=o(n.length),e=arguments.length,u=[],c=0;r>c;)u.push(String(n[c++])),c<e&&u.push(String(arguments[c]));return u.join("")}})},function(t,n,r){var e=r(1);e(e.P,"String",{repeat:r(149)})},function(t,n,r){"use strict";r(29)("small",function(t){return function(){return t(this,"small","","")}})},function(t,n,r){"use strict";var e=r(1),i=r(16),o=r(148),u="startsWith",c=""[u];e(e.P+e.F*r(134)(u),"String",{startsWith:function(t){var n=o(this,t,u),r=i(Math.min(arguments.length>1?arguments[1]:void 0,n.length)),e=String(t);return c?c.call(n,e,r):n.slice(r,r+e.length)===e}})},function(t,n,r){"use strict";r(29)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,n,r){"use strict";r(29)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,n,r){"use strict";r(29)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,n,r){"use strict";r(82)("trim",function(t){return function(){return t(this,3)}})},function(t,n,r){"use strict";var e=r(3),i=r(24),o=r(10),u=r(1),c=r(28),f=r(65).KEY,a=r(4),s=r(126),l=r(81),h=r(76),v=r(7),p=r(182),d=r(153),y=r(206),g=r(205),b=r(138),m=r(2),x=r(30),w=r(50),S=r(66),_=r(70),O=r(174),E=r(31),P=r(11),j=r(72),F=E.f,M=P.f,A=O.f,N=e.Symbol,T=e.JSON,I=T&&T.stringify,k="prototype",L=v("_hidden"),R=v("toPrimitive"),C={}.propertyIsEnumerable,D=s("symbol-registry"),U=s("symbols"),W=s("op-symbols"),G=Object[k],B="function"==typeof N,V=e.QObject,z=!V||!V[k]||!V[k].findChild,q=o&&a(function(){return 7!=_(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(t,n,r){var e=F(G,n);e&&delete G[n],M(t,n,r),e&&t!==G&&M(G,n,e)}:M,K=function(t){var n=U[t]=_(N[k]);return n._k=t,n},J=B&&"symbol"==typeof N.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof N},Y=function(t,n,r){return t===G&&Y(W,n,r),m(t),n=w(n,!0),m(r),i(U,n)?(r.enumerable?(i(t,L)&&t[L][n]&&(t[L][n]=!1),r=_(r,{enumerable:S(0,!1)})):(i(t,L)||M(t,L,S(1,{})),t[L][n]=!0),q(t,n,r)):M(t,n,r)},H=function(t,n){m(t);for(var r,e=g(n=x(n)),i=0,o=e.length;o>i;)Y(t,r=e[i++],n[r]);return t},$=function(t,n){return void 0===n?_(t):H(_(t),n)},X=function(t){var n=C.call(this,t=w(t,!0));return!(this===G&&i(U,t)&&!i(W,t))&&(!(n||!i(this,t)||!i(U,t)||i(this,L)&&this[L][t])||n)},Q=function(t,n){if(t=x(t),n=w(n,!0),t!==G||!i(U,n)||i(W,n)){var r=F(t,n);return!r||!i(U,n)||i(t,L)&&t[L][n]||(r.enumerable=!0),r}},Z=function(t){for(var n,r=A(x(t)),e=[],o=0;r.length>o;)i(U,n=r[o++])||n==L||n==f||e.push(n);return e},tt=function(t){for(var n,r=t===G,e=A(r?W:x(t)),o=[],u=0;e.length>u;)!i(U,n=e[u++])||r&&!i(G,n)||o.push(U[n]);return o};B||(N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),n=function(r){this===G&&n.call(W,r),i(this,L)&&i(this[L],t)&&(this[L][t]=!1),q(this,t,S(1,r))};return o&&z&&q(G,t,{configurable:!0,set:n}),K(t)},c(N[k],"toString",function(){return this._k}),E.f=Q,P.f=Y,r(71).f=O.f=Z,r(116).f=X,r(125).f=tt,o&&!r(69)&&c(G,"propertyIsEnumerable",X,!0),p.f=function(t){return K(v(t))}),u(u.G+u.W+u.F*!B,{Symbol:N});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;nt.length>rt;)v(nt[rt++]);for(var nt=j(v.store),rt=0;nt.length>rt;)d(nt[rt++]);u(u.S+u.F*!B,"Symbol",{for:function(t){return i(D,t+="")?D[t]:D[t]=N(t)},keyFor:function(t){if(J(t))return y(D,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){z=!0},useSimple:function(){z=!1}}),u(u.S+u.F*!B,"Object",{create:$,defineProperty:Y,defineProperties:H,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Z,getOwnPropertySymbols:tt}),T&&u(u.S+u.F*(!B||a(function(){var t=N();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!J(t)){for(var n,r,e=[t],i=1;arguments.length>i;)e.push(arguments[i++]);return n=e[1],"function"==typeof n&&(r=n),!r&&b(n)||(n=function(t,n){if(r&&(n=r.call(this,t,n)),!J(n))return n}),e[1]=n,I.apply(T,e)}}}),N[k][R]||r(27)(N[k],R,N[k].valueOf),l(N,"Symbol"),l(Math,"Math",!0),l(e.JSON,"JSON",!0)},function(t,n,r){"use strict";var e=r(1),i=r(127),o=r(152),u=r(2),c=r(75),f=r(16),a=r(6),s=r(3).ArrayBuffer,l=r(146),h=o.ArrayBuffer,v=o.DataView,p=i.ABV&&s.isView,d=h.prototype.slice,y=i.VIEW,g="ArrayBuffer";e(e.G+e.W+e.F*(s!==h),{ArrayBuffer:h}),e(e.S+e.F*!i.CONSTR,g,{isView:function(t){return p&&p(t)||a(t)&&y in t}}),e(e.P+e.U+e.F*r(4)(function(){return!new h(2).slice(1,void 0).byteLength}),g,{slice:function(t,n){if(void 0!==d&&void 0===n)return d.call(u(this),t);for(var r=u(this).byteLength,e=c(t,r),i=c(void 0===n?r:n,r),o=new(l(this,h))(f(i-e)),a=new v(this),s=new v(o),p=0;e<i;)s.setUint8(p++,a.getUint8(e++));return o}}),r(74)(g)},function(t,n,r){var e=r(1);e(e.G+e.W+e.F*!r(127).ABV,{DataView:r(152).DataView})},function(t,n,r){r(55)("Float32",4,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Float64",8,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Int16",2,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Int32",4,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Int8",1,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Uint16",2,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Uint32",4,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Uint8",1,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Uint8",1,function(t){return function(n,r,e){return t(this,n,r,e)}},!0)},function(t,n,r){"use strict";var e=r(166);r(118)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return e.def(this,t,!0)}},e,!1,!0)},function(t,n,r){"use strict";var e=r(1),i=r(117)(!0);e(e.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(78)("includes")},function(t,n,r){var e=r(1),i=r(143)(),o=r(3).process,u="process"==r(45)(o);e(e.G,{asap:function(t){var n=u&&o.domain;i(n?n.bind(t):t)}})},function(t,n,r){var e=r(1),i=r(45);e(e.S,"Error",{isError:function(t){return"Error"===i(t)}})},function(t,n,r){var e=r(1);e(e.P+e.R,"Map",{toJSON:r(165)("Map")})},function(t,n,r){var e=r(1);e(e.S,"Math",{iaddh:function(t,n,r,e){var i=t>>>0,o=n>>>0,u=r>>>0;return o+(e>>>0)+((i&u|(i|u)&~(i+u>>>0))>>>31)|0}})},function(t,n,r){var e=r(1);e(e.S,"Math",{imulh:function(t,n){var r=65535,e=+t,i=+n,o=e&r,u=i&r,c=e>>16,f=i>>16,a=(c*u>>>0)+(o*u>>>16);return c*f+(a>>16)+((o*f>>>0)+(a&r)>>16)}})},function(t,n,r){var e=r(1);e(e.S,"Math",{isubh:function(t,n,r,e){var i=t>>>0,o=n>>>0,u=r>>>0;return o-(e>>>0)-((~i&u|~(i^u)&i-u>>>0)>>>31)|0}})},function(t,n,r){var e=r(1);e(e.S,"Math",{umulh:function(t,n){var r=65535,e=+t,i=+n,o=e&r,u=i&r,c=e>>>16,f=i>>>16,a=(c*u>>>0)+(o*u>>>16);return c*f+(a>>>16)+((o*f>>>0)+(a&r)>>>16)}})},function(t,n,r){"use strict";var e=r(1),i=r(17),o=r(26),u=r(11);r(10)&&e(e.P+r(124),"Object",{__defineGetter__:function(t,n){u.f(i(this),t,{get:o(n),enumerable:!0,configurable:!0})}})},function(t,n,r){"use strict";var e=r(1),i=r(17),o=r(26),u=r(11);r(10)&&e(e.P+r(124),"Object",{__defineSetter__:function(t,n){u.f(i(this),t,{set:o(n),enumerable:!0,configurable:!0})}})},function(t,n,r){var e=r(1),i=r(176)(!0);e(e.S,"Object",{entries:function(t){return i(t)}})},function(t,n,r){var e=r(1),i=r(177),o=r(30),u=r(31),c=r(131);e(e.S,"Object",{getOwnPropertyDescriptors:function(t){for(var n,r=o(t),e=u.f,f=i(r),a={},s=0;f.length>s;)c(a,n=f[s++],e(r,n));return a}})},function(t,n,r){"use strict";var e=r(1),i=r(17),o=r(50),u=r(32),c=r(31).f;r(10)&&e(e.P+r(124),"Object",{__lookupGetter__:function(t){var n,r=i(this),e=o(t,!0);do{if(n=c(r,e))return n.get}while(r=u(r))}})},function(t,n,r){"use strict";var e=r(1),i=r(17),o=r(50),u=r(32),c=r(31).f;r(10)&&e(e.P+r(124),"Object",{__lookupSetter__:function(t){var n,r=i(this),e=o(t,!0);do{if(n=c(r,e))return n.set}while(r=u(r))}})},function(t,n,r){var e=r(1),i=r(176)(!1);e(e.S,"Object",{values:function(t){return i(t)}})},function(t,n,r){"use strict";var e=r(1),i=r(3),o=r(52),u=r(143)(),c=r(7)("observable"),f=r(26),a=r(2),s=r(68),l=r(73),h=r(27),v=r(79),p=v.RETURN,d=function(t){return null==t?void 0:f(t)},y=function(t){var n=t._c;n&&(t._c=void 0,n())},g=function(t){return void 0===t._o},b=function(t){g(t)||(t._o=void 0,y(t))},m=function(t,n){a(t),this._c=void 0,this._o=t,t=new x(this);try{var r=n(t),e=r;null!=r&&("function"==typeof r.unsubscribe?r=function(){e.unsubscribe()}:f(r),this._c=r)}catch(n){return void t.error(n)}g(this)&&y(this)};m.prototype=l({},{unsubscribe:function(){b(this)}});var x=function(t){this._s=t};x.prototype=l({},{next:function(t){var n=this._s;if(!g(n)){var r=n._o;try{var e=d(r.next);if(e)return e.call(r,t)}catch(t){try{b(n)}finally{throw t}}}},error:function(t){var n=this._s;if(g(n))throw t;var r=n._o;n._o=void 0;try{var e=d(r.error);if(!e)throw t;t=e.call(r,t)}catch(t){try{y(n)}finally{throw t}}return y(n),t},complete:function(t){var n=this._s;if(!g(n)){var r=n._o;n._o=void 0;try{var e=d(r.complete);t=e?e.call(r,t):void 0}catch(t){try{y(n)}finally{throw t}}return y(n),t}}});var w=function(t){s(this,w,"Observable","_f")._f=f(t)};l(w.prototype,{subscribe:function(t){return new m(t,this._f)},forEach:function(t){var n=this;return new(o.Promise||i.Promise)(function(r,e){f(t);var i=n.subscribe({next:function(n){try{return t(n)}catch(t){e(t),i.unsubscribe()}},error:e,complete:r})})}}),l(w,{from:function(t){var n="function"==typeof this?this:w,r=d(a(t)[c]);if(r){var e=a(r.call(t));return e.constructor===n?e:new n(function(t){return e.subscribe(t)})}return new n(function(n){var r=!1;return u(function(){if(!r){try{if(v(t,!1,function(t){if(n.next(t),r)return p})===p)return}catch(t){if(r)throw t;return void n.error(t)}n.complete()}}),function(){r=!0}})},of:function(){for(var t=0,n=arguments.length,r=Array(n);t<n;)r[t]=arguments[t++];return new("function"==typeof this?this:w)(function(t){var n=!1;return u(function(){if(!n){for(var e=0;e<r.length;++e)if(t.next(r[e]),n)return;t.complete()}}),function(){n=!0}})}}),h(w.prototype,c,function(){return this}),e(e.G,{Observable:w}),r(74)("Observable")},function(t,n,r){var e=r(54),i=r(2),o=e.key,u=e.set;e.exp({defineMetadata:function(t,n,r,e){u(t,n,i(r),o(e))}})},function(t,n,r){var e=r(54),i=r(2),o=e.key,u=e.map,c=e.store;e.exp({deleteMetadata:function(t,n){var r=arguments.length<3?void 0:o(arguments[2]),e=u(i(n),r,!1);if(void 0===e||!e.delete(t))return!1;if(e.size)return!0;var f=c.get(n);return f.delete(r),!!f.size||c.delete(n)}})},function(t,n,r){var e=r(185),i=r(161),o=r(54),u=r(2),c=r(32),f=o.keys,a=o.key,s=function(t,n){var r=f(t,n),o=c(t);if(null===o)return r;var u=s(o,n);return u.length?r.length?i(new e(r.concat(u))):u:r};o.exp({getMetadataKeys:function(t){return s(u(t),arguments.length<2?void 0:a(arguments[1]))}})},function(t,n,r){var e=r(54),i=r(2),o=r(32),u=e.has,c=e.get,f=e.key,a=function(t,n,r){if(u(t,n,r))return c(t,n,r);var e=o(n);return null!==e?a(t,e,r):void 0};e.exp({getMetadata:function(t,n){return a(t,i(n),arguments.length<3?void 0:f(arguments[2]))}})},function(t,n,r){var e=r(54),i=r(2),o=e.keys,u=e.key;e.exp({getOwnMetadataKeys:function(t){
return o(i(t),arguments.length<2?void 0:u(arguments[1]))}})},function(t,n,r){var e=r(54),i=r(2),o=e.get,u=e.key;e.exp({getOwnMetadata:function(t,n){return o(t,i(n),arguments.length<3?void 0:u(arguments[2]))}})},function(t,n,r){var e=r(54),i=r(2),o=r(32),u=e.has,c=e.key,f=function(t,n,r){if(u(t,n,r))return!0;var e=o(n);return null!==e&&f(t,e,r)};e.exp({hasMetadata:function(t,n){return f(t,i(n),arguments.length<3?void 0:c(arguments[2]))}})},function(t,n,r){var e=r(54),i=r(2),o=e.has,u=e.key;e.exp({hasOwnMetadata:function(t,n){return o(t,i(n),arguments.length<3?void 0:u(arguments[2]))}})},function(t,n,r){var e=r(54),i=r(2),o=r(26),u=e.key,c=e.set;e.exp({metadata:function(t,n){return function(r,e){c(t,n,(void 0!==e?i:o)(r),u(e))}}})},function(t,n,r){var e=r(1);e(e.P+e.R,"Set",{toJSON:r(165)("Set")})},function(t,n,r){"use strict";var e=r(1),i=r(147)(!0);e(e.P,"String",{at:function(t){return i(this,t)}})},function(t,n,r){"use strict";var e=r(1),i=r(46),o=r(16),u=r(122),c=r(120),f=RegExp.prototype,a=function(t,n){this._r=t,this._s=n};r(139)(a,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),e(e.P,"String",{matchAll:function(t){if(i(this),!u(t))throw TypeError(t+" is not a regexp!");var n=String(this),r="flags"in f?String(t.flags):c.call(t),e=new RegExp(t.source,~r.indexOf("g")?r:"g"+r);return e.lastIndex=o(t.lastIndex),new a(e,n)}})},function(t,n,r){"use strict";var e=r(1),i=r(181);e(e.P,"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,n,r){"use strict";var e=r(1),i=r(181);e(e.P,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,n,r){"use strict";r(82)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,n,r){"use strict";r(82)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,n,r){r(153)("asyncIterator")},function(t,n,r){r(153)("observable")},function(t,n,r){var e=r(1);e(e.S,"System",{global:r(3)})},function(t,n,r){for(var e=r(155),i=r(28),o=r(3),u=r(27),c=r(80),f=r(7),a=f("iterator"),s=f("toStringTag"),l=c.Array,h=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],v=0;v<5;v++){var p,d=h[v],y=o[d],g=y&&y.prototype;if(g){g[a]||u(g,a,l),g[s]||u(g,s,d),c[d]=l;for(p in e)g[p]||i(g,p,e[p],!0)}}},function(t,n,r){var e=r(1),i=r(151);e(e.G+e.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,n,r){var e=r(3),i=r(1),o=r(121),u=r(207),c=e.navigator,f=!!c&&/MSIE .\./.test(c.userAgent),a=function(t){return f?function(n,r){return t(o(u,[].slice.call(arguments,2),"function"==typeof n?n:Function(n)),r)}:t};i(i.G+i.B+i.F*f,{setTimeout:a(e.setTimeout),setInterval:a(e.setInterval)})},function(t,n,r){r(330),r(269),r(271),r(270),r(273),r(275),r(280),r(274),r(272),r(282),r(281),r(277),r(278),r(276),r(268),r(279),r(283),r(284),r(236),r(238),r(237),r(286),r(285),r(256),r(266),r(267),r(257),r(258),r(259),r(260),r(261),r(262),r(263),r(264),r(265),r(239),r(240),r(241),r(242),r(243),r(244),r(245),r(246),r(247),r(248),r(249),r(250),r(251),r(252),r(253),r(254),r(255),r(317),r(322),r(329),r(320),r(312),r(313),r(318),r(323),r(325),r(308),r(309),r(310),r(311),r(314),r(315),r(316),r(319),r(321),r(324),r(326),r(327),r(328),r(231),r(233),r(232),r(235),r(234),r(220),r(218),r(224),r(221),r(227),r(229),r(217),r(223),r(214),r(228),r(212),r(226),r(225),r(219),r(222),r(211),r(213),r(216),r(215),r(230),r(155),r(302),r(307),r(184),r(303),r(304),r(305),r(306),r(287),r(183),r(185),r(186),r(342),r(331),r(332),r(337),r(340),r(341),r(335),r(338),r(336),r(339),r(333),r(334),r(288),r(289),r(290),r(291),r(292),r(295),r(293),r(294),r(296),r(297),r(298),r(299),r(301),r(300),r(343),r(369),r(372),r(371),r(373),r(374),r(370),r(375),r(376),r(354),r(357),r(353),r(351),r(352),r(355),r(356),r(346),r(368),r(377),r(345),r(347),r(349),r(348),r(350),r(359),r(360),r(362),r(361),r(364),r(363),r(365),r(366),r(367),r(344),r(358),r(380),r(379),r(378),t.exports=r(52)},function(t,n){function r(t,n){if("string"==typeof n)return t.insertAdjacentHTML("afterend",n);var r=t.nextSibling;return r?t.parentNode.insertBefore(n,r):t.parentNode.appendChild(n)}t.exports=r},,,,,,,,,function(t,n,r){(function(n,r){!function(n){"use strict";function e(t,n,r,e){var i=n&&n.prototype instanceof o?n:o,u=Object.create(i.prototype),c=new p(e||[]);return u._invoke=s(t,r,c),u}function i(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}function o(){}function u(){}function c(){}function f(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this._invoke(n,t)}})}function a(t){function n(r,e,o,u){var c=i(t[r],t,e);if("throw"!==c.type){var f=c.arg,a=f.value;return a&&"object"==typeof a&&m.call(a,"__await")?Promise.resolve(a.__await).then(function(t){n("next",t,o,u)},function(t){n("throw",t,o,u)}):Promise.resolve(a).then(function(t){f.value=t,o(f)},u)}u(c.arg)}function e(t,r){function e(){return new Promise(function(e,i){n(t,r,e,i)})}return o=o?o.then(e,e):e()}"object"==typeof r&&r.domain&&(n=r.domain.bind(n));var o;this._invoke=e}function s(t,n,r){var e=P;return function(o,u){if(e===F)throw new Error("Generator is already running");if(e===M){if("throw"===o)throw u;return y()}for(r.method=o,r.arg=u;;){var c=r.delegate;if(c){var f=l(c,r);if(f){if(f===A)continue;return f}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(e===P)throw e=M,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);e=F;var a=i(t,n,r);if("normal"===a.type){if(e=r.done?M:j,a.arg===A)continue;return{value:a.arg,done:r.done}}"throw"===a.type&&(e=M,r.method="throw",r.arg=a.arg)}}}function l(t,n){var r=t.iterator[n.method];if(r===g){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=g,l(t,n),"throw"===n.method))return A;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return A}var e=i(r,t.iterator,n.arg);if("throw"===e.type)return n.method="throw",n.arg=e.arg,n.delegate=null,A;var o=e.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=g),n.delegate=null,A):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,A)}function h(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function v(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function p(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(h,this),this.reset(!0)}function d(t){if(t){var n=t[w];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,e=function n(){for(;++r<t.length;)if(m.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=g,n.done=!0,n};return e.next=e}}return{next:y}}function y(){return{value:g,done:!0}}var g,b=Object.prototype,m=b.hasOwnProperty,x="function"==typeof Symbol?Symbol:{},w=x.iterator||"@@iterator",S=x.asyncIterator||"@@asyncIterator",_=x.toStringTag||"@@toStringTag",O="object"==typeof t,E=n.regeneratorRuntime;if(E)return void(O&&(t.exports=E));E=n.regeneratorRuntime=O?t.exports:{},E.wrap=e;var P="suspendedStart",j="suspendedYield",F="executing",M="completed",A={},N={};N[w]=function(){return this};var T=Object.getPrototypeOf,I=T&&T(T(d([])));I&&I!==b&&m.call(I,w)&&(N=I);var k=c.prototype=o.prototype=Object.create(N);u.prototype=k.constructor=c,c.constructor=u,c[_]=u.displayName="GeneratorFunction",E.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===u||"GeneratorFunction"===(n.displayName||n.name))},E.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,_ in t||(t[_]="GeneratorFunction")),t.prototype=Object.create(k),t},E.awrap=function(t){return{__await:t}},f(a.prototype),a.prototype[S]=function(){return this},E.AsyncIterator=a,E.async=function(t,n,r,i){var o=new a(e(t,n,r,i));return E.isGeneratorFunction(n)?o:o.next().then(function(t){return t.done?t.value:o.next()})},f(k),k[_]="Generator",k.toString=function(){return"[object Generator]"},E.keys=function(t){var n=[];for(var r in t)n.push(r);return n.reverse(),function r(){for(;n.length;){var e=n.pop();if(e in t)return r.value=e,r.done=!1,r}return r.done=!0,r}},E.values=d,p.prototype={constructor:p,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(v),!t)for(var n in this)"t"===n.charAt(0)&&m.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=g)},stop:function(){this.done=!0;var t=this.tryEntries[0],n=t.completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){function n(n,e){return o.type="throw",o.arg=t,r.next=n,e&&(r.method="next",r.arg=g),!!e}if(this.done)throw t;for(var r=this,e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=m.call(i,"catchLoc"),c=m.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc<=this.prev&&m.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var i=e;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=n,i?(this.method="next",this.next=i.finallyLoc,A):this.complete(o)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),A},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),v(r),A}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var e=r.completion;if("throw"===e.type){var i=e.arg;v(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:d(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=g),A}}}("object"==typeof n?n:"object"==typeof window?window:"object"==typeof self?self:this)}).call(n,function(){return this}(),r(158))}])</script><script src="/./main.0cf68a.js"></script><script>!function(){!function(e){var t=document.createElement("script");document.getElementsByTagName("body")[0].appendChild(t),t.setAttribute("src",e)}("/slider.e37972.js")}()</script>


    
<div class="tools-col" q-class="show:isShow,hide:isShow|isFalse" q-on="click:stop(e)">
  <div class="tools-nav header-menu">
    
    
      
      
      
    
      
      
      
    
      
      
      
    
    

    <ul style="width: 70%">
    
    
      
      <li style="width: 33.333333333333336%" q-on="click: openSlider(e, 'innerArchive')"><a href="javascript:void(0)" q-class="active:innerArchive">æ‰€æœ‰æ–‡ç« </a></li>
      
        
      
      <li style="width: 33.333333333333336%" q-on="click: openSlider(e, 'friends')"><a href="javascript:void(0)" q-class="active:friends">å‹é“¾</a></li>
      
        
      
      <li style="width: 33.333333333333336%" q-on="click: openSlider(e, 'aboutme')"><a href="javascript:void(0)" q-class="active:aboutme">å…³äºæˆ‘</a></li>
      
        
    </ul>
  </div>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all" q-show="innerArchive">
        <div class="search-wrap">
          <input class="search-ipt" q-model="search" type="text" placeholder="find somethingâ€¦">
          <i class="icon-search icon" q-show="search|isEmptyStr"></i>
          <i class="icon-close icon" q-show="search|isNotEmptyStr" q-on="click:clearChose(e)"></i>
        </div>
        <div class="widget tagcloud search-tag">
          <p class="search-tag-wording">tag:</p>
          <label class="search-switch">
            <input type="checkbox" q-on="click:toggleTag(e)" q-attr="checked:showTags">
          </label>
          <ul class="article-tag-list" q-show="showTags">
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">iOS</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">Android</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">Java</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">æ•°æ®ç»“æ„</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">CocoaPods</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">Git</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">git</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">Hexo</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">mysql</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">MySql</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">RxSwift</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">swift</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">Swift</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">Cocoapods</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">Vim</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">hexo</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">MAC OS</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">java</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">æ•°æ®åº“</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">çˆ¬è™«</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">å°ç¨‹åº</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">JAVA</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">ç½‘ç»œ</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">Other</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">å‰ç«¯</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">éšç¬”</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">ç®—æ³•</a>
              </li>
            
            <div class="clearfix"></div>
          </ul>
        </div>
        <ul class="search-ul">
          <p q-show="jsonFail" style="padding: 20px; font-size: 12px;">
            ç¼ºå¤±æ¨¡å—ã€‚<br/>1ã€è¯·ç¡®ä¿nodeç‰ˆæœ¬å¤§äº6.2<br/>2ã€åœ¨åšå®¢æ ¹ç›®å½•ï¼ˆæ³¨æ„ä¸æ˜¯yiliaæ ¹ç›®å½•ï¼‰æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š<br/> npm i hexo-generator-json-content --save<br/><br/>
            3ã€åœ¨æ ¹ç›®å½•_config.ymlé‡Œæ·»åŠ é…ç½®ï¼š
<pre style="font-size: 12px;" q-show="jsonFail">
  jsonContent:
    meta: false
    pages: false
    posts:
      title: true
      date: true
      path: true
      text: false
      raw: false
      content: false
      slug: false
      updated: false
      comments: false
      link: false
      permalink: false
      excerpt: false
      categories: false
      tags: true
</pre>
          </p>
          <li class="search-li" q-repeat="items" q-show="isShow">
            <a q-attr="href:path|urlformat" class="search-title"><i class="icon-quo-left icon"></i><span q-text="title"></span></a>
            <p class="search-time">
              <i class="icon-calendar icon"></i>
              <span q-text="date|dateformat"></span>
            </p>
            <p class="search-tag">
              <i class="icon-price-tags icon"></i>
              <span q-repeat="tags" q-on="click:choseTag(e, name)" q-text="name|tagformat"></span>
            </p>
          </li>
        </ul>
    	</section>
    

    
    	<section class="tools-section tools-section-friends" q-show="friends">
  		
        <ul class="search-ul">
          
            <li class="search-li">
              <a href="http://www.baidu.com/" target="_blank" class="search-title"><i class="icon-quo-left icon"></i>å‹æƒ…é“¾æ¥1</a>
            </li>
          
        </ul>
  		
    	</section>
    

    
    	<section class="tools-section tools-section-me" q-show="aboutme">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">å¾ˆæƒ­æ„§&lt;br&gt;&lt;br&gt;åªåšäº†ä¸€ç‚¹å¾®å°çš„å·¥ä½œ&lt;br&gt;è°¢è°¢å¤§å®¶</div>
  	  	
    	</section>
    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>